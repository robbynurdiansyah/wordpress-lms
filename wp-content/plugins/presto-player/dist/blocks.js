(()=>{var e,t,r={34:(e,t,r)=>{"use strict";r.d(t,{u:()=>i});var n=r(467),o=r(9280),a=r.n(o),l=r(3370),i=function(){var e=(0,n.A)(a().mark(function e(t,r){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof window){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,(0,l.g)();case 4:return e.abrupt("return",(0,l.b)([["presto-playlist",[[257,"presto-playlist",{items:[16],heading:[1],listTextSingular:[1,"list-text-singular"],listTextPlural:[1,"list-text-plural"],transitionDuration:[2,"transition-duration"],currentPlaylistItem:[32],currentPlyr:[32],playing:[32]},[[0,"rewatch","rewatch"],[0,"next","next"]],{currentPlyr:["handleCurrentPlay"],currentPlaylistItem:["resetPlayingStateOnItemChange"]}]]],["presto-player-skeleton",[[257,"presto-player-skeleton",{effect:[1]}]]],["presto-timestamp",[[260,"presto-timestamp",{time:[1]}]]],["presto-video-curtain-ui",[[257,"presto-video-curtain-ui",{actionUrl:[1,"action-url"]}]]],["presto-search-bar-ui",[[257,"presto-search-bar-ui",{value:[1025],placeholder:[1],hasNavigation:[4,"has-navigation"],focused:[32],placeholderWidth:[32]},null,{placeholder:["handlePlaceholderSize"],value:["handleValueChange"],focused:["watchPropHandler"]}]]],["presto-player-button",[[257,"presto-player-button",{type:[513],size:[513],full:[516],disabled:[516],submit:[516],name:[1],value:[1],href:[1],target:[513],download:[1],hasFocus:[32],hasLabel:[32],hasPrefix:[32],hasSuffix:[32]}]]],["presto-cta-overlay-ui",[[257,"presto-cta-overlay-ui",{headline:[1],defaultHeadline:[1,"default-headline"],bottomText:[1,"bottom-text"],showButton:[4,"show-button"],buttonText:[1,"button-text"],buttonType:[1,"button-type"],buttonLink:[16,"button-link"],allowRewatch:[4,"allow-rewatch"],allowSkip:[4,"allow-skip"],direction:[1],i18n:[16,"i-1-8n"],provider:[1],type:[1],isAudioProvider:[32]}]]],["presto-video",[[256,"presto-video",{getRef:[1040,"get-ref"],autoplay:[4],src:[1],preload:[1],poster:[1],player:[8],tracks:[16],playsinline:[4],provider:[1],videoAttributes:[16,"video-attributes"]}]]],["presto-action-bar-ui_2",[[257,"presto-action-bar-ui",{open:[4]}],[256,"presto-youtube-subscribe-button",{channel:[1],layout:[1],showCount:[4,"show-count"]}]]],["presto-email-overlay-ui_2",[[257,"presto-email-overlay-ui",{headline:[1],bottomText:[1,"bottom-text"],buttonText:[1,"button-text"],allowSkip:[4,"allow-skip"],borderRadius:[2,"border-radius"],isLoading:[4,"is-loading"],errorMessage:[1,"error-message"],direction:[1],i18n:[16,"i-1-8n"],provider:[1],type:[1],email:[32],isAudioProvider:[32]}],[257,"presto-player-spinner"]]],["presto-action-bar_17",[[257,"presto-action-bar",{player:[8],config:[16],direction:[1],youtube:[16],currentTime:[32],duration:[32],ended:[32]},null,{player:["handlePlayerChange"]}],[256,"presto-cta-overlay",{player:[8],direction:[1],preset:[16],i18n:[16,"i-1-8n"],provider:[1],currentTime:[32],duration:[32],ended:[32]}],[256,"presto-email-overlay",{player:[8],direction:[1],preset:[16],videoId:[2,"video-id"],i18n:[16,"i-1-8n"],provider:[1],currentTime:[32],duration:[32],ended:[32]}],[256,"presto-bunny",{getRef:[1040,"get-ref"],autoplay:[4],src:[1],preload:[1],poster:[1025],player:[8],tracks:[16],playsinline:[4],provider:[1],thumbnail:[1],previewUrl:[1,"preview-url"],videoAttributes:[16,"video-attributes"]}],[257,"presto-dynamic-overlays",{overlays:[16],player:[8],preset:[16],enabled:[4],currentTime:[32],destroy:[32]}],[256,"presto-search-bar",{value:[1],player:[8],markers:[32],currentMarkerLocation:[32]}],[256,"presto-youtube",{src:[1],poster:[1025],lazyLoad:[1028,"lazy-load"],player:[8],getRef:[1040,"get-ref"],reloadPlayer:[32],isWebView:[32]},null,{player:["handlePlayerChange"]}],[256,"presto-audio",{getRef:[1040,"get-ref"],autoplay:[4],src:[1],preload:[1],poster:[1],player:[8],preset:[16],tracks:[16],provider:[1],mediaTitle:[1,"media-title"],audioAttributes:[16,"audio-attributes"],width:[32]}],[260,"presto-business-skin"],[260,"presto-modern-skin"],[256,"presto-muted-overlay",{mutedPreview:[4,"muted-preview"],mutedOverlay:[16,"muted-overlay"],preset:[16]}],[260,"presto-stacked-skin"],[256,"presto-vimeo",{src:[1],poster:[1],player:[8],getRef:[1040,"get-ref"]}],[257,"presto-action-bar-controller",{ended:[4],config:[16],currentTime:[514,"current-time"],duration:[514],direction:[1],youtube:[16],show:[32],youtubeRenderKey:[32],percentagePassed:[32]},null,{duration:["handleDuration","handlePercentagePassed"],ended:["handleEnded"],currentTime:["handlePercentagePassed","handleTime"],config:["handleButtonCountChange"],show:["handleCtaStateChange"]}],[256,"presto-cta-overlay-controller",{ended:[4],currentTime:[514,"current-time"],duration:[514],direction:[1],cta:[16],i18n:[16,"i-1-8n"],provider:[1],enabled:[32],show:[32],loading:[32],error:[32],skipped:[32],percentagePassed:[32]},null,{ended:["handleEnded"],duration:["handleDuration","handlePercentagePassed"],currentTime:["handlePercentagePassed","handleEnabled","handleTime"],show:["handleCtaStateChange"]}],[256,"presto-email-overlay-controller",{ended:[4],currentTime:[514,"current-time"],duration:[514],direction:[1],emailCollection:[16,"email-collection"],i18n:[16,"i-1-8n"],videoId:[2,"video-id"],presetId:[2,"preset-id"],provider:[1],enabled:[32],show:[32],loading:[32],error:[32],percentagePassed:[32]},null,{duration:["handleDuration"],currentTime:["handleTimeCheck","handleShowChange"],show:["handleEmailStateChange"]}],[257,"presto-dynamic-overlay-ui",{href:[1],target:[1],position:[1]}]]],["presto-player_4",[[257,"presto-player",{iconUrl:[1,"icon-url"],src:[1],type:[1],autoplay:[1540],preload:[1],poster:[1],playsinline:[4],isAdmin:[4,"is-admin"],direction:[1],css:[1],currentTime:[2,"current-time"],mediaTitle:[1,"media-title"],classes:[1],videoAttributes:[16,"video-attributes"],audioAttributes:[16,"audio-attributes"],markers:[8],automations:[4],providerVideoId:[1,"provider-video-id"],videoId:[2,"video-id"],analytics:[4],provider:[1],lazyLoadYoutube:[4,"lazy-load-youtube"],preset:[6152],branding:[6152],chapters:[6152],overlays:[6152],tracks:[6152],blockAttributes:[6152,"block-attributes"],config:[6152],youtube:[6152],actionBar:[6152,"action-bar"],bunny:[6152],i18n:[6152,"i-1-8n"],search:[6152],player:[32],playerEl:[32],shouldLazyLoad:[32],mutedPreview:[32],duration:[32],isSticky:[32],videoHeight:[32],playClass:[32],previouslyPlaying:[32],ctaActive:[32],emailActive:[32],actionBarActive:[32],ready:[32],play:[64],goToAndPlay:[64],restart:[64],pause:[64],stop:[64],fullscreenToggle:[64],on:[64],once:[64],off:[64]},[[8,"currentMediaPlayer","handleScroll"],[0,"restartVideo","handleRestartVideo"],[0,"playVideo","handlePlayVideo"],[0,"pauseVideo","handlePauseVideo"],[8,"visibilitychange","playVideoOnlyInViewport"],[0,"ctaStateChange","handleCtaStateChange"],[0,"emailStateChange","handleEmailStateChange"],[0,"actionBarStateChange","handleActionBarStateChange"]],{currentTime:["handleCurrentTimeChange"],isSticky:["handleStickyChange"],playerEl:["handlePlayerElementChange"],player:["handlePlayerElementChange"],mutedPreview:["handleMutedPreview"],shouldLazyLoad:["handleLazyLoadChange"],overlays:["renderDynamicOverlays"],preset:["renderDynamicOverlays"]}],[257,"presto-playlist-item",{active:[4],playing:[4]}],[257,"presto-playlist-overlay",{nextItemTitle:[1,"next-item-title"],nextItemString:[1,"next-item-string"],transitionDuration:[2,"transition-duration"],isLastItem:[4,"is-last-item"],show:[4],animating:[32]},null,{show:["handleShow"],animating:["handleAnimatingChange"]}],[257,"presto-playlist-ui"]]]],r));case 5:case"end":return e.stop()}},e)}));return function(_x,t){return e.apply(this,arguments)}}()},114:(e,t,r)=>{"use strict";r.d(t,{E:()=>v,T:()=>c,c:()=>d,h:()=>i,w:()=>u});var n=r(1609),o=r(7046),a=r(825),l=r(4999),i=Object.prototype.hasOwnProperty,s=(0,n.createContext)("undefined"!=typeof HTMLElement?(0,o.A)():null),c=(0,n.createContext)({}),u=(s.Provider,function(e){var t=function(t,r){return(0,n.createElement)(s.Consumer,null,function(n){return e(t,n,r)})};return(0,n.forwardRef)(t)}),p="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",d=function(e,t){var r={};for(var n in t)i.call(t,n)&&(r[n]=t[n]);return r[p]=e,r},f=function(){return null},y=function(e,t,r,o){var s=null===r?t.css:t.css(r);"string"==typeof s&&void 0!==e.registered[s]&&(s=e.registered[s]);var c=t[p],u=[s],d="";"string"==typeof t.className?d=(0,a.R)(e.registered,u,t.className):null!=t.className&&(d=t.className+" ");var y=(0,l.J)(u);(0,a.s)(e,y,"string"==typeof c),d+=e.key+"-"+y.name;var v={};for(var h in t)i.call(t,h)&&"css"!==h&&h!==p&&(v[h]=t[h]);v.ref=o,v.className=d;var m=(0,n.createElement)(c,v),g=(0,n.createElement)(f,null);return(0,n.createElement)(n.Fragment,null,g,m)},v=u(function(e,t,r){return"function"==typeof e.css?(0,n.createElement)(c.Consumer,null,function(n){return y(t,e,n,r)}):y(t,e,null,r)})},355:(e,t,r)=>{"use strict";r.r(t),r.d(t,{name:()=>ye,options:()=>ve});var n=r(5458),o=r(4467),a=(r(6087),r(3453)),l=r(4715),i=r(7038),s=r(4593),c=r(3333),u=r(2485),p=r.n(u),d=r(1808),f=r(7437),y=window.location.href,v=wp.components,h=v.Button,m=(v.Notice,v.Placeholder),g=(v.DropZone,v.withFilters),__=(v.BaseControl,v.ToggleControl,v.FormFileUpload,wp.i18n.__),b=wp.element,w=b.useState,_=b.useEffect,k=wp.data.useSelect,x=(wp.deprecated,wp.editor),A=x.MediaUpload,Y=x.MediaUploadCheck,C=x.URLPopover,P=function(e){var t=e.src,r=e.onChange,n=e.onSubmit,o=e.onClose;return(0,f.Y)(C,{onClose:o},(0,f.Y)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:n},(0,f.Y)("input",{"data-cy":"url-input",className:"block-editor-media-placeholder__url-input-field",type:"url","aria-label":__("URL","presto-player"),placeholder:__("Paste or type a Youtube, Vimeo or .mp4 video URL","presto-player"),onChange:r,value:t}),(0,f.Y)(h,{"data-cy":"url-submit",className:"block-editor-media-placeholder__url-input-submit-button",icon:"editor-break",label:__("Apply","presto-player"),type:"submit"})))};const S=g("editor.MediaPlaceholder")(function(e){var t=e.value,r=void 0===t?{}:t,n=e.allowedTypes,o=void 0===n?[]:n,l=e.className,i=e.icon,s=e.url,c=void 0===s||s,u=e.labels,v=void 0===u?{}:u,g=e.mediaPreview,b=e.notices,x=e.isAppender,C=e.isPrivate,S=e.addToGallery,O=e.onSelect,E=e.onCancel,$=e.onSelectURL,N=e.onDoubleClick,T=e.children,j=e.allowURLs,R=k(function(e){return(0,e("core/block-editor").getSettings)().mediaUpload},[]),I=w(""),B=(0,a.A)(I,2),L=B[0],D=B[1],M=w(!1),F=(0,a.A)(M,2),H=F[0],V=F[1];_(function(){var e;D(null!==(e=null==r?void 0:r.src)&&void 0!==e?e:"")},[r]);var U=function(e){D(e.target.value)},z=function(){V(!0)},G=function(){V(!1)},W=function(e){e.preventDefault(),L&&$&&($(L),G())},Z=function(e,t){var r=v.instructions,n=v.title;R||$||(r=__("To edit this block, you need permission to upload media.","presto-player"));var o=p()("block-editor-media-placeholder",l,{"is-appender":x});return(0,f.Y)(m,{icon:i,label:n,instructions:r,className:o,notices:b,onClick:t,onDoubleClick:N,preview:g},T,e)},q=function(){return $&&(0,f.Y)("div",{className:"block-editor-media-placeholder__url-input-container"},c&&(0,f.Y)(h,{"data-cy":"video-url",className:"block-editor-media-placeholder__button",onClick:z,isPressed:H,isTertiary:!0},__("Video URL","presto-player")),H&&(0,f.Y)(P,{src:L,onChange:U,onSubmit:W,onClose:G}))};return(0,f.Y)(Y,{fallback:Z(q())},function(){var e=(0,f.Y)(A,{title:__(C?"Select or Upload Private Video":"Select or Upload Video","presto-player"),addToGallery:S,gallery:!1,multiple:!1,onSelect:function(e){d.A.unsetUrlParams(),O(e)},onClose:function(){d.A.unsetUrlParams()},allowedTypes:o,value:Array.isArray(r)?r.map(function(e){return e.id}):r.id,render:function(e){var t=e.open;return(0,f.Y)(h,{"data-cy":"add-video",isPrimary:!0,onClick:function(e){e.stopPropagation(),d.A.unsetUrlParams(),C?d.A.setUrlPrivate(y):d.A.setUrlPublic(y),t()}},__(C?"Add/Select Private Video":"Add/Select Video","presto-player"))}});if(R){var t=(0,f.Y)(React.Fragment,null,e,!!j&&q(),E&&(0,f.Y)(h,{className:"block-editor-media-placeholder__cancel-button",title:__("Cancel","presto-player"),isLink:!0,onClick:E},__("Cancel","presto-player")));return Z(t)}return Z(e)}())});var O=r(5862),E=wp.i18n.__,$=wp.components,N=$.withNotices,T=$.BaseControl,j=$.ToggleControl,R=$.Notice,I=wp.data.dispatch,B=["video"];const L=N(function(e){var t,r=e.noticeUI,n=e.onSelect,o=e.children,a=e.onSelectURL,l=e.onUploadError,i=e.setAttributes,s=e.attributes,c="private"===s.visibility;return(0,f.Y)("div",null,(0,f.Y)(S,{icon:c?(0,f.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.Y)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,f.Y)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})):(0,f.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.Y)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,f.Y)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),labels:{title:E(c?"Presto Private Video":"Presto Video","presto-player"),instructions:E(c?"Upload a video file, or pick one from your media library.":"Upload a video file, pick one from your media library, or add one with a URL.","presto-player")},onSelect:n,onSelectURL:a,switcher:!0,isPrivate:c,allowURLs:!c,accept:"video/*",setAttributes:i,allowedTypes:B,value:s,notices:r,onError:l},(0,f.Y)("div",{style:{width:"100%"}},(0,f.Y)(T,{className:"presto-player__placeholder-control"},(0,f.Y)(j,{label:(0,f.Y)("div",null,E("Make Private","presto-player")," ",!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,f.Y)(O.A,null)),help:E(c?"This video is only accessible to those who are logged in.":"This video is currently accessible to everyone.","presto-player"),checked:c,onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?i({visibility:e?"private":"public"}):I("presto-player/player").setProModal(!0)}})),!!o&&(0,f.Y)("div",{style:{width:"100%"}},o),!!c&&(0,f.Y)(R,{status:"warning",isDismissible:!1},(0,f.Y)("div",null,(0,f.Y)("div",null,(0,f.Y)("strong",null,E("Note","presto-player"))),E("Private videos use php to stream your video. Keep in mind this will use up disk space and bandwidth so it may not be an appropriate choice for some hosts.","presto-player"))))))});var D=r(1690),M=r(2396),F=r(8580),H=r(7753),V=wp.i18n.__,U=wp.blob,z=U.getBlobByURL,G=U.isBlobURL,W=wp.components,Z=W.Button,q=W.Disabled,X=W.Toolbar,K=W.Notice,Q=W.withNotices,J=W.Placeholder,ee=W.Spinner,te=wp.compose.compose,re=wp.element,ne=re.useEffect,oe=re.useState,ae=wp.data.dispatch,le=wp.blocks.createBlock,ie=["video"];const se=te([(0,c.A)(),(0,s.A)()])(Q(function(e){var t=e.attributes,r=e.setAttributes,n=e.noticeOperations,o=e.branding,s=e.loading,c=e.presetData,u=e.createVideo,p=e.onRemoveSrc,d=e.renderKey,y=e.lockSave,v=e.unlockSave,h=e.clientId,m=e.defaultPreset,g=t.poster,b=t.src,w=t.id,_=t.tracks,k=oe(""),x=(0,a.A)(k,2),A=x[0],Y=x[1],C=function(e){n.removeAllNotices(),n.createErrorNotice(null==e?void 0:e.message)};return ne(function(){if(!w&&G(b)){var e=z(b);e&&mediaUpload({filesList:[e],onFileChange:function(e){var t=(0,a.A)(e,1)[0].url;r({src:t})},onError:function(e){n.createErrorNotice(e)},allowedTypes:ie})}},[]),b?s||!w?(0,f.Y)(J,{className:"presto-player__placeholder is-loading"},(0,f.Y)(ee,null)):(0,f.Y)("div",null,(0,f.Y)(l.BlockControls,null,(0,f.Y)(D.A,{tracks:_,onChange:function(e){r({tracks:e})}}),(0,f.Y)(X,null,(0,f.Y)(Z,{onClick:function(){return p()}},V("Replace","presto-player"))),(0,f.Y)(H.A,null)),(0,f.Y)(l.InspectorControls,null,(0,f.Y)(M.A,{setAttributes:r,attributes:t})),(0,f.Y)("figure",null,(0,f.Y)(q,null,(0,f.Y)(F.A,{poster:g,src:b,id:w,type:"hosted",attributes:t,setAttributes:r,preset:c,branding:o,key:d})))):(0,f.Y)("div",null,(0,f.Y)(L,{onSelect:function(e){e&&e.url?(r({src:e.url,preset:null==m?void 0:m.id,attachment_id:e.id}),y(),u({src:e.url,type:"attachment",attachment_id:e.id}).catch(function(e){r({src:""}),C(e)}).finally(v)):r({src:void 0,id:void 0})},onSelectURL:function(e){var t;if(r({attachment_id:null}),!e||!(0,i.oU)(e)||null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium){if(e!==b){var n=(0,i.C9)(e).type;if("youtube"===n){var o=le("presto-player/youtube",{src:e});return void ae("core/editor").replaceBlock(h,o)}if("vimeo"===n){var a=le("presto-player/vimeo",{src:e});return void ae("core/editor").replaceBlock(h,a)}r({src:e,attachmend_id:null}),r({preset:null==m?void 0:m.id}),y(),u({src:e,type:"link"}).catch(function(e){r({src:""}),C(e)}).finally(v)}}else Y((0,f.Y)(K,{status:"info",onRemove:function(){return Y("")}},(0,f.Y)("div",null,(0,f.Y)("div",null,(0,f.Y)("strong",null,V("Get HLS Streaming and more with Presto Player Pro!","presto-player"))),V("Stream HLS links and more with Presto Player Pro.","presto-player"),(0,f.Y)("div",{style:{marginTop:"1em"}},(0,f.Y)(Z,{isPrimary:!0},V("Upgrade","presto-player"))))))},setAttributes:r,attributes:t,onError:function(e){n.removeAllNotices(),n.createErrorNotice(e)}},A))}));var ce,ue=r(9042);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach(function(t){(0,o.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var fe=wp.i18n.__,ye="presto-player/self-hosted",ve=de(de({},ue.A),{},{usesContext:["presto-player/playlist-media-id"],variations:(0,n.A)(null!==(ce=prestoPlayer)&&void 0!==ce&&ce.isPremium?[{name:"private",title:fe("Presto Private Video","presto-player"),icon:(0,f.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.Y)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,f.Y)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})),description:fe("Private video self-hosted block.","presto-player"),attributes:{visibility:"private"}}]:[]),icon:(0,f.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.Y)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,f.Y)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),edit:se})},390:(e,t,r)=>{"use strict";r.d(t,{C:()=>p,Cv:()=>C,G1:()=>i,K2:()=>y,Nc:()=>x,OW:()=>h,Sh:()=>g,Tb:()=>_,Tp:()=>d,VF:()=>w,YL:()=>f,c4:()=>b,di:()=>m,mw:()=>k,nf:()=>Y,rH:()=>u,se:()=>v});var n=r(9735),o=1,a=1,l=0,i=0,s=0,c="";function u(e,t,r,n,l,i,s){return{value:e,root:t,parent:r,type:n,props:l,children:i,line:o,column:a,length:s,return:""}}function p(e,t){return(0,n.kp)(u("",null,null,"",null,null,0),e,{length:-e.length},t)}function d(){return s}function f(){return s=i>0?(0,n.wN)(c,--i):0,a--,10===s&&(a=1,o--),s}function y(){return s=i<l?(0,n.wN)(c,i++):0,a++,10===s&&(a=1,o++),s}function v(){return(0,n.wN)(c,i)}function h(){return i}function m(e,t){return(0,n.c1)(c,e,t)}function g(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function b(e){return o=a=1,l=(0,n.b2)(c=e),i=0,[]}function w(e){return c="",e}function _(e){return(0,n.Bq)(m(i-1,A(91===e?e+2:40===e?e+1:e)))}function k(e){for(;(s=v())&&s<33;)y();return g(e)>2||g(s)>3?"":" "}function x(e,t){for(;--t&&y()&&!(s<48||s>102||s>57&&s<65||s>70&&s<97););return m(e,h()+(t<6&&32==v()&&32==y()))}function A(e){for(;y();)switch(s){case e:return i;case 34:case 39:34!==e&&39!==e&&A(s);break;case 40:41===e&&A(e);break;case 92:y()}return i}function Y(e,t){for(;y()&&e+s!==57&&(e+s!==84||47!==v()););return"/*"+m(t,i-1)+"*"+(0,n.HT)(47===e?e:y())}function C(e){for(;!g(v());)y();return m(e,i)}},460:(e,t,r)=>{"use strict";r.d(t,{J:()=>v});var n=r(9626),o=r(7162),a=r(6289),l=/[A-Z]|^ms/g,i=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},u=(0,a.A)(function(e){return s(e)?e:e.replace(l,"-$&").toLowerCase()}),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(i,function(e,t,r){return f={name:t,styles:r,next:f},t})}return 1===o.A[e]||s(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return f={name:r.name,styles:r.styles,next:f},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)f={name:n.name,styles:n.styles,next:f},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=d(e,t,r[o])+";";else for(var a in r){var l=r[a];if("object"!=typeof l)null!=t&&void 0!==t[l]?n+=a+"{"+t[l]+"}":c(l)&&(n+=u(a)+":"+p(a,l)+";");else if(!Array.isArray(l)||"string"!=typeof l[0]||null!=t&&void 0!==t[l[0]]){var i=d(e,t,l);switch(a){case"animation":case"animationName":n+=u(a)+":"+i+";";break;default:n+=a+"{"+i+"}"}}else for(var s=0;s<l.length;s++)c(l[s])&&(n+=u(a)+":"+p(a,l[s])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=f,a=r(e);return f=o,d(e,t,a)}}if(null==t)return r;var l=t[r];return void 0!==l?l:r}var f,y=/label:\s*([^\s;\n{]+)\s*(;|$)/g,v=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,a="";f=void 0;var l=e[0];null==l||void 0===l.raw?(o=!1,a+=d(r,t,l)):a+=l[0];for(var i=1;i<e.length;i++)a+=d(r,t,e[i]),o&&(a+=l[i]);y.lastIndex=0;for(var s,c="";null!==(s=y.exec(a));)c+="-"+s[1];return{name:(0,n.A)(a)+c,styles:a,next:f}}},467:(e,t,r)=>{"use strict";function n(e,t,r,n,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(o,a){var l=e.apply(t,r);function i(e){n(l,o,a,i,s,"next",e)}function s(e){n(l,o,a,i,s,"throw",e)}i(void 0)})}}r.d(t,{A:()=>o})},483:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,l:()=>a});var n=r(4534),o=r(9735);function a(e,t){for(var r="",n=(0,o.FK)(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function l(e,t,r,l){switch(e.type){case n.yE:case n.LU:return e.return=e.return||e.value;case n.YK:return"";case n.Sv:return e.return=e.value+"{"+a(e.children,l)+"}";case n.XZ:e.value=e.props.join(",")}return(0,o.b2)(r=a(e.children,l))?e.return=e.value+"{"+r+"}":""}},560:(e,t,r)=>{const n=r(3908);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},628:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var n,o,a,l,i,s,c,u,p,d,f,y,v,h,m=r(7528),g=(r(6087),r(9067)),b=r(7723),w=r(5862);const _=function(e){var t,r,_=e.triggerType,k=e.onTriggerTypeSelect;return(0,g.Y)("div",{css:(0,g.AH)(n||(n=(0,m.A)(["\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n        gap: 16px;\n        width: 100%;\n        max-width: 600px;\n        margin: 0 auto;\n      "])))},(0,g.Y)("div",{css:(0,g.AH)(o||(o=(0,m.A)(["\n          border: 1px solid #e2e4e7;\n          border-radius: 4px;\n          padding: 16px;\n          text-align: center;\n          cursor: pointer;\n          transition: all 0.2s;\n          position: relative;\n          ","\n          &:hover {\n            border-color: #007cba;\n            box-shadow: 0 0 0 1px #007cba;\n          }\n        "])),"image"===_&&"background-color: #f0f6fc; border-color: #007cba;"),onClick:function(){return k("image")}},(0,g.Y)("div",{css:(0,g.AH)(a||(a=(0,m.A)(["\n            background: #f1f1f1;\n            width: 48px;\n            height: 48px;\n            border-radius: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin: 0 auto 12px;\n          "])))},(0,g.Y)("span",{className:"dashicons dashicons-format-image"})),(0,g.Y)("div",{css:(0,g.AH)(l||(l=(0,m.A)(["\n            font-weight: 500;\n          "])))},(0,b.__)("Image","presto-player")),(0,g.Y)("div",{css:(0,g.AH)(i||(i=(0,m.A)(["\n            font-size: 12px;\n            color: #757575;\n            margin-top: 4px;\n          "])))},(0,b.__)("Image thumbnail trigger","presto-player"))),(0,g.Y)("div",{css:(0,g.AH)(s||(s=(0,m.A)(["\n          border: 1px solid #e2e4e7;\n          border-radius: 4px;\n          padding: 16px;\n          text-align: center;\n          cursor: pointer;\n          transition: all 0.2s;\n          position: relative;\n          ","\n          &:hover {\n            border-color: #007cba;\n            box-shadow: 0 0 0 1px #007cba;\n          }\n        "])),"button"===_&&"background-color: #f0f6fc; border-color: #007cba;"),onClick:function(){return k("button")}},(0,g.Y)("div",{css:(0,g.AH)(c||(c=(0,m.A)(["\n            background: #f1f1f1;\n            width: 48px;\n            height: 48px;\n            border-radius: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin: 0 auto 12px;\n          "])))},(0,g.Y)("span",{className:"dashicons dashicons-button"})),(0,g.Y)("div",{css:(0,g.AH)(u||(u=(0,m.A)(["\n            font-weight: 500;\n          "])))},(0,b.__)("Button","presto-player")),(0,g.Y)("div",{css:(0,g.AH)(p||(p=(0,m.A)(["\n            font-size: 12px;\n            color: #757575;\n            margin-top: 4px;\n          "])))},(0,b.__)("Simple button trigger","presto-player"))),(0,g.Y)("div",{css:(0,g.AH)(d||(d=(0,m.A)(["\n          border: 1px solid #e2e4e7;\n          border-radius: 4px;\n          padding: 16px;\n          text-align: center;\n          cursor: pointer;\n          transition: all 0.2s;\n          position: relative;\n          ","\n          &:hover {\n            border-color: #007cba;\n            box-shadow: 0 0 0 1px #007cba;\n          }\n        "])),"custom"===_&&"background-color: #f0f6fc; border-color: #007cba;"),onClick:function(){return k("custom")}},!(null!==(t=prestoPlayer)&&void 0!==t&&null!==(r=t.hasRequiredProVersion)&&void 0!==r&&r.popups)&&(0,g.Y)("div",{css:(0,g.AH)(f||(f=(0,m.A)(["\n              position: absolute;\n              top: 8px;\n              right: 8px;\n            "])))},(0,g.Y)(w.A,null)),(0,g.Y)("div",{css:(0,g.AH)(y||(y=(0,m.A)(["\n            background: #f1f1f1;\n            width: 48px;\n            height: 48px;\n            border-radius: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin: 0 auto 12px;\n          "])))},(0,g.Y)("span",{className:"dashicons dashicons-edit"})),(0,g.Y)("div",{css:(0,g.AH)(v||(v=(0,m.A)(["\n            font-weight: 500;\n          "])))},(0,b.__)("Custom","presto-player")),(0,g.Y)("div",{css:(0,g.AH)(h||(h=(0,m.A)(["\n            font-size: 12px;\n            color: #757575;\n            margin-top: 4px;\n          "])))},(0,b.__)("Create your own trigger","presto-player"))))}},692:e=>{"use strict";e.exports=window.wp.notices},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},825:(e,t,r)=>{"use strict";function n(e,t,r){var n="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "}),n}r.d(t,{R:()=>n,s:()=>o});var o=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+n,o,e.sheet,!0),o=o.next}while(void 0!==o)}}},997:(e,t,r)=>{"use strict";r.d(t,{A:()=>A});var n=r(467),o=r(3453),a=(r(6087),r(9280)),l=r.n(a),i=r(5862),s=r(7437),__=wp.i18n.__,c=wp.components,u=c.ColorPicker,p=c.Button,d=c.withNotices,f=c.BaseControl,y=c.RangeControl,v=wp.blockEditor,h=v.MediaUpload,m=v.MediaUploadCheck,g=wp.compose.useInstanceId,b=wp.element.useState,w=wp.data,_=w.dispatch,k=w.useSelect,x=["image"];const A=d(function e(t){t.setAttributes,t.attributes;var r,a=t.type,c=g(e),d=b(1),v=(0,o.A)(d,2),w=v[0],A=v[1],Y=k(function(e){return e("presto-player/player").branding()}),C=function(){var e=(0,n.A)(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("presto-player/player").saveOptions({branding:Y});case 2:wp.data.dispatch("core/notices").createNotice("success","Player branding saved.",{type:"snackbar",isDismissible:!0});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return(0,s.Y)("div",{className:"presto-player__panel--branding"},"audio"!==a&&(0,s.Y)("p",null,__("Here you can select the global player branding This will apply to all players on the site.","presto-player")),(0,s.Y)(m,null,(0,s.Y)(f,{className:"editor-video-poster-control"},"audio"!==a&&(0,s.Y)(React.Fragment,null,(0,s.Y)(f.VisualLabel,null,(0,s.Y)("p",null,__("Logo Overlay","presto-player")," ",!(null!==(r=prestoPlayer)&&void 0!==r&&r.isPremium)&&(0,s.Y)(i.A,null))),(0,s.Y)(h,{title:__("Select logo overlay image","presto-player"),onSelect:function(e){_("presto-player/player").updateBranding("logo",e.url)},allowedTypes:x,render:function(e){var t=e.open;return(0,s.Y)(p,{className:"presto-setting__logo",isSecondary:!0,onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?t():_("presto-player/player").setProModal(!0)},"aria-describedby":"video-block__logo-image-description-".concat(c)},null!=Y&&Y.logo?__("Replace","presto-player"):__("Select","presto-player"))}})),(0,s.Y)("p",{id:"video-block__logo-image-description-".concat(c),hidden:!0},null!=Y&&Y.logo?sprintf(/* translators: %s: poster image URL. */
__("The current logo image url is %s","presto-player"),null==Y?void 0:Y.logo):__("There is no logo image currently selected","presto-player")),!(null==Y||!Y.logo)&&(0,s.Y)(p,{onClick:function(){_("presto-player/player").updateBranding("logo","")},isTertiary:!0},__("Remove","presto-player")))),!(null==Y||!Y.logo)&&(0,s.Y)(y,{label:__("Logo Max Width","presto-player"),value:(null==Y?void 0:Y.logo_width)||150,onChange:function(e){return _("presto-player/player").updateBranding("logo_width",e)},min:1,max:400}),(0,s.Y)(u,{color:null==Y?void 0:Y.color,onChangeComplete:function(e){_("presto-player/player").updateBranding("color",e.hex)},key:w,disableAlpha:!0}),(null==Y?void 0:Y.color)&&(0,s.Y)(f,null,(0,s.Y)(p,{isSecondary:!0,onClick:function(){var e,t;_("presto-player/player").updateBranding("color",(null===(e=prestoPlayer)||void 0===e||null===(t=e.defaults)||void 0===t?void 0:t.color)||"#00b3ff"),A(w+1)}},__("Reset Color","presto-player"))),(0,s.Y)(p,{isPrimary:!0,onClick:C},__("Save Branding","presto-player")))})},1067:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5573),o=r(790);const a=(0,o.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(n.Path,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-1 1.4l-5.6 5.6c-.1.1-.3.1-.4 0l-5.6-5.6c-.1-.1-.1-.3 0-.4l5.6-5.6s.1-.1.2-.1.1 0 .2.1l5.6 5.6c.1.1.1.3 0 .4zm-16.6-.4L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"})})},1123:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},1232:(e,t,r)=>{"use strict";r.d(t,{S:()=>n,e:()=>o});var n=function(e){return e.toLowerCase().split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("")},o=function(e){return e.replace(/([A-Z])/g,function(e){return"-".concat(e[0].toLowerCase())})}},1287:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var n=r(1609),o=!!n.useInsertionEffect&&n.useInsertionEffect||function(e){return e()}},1383:(e,t,r)=>{"use strict";r.r(t),r.d(t,{name:()=>C,options:()=>P});var n=r(4467),o=(r(6087),r(4715)),a=r(4593),l=r(3333),i=r(2396),s=r(8580),c=r(8704),u=r(7038),p=r(9715),d=r(7753),f=r(7437),y=wp.components,v=y.Button,h=y.Disabled,m=y.Toolbar,g=y.Placeholder,b=y.Spinner,w=y.withNotices,_=wp.element.useEffect,__=wp.i18n.__;const k=(0,wp.compose.compose)([(0,l.A)(),(0,a.A)()])(w(function(e){var t=e.attributes,r=e.setAttributes,n=e.noticeOperations,a=e.branding,l=e.createVideo,y=e.loading,w=e.presetData,k=e.onRemoveSrc,x=e.lockSave,A=e.unlockSave,Y=e.renderKey,C=t.poster,P=t.src,S=t.id,O=(0,p.ZC)(P);return _(function(){O&&r({id:0});var e=(0,u.b3)(P);r({video_id:e}),x(),l({src:P,external_id:e,type:"youtube"}).catch(function(e){r({src:""}),function(e){n.removeAllNotices(),n.createErrorNotice(null==e?void 0:e.message)}(e)}).finally(A)},[P]),P?y||!S?(0,f.Y)(g,{className:"presto-player__placeholder is-loading"},(0,f.Y)(b,null)):(0,f.Y)(React.Fragment,null,(0,f.Y)(o.BlockControls,null,(0,f.Y)(m,null,(0,f.Y)(v,{onClick:function(){return k()}},__("Replace","presto-player"))),(0,f.Y)(d.A,null)),(0,f.Y)(o.InspectorControls,null,(0,f.Y)(i.A,{setAttributes:r,attributes:t})),(0,f.Y)("figure",null,(0,f.Y)(h,null,(0,f.Y)(s.A,{poster:C,src:P,type:"youtube",id:S,attributes:t,setAttributes:r,preset:w,branding:a,key:Y})))):(0,f.Y)("div",null,(0,f.Y)(c.A,{icon:(0,f.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.Y)("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),(0,f.Y)("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})),label:__("Presto Youtube Video","presto-player"),instructions:__("Enter Youtube Video URL","presto-player"),placeholder:__("Youtube URL","presto-player"),attributes:t,setAttributes:r,onSelectURL:function(e){e!==P&&r({src:e})}}))}));var x=r(9042);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var C="presto-player/youtube",P=Y(Y({},x.A),{},{usesContext:["presto-player/playlist-media-id"],attributes:Y(Y({},x.A.attributes),{},{video_id:{type:String}}),icon:(0,f.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.Y)("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),(0,f.Y)("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})),edit:k})},1423:(e,t,r)=>{"use strict";r.d(t,{q:()=>i});var n=r(5458),o=r(3647),a=r(7143),l=r(4997),i=function(e){var t=(0,a.useDispatch)("core/block-editor").replaceInnerBlocks;return{replaceTemplate:function(r){var a=r.type,i=r.provider,s=r.mediaId,c=void 0===s?null:s,u=r.imageUrl,p=void 0===u?null:u;if(e){var d=[],f=[],y=p?o[a](p):o[a]();y?((i||c)&&(d=["presto-player/popup-media",{},[c?["presto-player/reusable-display",{id:c}]:["presto-player/".concat(i),{}]]]),y.length>0&&(f=[y]),d.length>0&&(f=[].concat((0,n.A)(f),[d])),t(e,(0,l.createBlocksFromInnerBlocksTemplate)(f))):console.warn('replaceTemplate: template for type "'.concat(a,'" not found'))}else console.warn("replaceTemplate: clientId is required")}}}},1455:e=>{"use strict";e.exports=window.wp.apiFetch},1609:e=>{"use strict";e.exports=window.React},1690:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});var n=r(5458),o=r(3453),a=r(4467),l=(r(6087),r(7437));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c=wp.i18n,__=c.__,u=c.sprintf,p=wp.components,d=p.NavigableMenu,f=p.MenuItem,y=p.FormFileUpload,v=p.MenuGroup,h=p.ToolbarGroup,m=p.ToolbarButton,g=p.Dropdown,b=(p.SVG,p.Rect,p.Path,p.Button),w=p.TextControl,_=(p.SelectControl,wp.blockEditor),k=_.MediaUpload,x=_.MediaUploadCheck,A=wp.data.useSelect,Y=wp.element.useState,C=["text/vtt"],P=(0,l.Y)("svg",{viewBox:"0 0 29 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.Y)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5014 20.2854H28.6316V0.764648H0.110825V20.2854H11.241L14.3712 24.2854L17.5014 20.2854ZM14.3712 21.0401L16.5269 18.2854H26.6316V2.76465H2.11082V18.2854H12.2155L14.3712 21.0401Z"}),(0,l.Y)("path",{d:"M10.4503 14.9446C9.56226 14.9446 8.76226 14.7606 8.05026 14.3926C7.33826 14.0166 6.77826 13.4966 6.37026 12.8326C5.97026 12.1606 5.77026 11.4006 5.77026 10.5526C5.77026 9.70464 5.97026 8.94864 6.37026 8.28464C6.77826 7.61264 7.33826 7.09264 8.05026 6.72464C8.76226 6.34864 9.56226 6.16064 10.4503 6.16064C11.2663 6.16064 11.9943 6.30464 12.6343 6.59264C13.2743 6.88064 13.8023 7.29664 14.2183 7.84064L12.4303 9.43664C11.9103 8.78064 11.2983 8.45264 10.5943 8.45264C10.0023 8.45264 9.52626 8.64464 9.16626 9.02864C8.80626 9.40464 8.62626 9.91264 8.62626 10.5526C8.62626 11.1926 8.80626 11.7046 9.16626 12.0886C9.52626 12.4646 10.0023 12.6526 10.5943 12.6526C11.2983 12.6526 11.9103 12.3246 12.4303 11.6686L14.2183 13.2646C13.8023 13.8086 13.2743 14.2246 12.6343 14.5126C11.9943 14.8006 11.2663 14.9446 10.4503 14.9446Z"}),(0,l.Y)("path",{d:"M19.2042 14.9446C18.3162 14.9446 17.5162 14.7606 16.8042 14.3926C16.0922 14.0166 15.5322 13.4966 15.1242 12.8326C14.7242 12.1606 14.5242 11.4006 14.5242 10.5526C14.5242 9.70464 14.7242 8.94864 15.1242 8.28464C15.5322 7.61264 16.0922 7.09264 16.8042 6.72464C17.5162 6.34864 18.3162 6.16064 19.2042 6.16064C20.0202 6.16064 20.7482 6.30464 21.3882 6.59264C22.0282 6.88064 22.5562 7.29664 22.9722 7.84064L21.1842 9.43664C20.6642 8.78064 20.0522 8.45264 19.3482 8.45264C18.7562 8.45264 18.2802 8.64464 17.9202 9.02864C17.5602 9.40464 17.3802 9.91264 17.3802 10.5526C17.3802 11.1926 17.5602 11.7046 17.9202 12.0886C18.2802 12.4646 18.7562 12.6526 19.3482 12.6526C20.0522 12.6526 20.6642 12.3246 21.1842 11.6686L22.9722 13.2646C22.5562 13.8086 22.0282 14.2246 21.3882 14.5126C20.7482 14.8006 20.0202 14.9446 19.2042 14.9446Z"}));function S(e){var t,r=e.tracks,n=e.onEditPress;return t=0===r.length?(0,l.Y)("p",{className:"block-library-video-tracks-editor__tracks-informative-message"},__("Captions are .vtt files that help make your content more accesible to a wider range of users.","presto-player")):r.map(function(e,t){return(0,l.Y)("div",{key:t,className:"block-library-video-tracks-editor__track-list-track"},(0,l.Y)("span",null,e.label," "),(0,l.Y)(b,{isTertiary:!0,onClick:function(){return n(t)},"aria-label":u(/* translators: %s: Label of the video text track e.g: "French subtitles" */
__("Edit %s","presto-player"),e.label)},__("Edit","presto-player")))}),(0,l.Y)(v,{label:__("Captions","presto-player"),className:"block-library-video-tracks-editor__track-list"},t)}function O(e){var t=e.track,r=e.onChange,n=e.onClose,o=e.onRemove,a=t.src,i=void 0===a?"":a,c=t.label,u=void 0===c?"":c,p=t.srcLang,f=void 0===p?"":p,y=(t.kind,i.startsWith("blob:")?"":i.substring(i.lastIndexOf("/")+1));return(0,l.Y)(d,null,(0,l.Y)("div",{className:"block-library-video-tracks-editor__single-track-editor"},(0,l.Y)("span",{className:"block-library-video-tracks-editor__single-track-editor-edit-track-label"},__("Edit caption track","presto-player")),(0,l.Y)("span",null,__("File","presto-player"),": ",(0,l.Y)("b",null,y)),(0,l.Y)("div",{className:"block-library-video-tracks-editor__single-track-editor-label-language"},(0,l.Y)(w,{autoFocus:!0,onChange:function(e){return r(s(s({},t),{},{label:e}))},label:__("Label","presto-player"),value:u,help:__("Title of track","presto-player")}),(0,l.Y)(w,{onChange:function(e){return r(s(s({},t),{},{srcLang:e}))},label:__("Source language","presto-player"),value:f,help:__("Language tag (en, fr, etc.)","presto-player")})),(0,l.Y)("div",{className:"block-library-video-tracks-editor__single-track-editor-buttons-container"},(0,l.Y)(b,{isSecondary:!0,onClick:function(){var e={},o=!1;""===u&&(e.label=__("English","presto-player"),o=!0),""===f&&(e.srcLang="en",o=!0),o&&r(s(s({},t),e)),n()}},__("Close","presto-player")),(0,l.Y)(b,{isDestructive:!0,isLink:!0,onClick:o},__("Remove track","presto-player")))))}function E(e){var t=e.tracks,r=void 0===t?[]:t,a=e.onChange,i=A(function(e){return e("core/block-editor").getSettings().mediaUpload},[]),c=Y(null),u=(0,o.A)(c,2),p=u[0],b=u[1];return i?(0,l.Y)(g,{contentClassName:"block-library-video-tracks-editor",renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return(0,l.Y)(h,null,(0,l.Y)(m,{label:__("Captions","presto-player"),showTooltip:!0,"aria-expanded":t,"aria-haspopup":"true",onClick:r,icon:P}))},renderContent:function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),null!==p?(0,l.Y)(O,{track:r[p],onChange:function(e){var t=(0,n.A)(r);t[p]=e,a(t)},onClose:function(){return b(null)},onRemove:function(){a(r.filter(function(e,t){return t!==p})),b(null)}}):(0,l.Y)(React.Fragment,null,(0,l.Y)(d,null,(0,l.Y)(S,{tracks:r,onEditPress:b}),(0,l.Y)(v,{className:"block-library-video-tracks-editor__add-tracks-container",label:__("Add caption languages","presto-player")},(0,l.Y)(k,{onSelect:function(e){var t=e.url,o=r.length;a([].concat((0,n.A)(r),[{src:t}])),b(o)},allowedTypes:C,render:function(e){var t=e.open;return(0,l.Y)(f,{icon:"media",onClick:t},__("Open Media Library","presto-player"))}}),(0,l.Y)(x,null,(0,l.Y)(y,{onChange:function(e){var t=e.target.files,l=r.length;i({allowedTypes:C,filesList:t,onFileChange:function(e){var t=(0,o.A)(e,1)[0].url,i=(0,n.A)(r);i[l]||(i[l]={}),i[l]=s(s({},r[l]),{},{src:t}),a(i),b(l)}})},accept:".vtt,text/vtt",render:function(e){var t=e.openFileDialog;return(0,l.Y)(f,{icon:"upload",onClick:function(){t()}},__("Upload","presto-player"))}})))))}}):null}},1778:(e,t,r)=>{"use strict";var n=r(7723),o=r(4997),a=r(5573),l=r(790);const i=(0,l.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(a.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})});(0,o.registerBlockVariation)("core/cover",{icon:i,name:"presto-player/popup-cover-trigger",title:(0,n.__)("Image","presto-player"),description:(0,n.__)("Opens the popup when image is clicked.","presto-player"),scope:[],attributes:{className:"presto-popup-cover-trigger"},isActive:["className"]})},1808:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={setUrlPrivate:function(){var e=-1===window.location.href.indexOf("?")?"?":"&",t=window.location.href+e+"presto_video_type=private";window.history.pushState({path:t},"",t)},setUrlPublic:function(){var e=-1===window.location.href.indexOf("?")?"?":"&",t=window.location.href+e+"presto_video_type=public";window.history.pushState({path:t},"",t)},unsetUrlParams:function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=new URL(e);return t.forEach(function(e){r.searchParams.delete(e)}),r.href}(window.location.href,["presto_video_type"]);window.history.pushState({path:e},"",e)}}},1885:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var n=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}()},2284:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})},2327:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2284);function o(e,t){if("object"!==(0,n.A)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==(0,n.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},2391:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5573),o=r(790);const a=(0,o.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(n.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})})},2396:(e,t,r)=>{"use strict";r.d(t,{A:()=>Lr});var n=r(7528),o=r(6087),a=r(9067),l=r(6427),i=r(1067),s=r(8351),c=r(7723),u=r(7143),p=r(3582),d=r(997),f=r(7589),y=r(5862),v=r(3453),h=r(5458),m=r(4467),g=r(5532),b=r(9715),w=r(8580),_=r(7437);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,m.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const A=function(e){var t,r,n,a=e.state,i=e.branding,s=e.menu,u=e.src,p=e.poster,d=e.currentTime,f=e.preload,y=e.overlays,h=e.isDisabled,m=void 0===h||h,k=(0,o.useState)(1),A=(0,v.A)(k,2),Y=A[0],C=A[1],P=a.email_collection,S=a.cta,O=a.search;(0,o.useEffect)(function(){C(Y+1)},[a.skin,a["play-large"],a.rewind,a.play,a["fast-forward"],a.progress,a["current-time"],a.mute,a.volume,a.speed,a.pip,a.fullscreen,a.captions,a.hide_logo]);var E={email:!(null==P||!P.enabled)&&(0,_.Y)(g.OG,{className:"email-overlay",slot:"player-end",headline:null==P?void 0:P.headline,style:x(x({"--presto-player-email-border-radiuss":"".concat(null==P?void 0:P.button_radius,"px"),"--plyr-color-main":(null==a?void 0:a.background_color)||(null==i?void 0:i.color)},P.button_color?{"--presto-player-button-color":"".concat(P.button_color)}:{}),P.button_text_color?{"--presto-player-button-text":"".concat(P.button_text_color)}:{}),defaultHeadline:(0,c.__)("Enter your email to play.","presto-player"),bottomText:null==P?void 0:P.bottom_text,allowSkip:null==P?void 0:P.allow_skip,skipText:(0,c.__)("Skip","presto-player"),buttonText:null==P?void 0:P.button_text,placeholder:(0,c.__)("Email address","presto-player"),i18n:window.prestoPlayer.i18n}),cta:!(null==S||!S.enabled)&&(0,_.Y)(g.QS,{className:"cta-overlay",style:x(x(x({"--presto-player-button-border-radius":"".concat(S.button_radius,"px")},null!=S&&S.background_opacity?{"--presto-player-cta-background-opacity":"".concat((null==S?void 0:S.background_opacity)/100)}:{}),S.button_color?{"--presto-player-button-color":"".concat(S.button_color)}:{}),S.button_text_color?{"--presto-player-button-text":"".concat(S.button_text_color)}:{}),slot:"player-end",headline:null==S?void 0:S.headline,"bottom-text":null==S?void 0:S.bottom_text,"button-link":null==S?void 0:S.button_link,"allow-skip":100!==(null==S?void 0:S.percentage)&&(null==S?void 0:S.show_skip),borderRadius:null==S?void 0:S.border_radius,"allow-rewatch":100===(null==S?void 0:S.percentage)&&(null==S?void 0:S.show_rewatch),"skip-text":(0,c.__)("Skip","presto-player"),"show-button":null==S?void 0:S.show_button,"button-text":null==S?void 0:S.button_text,i18n:null===(t=window)||void 0===t||null===(r=t.prestoPlayer)||void 0===r?void 0:r.i18n})};return(0,_.Y)(l.Disabled,{isDisabled:m,className:"disable-player",style:{width:"100%"}},(0,_.Y)("div",{className:"presto-player__wrapper"},(0,_.Y)(w.A,{src:u||"",className:"\n            ".concat("cta"===s&&!(null==S||!S.enabled)&&"cta-active"," \n            ").concat("email"===s&&!(null==P||!P.enabled)&&"email-active","\n            ").concat("search"===s&&!(null==O||!O.enabled)&&"search-active"),preset:a,branding:x(x({},i),{},{logo:null!=a&&a.hide_logo?"":i.logo}),i18n:null===(n=prestoPlayerAdmin)||void 0===n?void 0:n.i18n,preload:f,attributes:{chapters:[],poster:p},currentTime:d?(0,b.wG)(d):"",overlays:y,key:Y,adminPreview:(null==E?void 0:E[s])||""})))};var Y=r(6079),__=wp.i18n.__,C=wp.components.TextareaControl,P=wp.element.useState;const S=function(e){var t=e.text,r=e.update,n=e.onFocus,o=P(!1),a=(0,v.A)(o,2),l=a[0],i=a[1];return(0,_.Y)("div",{style:{display:"block",width:"100%"}},(0,_.Y)(C,{label:"Text",help:(0,_.Y)("span",null,__("This field accepts","presto-player")," ",(0,_.Y)("a",{href:"#",onClick:function(e){i(!l),e.preventDefault()}},__("Dynamic Data","presto-player")),!!l&&(0,_.Y)("div",{style:{marginTop:"20px"}},__("This field will also accept dynamic values that we will replace with dynamic content: {user.user_login}, {user.user_nicename}, {user.user_email}, {user.user_url},{user.user_registered}, {user.display_name}, {site.url}, {site.name}, {ip_address}","presto-player"))),className:"presto-player__overlay--text",placeholder:__("Enter some text.","presto-player"),value:t||"",onChange:function(e){return r({text:e})},autoComplete:"off",onFocus:n}))};var O=r(6055),E=wp.i18n.__,$=wp.components,N=$.Flex,T=$.FlexItem,j=$.TextControl,R=$.Button,I=$.BaseControl,B=$.RadioControl,L=$.RangeControl,D=($.withFocusReturn,wp.element),M=D.useRef,F=D.useEffect,H=wp.element.useState,V={name:"1azpx8r",styles:"margin-bottom:20px"};const U=function(e){var t=e.overlayIndex,r=e.update,n=e.remove,o=e.className,l=e.startTime,i=e.endTime,s=e.text,c=e.link,u=e.position,p=e.color,d=e.backgroundColor,f=e.opacity,y=e.updateCurrentTime,h=H(l),m=(0,v.A)(h,2),g=m[0],w=m[1],_=H(i),k=(0,v.A)(_,2),x=k[0],A=k[1],C=H(u),P=(0,v.A)(C,2),$=P[0],D=P[1],U=M();F(function(){if((0,b.wG)(l)>=(0,b.wG)(i)){var e=(0,b.jy)(l),t=(0,b.wG)(e)+1;e=(0,b.jy)((0,b.Ye)(t)),r({endTime:e}),A(e)}},[l,i]);var z=function(){var e=(0,b.jy)(g);r({startTime:e}),w(e),y(e)};return(0,a.Y)("div",null,(0,a.Y)(N,{align:"center",className:o},(0,a.Y)(T,null,(0,a.Y)(j,{ref:U,id:"start-time-".concat(t),label:E("Start Time","presto-player"),className:"presto-player__overlay--start-time",value:g,onChange:function(e){return w(e)},onBlur:z,onFocus:z,autoComplete:"off",placeholder:"0:00"})),(0,a.Y)(T,null,(0,a.Y)(j,{label:E("End Time","presto-player"),className:"presto-player__overlay--end-time",value:x,onChange:A,onBlur:function(){var e=(0,b.jy)(x);r({endTime:e}),A(e)},autoComplete:"off",placeholder:"0:00"}))),(0,a.Y)(S,{text:s,update:r,onFocus:function(){y((0,b.jy)(g))}}),(0,a.Y)(I,{style:{width:"100%"}},(0,a.Y)(I.VisualLabel,null,(0,a.Y)("p",null," ",E("Link","presto-player"))),(0,a.Y)(Y.A,{onFocus:function(){y((0,b.jy)(g))},setSettings:function(e){return r({link:e})},settings:c||{}})),(0,a.Y)(I,{className:o},(0,a.Y)(B,{label:E("Position","presto-player"),options:[{label:E("Top Right","presto-player"),value:"top-right"},{label:E("Top Left","presto-player"),value:"top-left"}],selected:$||"right",onFocus:function(){y((0,b.jy)(g))},onChange:function(e){r({position:e}),D(e),y((0,b.jy)(g))}})),(0,a.Y)(I,{className:"presto-player__control--overlay-text-color"},(0,a.Y)(N,null,(0,a.Y)(I.VisualLabel,null,E("Text Color","presto-player")),(0,a.Y)(O.A,{onFocus:function(){y((0,b.jy)(g))},color:p,setColor:function(e){r({color:e&&e.hex})}}))),(0,a.Y)(I,{className:"presto-player__control--overlay-background-color"},(0,a.Y)(N,null,(0,a.Y)(I.VisualLabel,null,E("Background Color","presto-player")),(0,a.Y)(O.A,{onFocus:function(){y((0,b.jy)(g))},color:d,setColor:function(e){r({backgroundColor:e&&e.hex})}}))),(0,a.Y)(I,null,(0,a.Y)(L,{label:E("Opacity","presto-player"),help:E("Opacity percentage of the overlay.","presto-player"),value:f,onChange:function(e){return r({opacity:e})},min:0,max:100})),n&&(0,a.Y)(I,{className:o},(0,a.Y)(N,{justify:"flex-end"},(0,a.Y)(R,{isDestructive:!0,isSmall:!0,onClick:n},E("Remove Overlay","presto-player")))),(0,a.Y)("hr",{css:V}))};var z,G;function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){(0,m.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var q=wp.i18n.__,X=wp.components,K=X.Button,Q=X.Flex,J=X.FlexItem,ee=X.FlexBlock,te=X.Modal,re=wp.element,ne=re.useState,oe=re.useEffect,ae=wp.data.useSelect,le={name:"1cwazio",styles:"padding:3px"};const ie=function(e){var t=e.closeModal,r=e.attributes,o=e.setAttributes,l=e.updateOverlayAttribute,i=ne(!1),s=(0,v.A)(i,2),c=s[0],u=s[1],p=ne(""),d=(0,v.A)(p,2),f=d[0],y=d[1],m=r.overlays,g=r.preset,b=r.src,w=r.poster,_=r.previewSrc,k=ae(function(e){return e("presto-player/player").branding()}),x=ae(function(e){return e("presto-player/player").getPreset(g)});oe(function(){m.length||Y()},[]);var Y=function(){var e={startTime:"0:00",endTime:"0:05",text:q("Here's a link to click!","presto-player"),link:{},position:"top-right",color:"#fff",backgroundColor:"#000",opacity:75};m[m.length-1]&&(e=Z({},m[m.length-1])),e.id=((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""))(10),o({overlays:[].concat((0,h.A)(m||[]),[e])})};return(0,a.Y)(te,{title:q("Manage Video Overlays","presto-player"),onRequestClose:t,className:"presto-player__modal-presets",overlayClassName:"presto-player__modal-presets-overlay",shouldCloseOnClickOutside:!1},(0,a.Y)("div",{className:"presto-player__preset-options","data-cy":"preset-modal"},(0,a.Y)(Q,{align:"stretch",className:"presto-player__style-preview-area"},(0,a.Y)(J,{className:"presto-player__style-sidebar"},(0,a.Y)("div",{css:le},(m||[]).sort(function(e,t){return parseInt(e.startTime.split(":")[0])-parseInt(t.startTime.split(":")[0])===0?parseInt(e.startTime.split(":")[1])-parseInt(t.startTime.split(":")[1]):parseInt(e.startTime.split(":")[0])-parseInt(t.startTime.split(":")[0])}).map(function(e,t){return(0,a.Y)(U,{key:"".concat(t,"-").concat(e.startTime),overlayIndex:t,className:"presto-player__overlay",startTime:e.startTime,endTime:e.endTime,text:e.text,link:e.link,position:e.position,color:e.color,backgroundColor:e.backgroundColor,opacity:e.opacity,overlay:e,update:function(t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=m.indexOf(e),n=m.map(function(e,n){return n!==r?e:Z(Z({},e),t)});o({overlays:n})}(e,t)},remove:function(){!function(e){var t=m.indexOf(e);o({overlays:m.filter(function(e,r){return r!==t})})}(e)},updateCurrentTime:function(e){var t;t=e,y(""),process.nextTick(function(){y(t)})}})}),(0,a.Y)(K,{isPrimary:!0,onClick:Y},q("Add An Overlay","presto-player")))),(0,a.Y)(ee,{className:"presto-player__style-preview-panel"},(0,a.Y)(A,{preload:"auto",currentTime:f,src:_||b,isDisabled:!1,state:Z(Z({},x),{},{lazy_load_youtube:!1,invert_time:!1}),branding:k,poster:w,overlays:m}))),(0,a.Y)("br",null),(0,a.Y)("div",{css:(0,a.AH)(z||(z=(0,n.A)(["\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n          "])))},(0,a.Y)("div",{css:(0,a.AH)(G||(G=(0,n.A)(["\n              opacity: 0.5;\n              font-size: 12px;\n            "])))}),(0,a.Y)("div",null,(0,a.Y)(K,{isTertiary:!0,onClick:t,style:{margin:"0 6px"}},q("Cancel","presto-player")),(0,a.Y)(K,{isPrimary:!0,isBusy:c,disabled:c,onClick:function(){u(!0),l(m),u(!1),t()},"data-cy":"submit-preset"},q("Save Overlays","presto-player"))))))};var se,ce=wp.i18n.__,ue=wp.element.useState,pe=wp.data,de=(pe.useSelect,pe.dispatch),fe=wp.components,ye=(fe.withNotices,fe.BaseControl),ve=(fe.Spinner,fe.Button);const he=function(e){var t,r=e.setAttributes,o=e.attributes,l=o.overlays,i=ue(!1),s=(0,v.A)(i,2),c=s[0],u=s[1];return(0,a.Y)(React.Fragment,null,(0,a.Y)(ye,null,(0,a.Y)(ve,{isPrimary:!0,onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?u(!0):de("presto-player/player").setProModal(!0)}},l.length?ce("Update Overlays","presto-player"):ce("Add Overlay","presto-player"),!!l.length&&(0,a.Y)("div",{css:(0,a.AH)(se||(se=(0,n.A)(["\n                font-size: 10px;\n                background: #fff;\n                color: var(--wp-admin-theme-color);\n                font-weight: bold;\n                display: inline-block;\n                line-height: 6px;\n                padding: 5px;\n                border-radius: 9999px;\n                margin-left: 10px;\n              "])))},l.length)),!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,a.Y)(y.A,null)),c&&(0,a.Y)(ie,{closeModal:function(){return u(!1)},attributes:o,setAttributes:r,updateOverlayAttribute:function(e){r({overlays:e})}}))};var me=r(7869),ge=r(467),be=r(9280),we=r.n(be),_e=r(8772),ke=r(3212),xe=wp.i18n.__,Ae=wp.components,Ye=Ae.ToggleControl,Ce=Ae.BaseControl,Pe=Ae.HorizontalRule,Se=Ae.__experimentalAlignmentMatrixControl,Oe=Ae.SelectControl;function Ee(e){var t=e.state,r=e.updateState,n=e.className;return(0,_.Y)("div",{className:n},(0,_.Y)(Ce,null,(0,_.Y)("h3",null,xe("Behavior","presto-player"))),(0,_.Y)(Ce,null,(0,_.Y)(Ye,{label:xe("Auto-Hide Controls","presto-player"),help:xe("Hide video controls automatically after 2 seconds of no mouse movement.","presto-player"),onChange:function(e){r({auto_hide:e})},checked:t.auto_hide})),(0,_.Y)(Ce,null,(0,_.Y)(Ye,{label:xe("Show Time Elapsed","presto-player"),help:xe("Show the time elapsed or the time remaining for the video on the player. By default, the time remaining is shown.","presto-player"),onChange:function(e){r({show_time_elapsed:e})},checked:t.show_time_elapsed})),(0,_.Y)(Ce,null,(0,_.Y)(Ye,{label:xe("Save Play Position","presto-player"),help:xe("Saves the user's play position so when they come back to the page they can continue the video from where they left off.","presto-player"),onChange:function(e){r({save_player_position:e})},checked:t.save_player_position})),(0,_.Y)(Ce,null,(0,_.Y)(Ye,{label:xe("Captions On By Default","presto-player"),help:xe("Toggles if captions should be active by default.","presto-player"),onChange:function(e){r({captions_enabled:e})},checked:t.captions_enabled})),(0,_.Y)(Ce,null,(0,_.Y)(Ye,{label:xe("Focus Mode","presto-player"),help:xe("Play only when tab is visible and video is in viewport.","presto-player"),onChange:function(e){r({play_video_viewport:e})},checked:t.play_video_viewport})),(0,_.Y)(Ce,null,(0,_.Y)(Ye,{label:xe("Sticky On Scroll","presto-player"),help:xe("Stick videos to the side of the screen when the page is scrolled and the video is playing.","presto-player"),onChange:function(e){r({sticky_scroll:e})},checked:t.sticky_scroll})),!!t.sticky_scroll&&(0,_.Y)(React.Fragment,null,(0,_.Y)(Ce,{label:xe("Choose a position for your sticky player.","presto-player")},(0,_.Y)(Se,{value:t.sticky_scroll_position,onChange:function(e){r({sticky_scroll_position:e})}}))),(0,_.Y)(Ce,null,(0,_.Y)(Oe,{label:xe("On Video End","presto-player"),value:t.on_video_end,options:[{value:"select",label:xe("Select","presto-player")},{value:"loop",label:xe("Loop","presto-player")},{value:"go-to-start",label:xe("Go to start","presto-player")}],onChange:function(e){r({on_video_end:e})}})),(0,_.Y)(Pe,null),(0,_.Y)(Ce,null),(0,_.Y)(Ce,null,(0,_.Y)("h3",null,xe("Youtube","presto-player"))),(0,_.Y)(Ce,null,(0,_.Y)(Ye,{label:xe("Hide Youtube UI (Experimental)","presto-player"),help:xe("Hides the Youtube logo and related videos.","presto-player"),onChange:function(e){r({hide_youtube:e})},checked:t.hide_youtube})),(0,_.Y)(Ce,null,(0,_.Y)(Ye,{label:xe("Lazy Load Videos","presto-player"),help:xe("Improves page loading performance by only loading the video when clicked.","presto-player"),onChange:function(e){r({lazy_load_youtube:e})},checked:t.lazy_load_youtube})))}var $e=wp.i18n.__,Ne=wp.components,Te=Ne.ToggleControl,je=Ne.BaseControl;function Re(e){var t=e.state,r=e.updateState,n=e.className;return(0,_.Y)("div",{className:n},(0,_.Y)(je,null,(0,_.Y)("h3",null,$e("Controls","presto-player"))),(0,_.Y)(je,{className:"presto-player__control--large-play"},(0,_.Y)(Te,{label:$e("Large Play Button","presto-player"),help:$e("Adds a large play button over the top of the player.","presto-player"),onChange:function(e){r({"play-large":e})},checked:t["play-large"]})),(0,_.Y)(je,{className:"presto-player__control--rewind"},(0,_.Y)(Te,{label:$e("Rewind","presto-player"),help:$e("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({rewind:e})},checked:t.rewind})),(0,_.Y)(je,{className:"presto-player__control--play"},(0,_.Y)(Te,{label:$e("Small Play Button","presto-player"),help:$e("Adds a small play button to the bottom of the player.","presto-player"),onChange:function(e){r({play:e})},checked:t.play})),(0,_.Y)(je,{className:"presto-player__control--fast-forward"},(0,_.Y)(Te,{label:$e("Fast Forward","presto-player"),help:$e("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({"fast-forward":e})},checked:t["fast-forward"]})),(0,_.Y)(je,{className:"presto-player__control--progress"},(0,_.Y)(Te,{label:$e("Progress Bar","presto-player"),help:$e("Shows a seekable progress bar.","presto-player"),onChange:function(e){r({progress:e})},checked:t.progress})),(0,_.Y)(je,{className:"presto-player__control--current-time"},(0,_.Y)(Te,{label:$e("Current Time","presto-player"),help:$e("Shows the video timestamp.","presto-player"),onChange:function(e){r({"current-time":e})},checked:t["current-time"]})),(0,_.Y)(je,{className:"presto-player__control--volume"},(0,_.Y)(Te,{label:$e("Volume","presto-player"),help:$e("Shows a volume bar.","presto-player"),onChange:function(e){r({volume:e,mute:e})},checked:t.volume})),(0,_.Y)(je,{className:"presto-player__control--speed"},(0,_.Y)(Te,{label:$e("Speed","presto-player"),help:$e("Shows playback speed controls.","presto-player"),onChange:function(e){r({speed:e})},checked:t.speed})),(0,_.Y)(je,{className:"presto-player__control--pip"},(0,_.Y)(Te,{label:$e("Picture In Picture (HTML5 only)","presto-player"),help:$e("Allows users to dock the player on their screen and watch when using other app on their computer.","presto-player"),onChange:function(e){r({pip:e})},checked:t.pip})),(0,_.Y)(je,{className:"presto-player__control--fullscreen"},(0,_.Y)(Te,{label:$e("Fullscreen","presto-player"),help:$e("Adds a button to allow the player to be fullscreen.","presto-player"),onChange:function(e){r({fullscreen:e})},checked:t.fullscreen})),(0,_.Y)(je,{className:"presto-player__control--captions"},(0,_.Y)(Te,{label:$e("Captions","presto-player"),help:$e("Shows a dedicated caption toggle button.","presto-player"),onChange:function(e){r({captions:e})},checked:t.captions})))}function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach(function(t){(0,m.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Le=wp.i18n.__,De=wp.components,Me=De.ToggleControl,Fe=De.BaseControl,He=De.RadioControl,Ve=De.Flex,Ue=De.RangeControl,ze=wp.element.useEffect;const Ge=function(e){var t=e.state,r=e.updateState,n=e.className,o=t.watermark,a={text:Le("Enter your watermark text.","presto-player"),position:"top-right",color:"#fff",backgroundColor:"#333",opacity:80};ze(function(){Object.keys(a).forEach(function(e){var r;void 0===(null==t||null===(r=t.watermark)||void 0===r?void 0:r[e])&&l((0,m.A)({},e,a[e]))})},[t]);var l=function(e){r(Be(Be({},t),{},{watermark:Be(Be({},o),e)}))};return(0,_.Y)("div",{className:n},(0,_.Y)(Fe,null,(0,_.Y)("h3",null,Le("Dynamic Watermark Text","presto-player"))),(0,_.Y)(Fe,{className:"presto-player__control--watermark"},(0,_.Y)(Me,{label:Le("Enable","presto-player"),help:Le("Add a simulated dynamic watermark over your video.","presto-player"),onChange:function(e){l({enabled:e})},checked:null==o?void 0:o.enabled})),(null==o?void 0:o.enabled)&&(0,_.Y)("div",null,(0,_.Y)(S,{text:null==o?void 0:o.text,update:function(e){var t=e.text;l({text:t})}}),(0,_.Y)(Fe,{className:n},(0,_.Y)(He,{label:Le("Position","presto-player"),options:[{label:Le("Top Right","presto-player"),value:"top-right"},{label:Le("Top Left","presto-player"),value:"top-left"},{label:Le("Change Every 10 Seconds","presto-player"),value:"randomize"}],selected:(null==o?void 0:o.position)||"top-right",onChange:function(e){return l({position:e})}})),(0,_.Y)(Fe,{className:"presto-player__control-text-color"},(0,_.Y)(Ve,null,(0,_.Y)(Fe.VisualLabel,null,Le("Text Color","presto-player")),(0,_.Y)(O.A,{color:(null==o?void 0:o.color)||"#fff",setColor:function(e){return l({color:e&&e.hex})}}))),(0,_.Y)(Fe,{className:"presto-player__control-text-color"},(0,_.Y)(Ve,null,(0,_.Y)(Fe.VisualLabel,null,Le("Background Color","presto-player")),(0,_.Y)(O.A,{color:(null==o?void 0:o.backgroundColor)||"#333",setColor:function(e){return l({backgroundColor:e&&e.hex})}}))),(0,_.Y)(Fe,null,(0,_.Y)(Ue,{label:Le("Opacity","presto-player"),help:Le("Opacity percentage of the watermark.","presto-player"),value:(null==o?void 0:o.opacity)||100,onChange:function(e){return l({opacity:e})},min:0,max:100}))))};var We=r(5573),Ze=r(790);const qe=(0,Ze.jsx)(We.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ze.jsx)(We.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),Xe=(0,Ze.jsx)(We.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ze.jsx)(We.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})});function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach(function(t){(0,m.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Je=function(e){var t=e.state,r=e.updateState,n=e.className,a=t.search,i=(0,o.useState)(!1),s=(0,v.A)(i,2),u=s[0],p=s[1],d={enabled:!1,minMatchCharLength:1,threshold:.3,placeholder:"Search"};(0,o.useEffect)(function(){Object.keys(d).forEach(function(e){var r;void 0===(null==t||null===(r=t.search)||void 0===r?void 0:r[e])&&f((0,m.A)({},e,d[e]))})},[t]);var f=function(e){r(Qe(Qe({},t),{},{search:Qe(Qe({},a),e)}))};return(0,_.Y)("div",{className:n},(0,_.Y)(l.BaseControl,null,(0,_.Y)("h3",null,(0,c.__)("Searchable Captions","presto-player"))),(0,_.Y)(l.BaseControl,{className:"presto-player__control--search"},(0,_.Y)(l.ToggleControl,{label:(0,c.__)("Enable","presto-player"),help:(0,c.__)("Show a search bar on your player which enables searching within the subtitles of the video.","presto-player"),onChange:function(e){f({enabled:e})},checked:null==a?void 0:a.enabled})),(null==a?void 0:a.enabled)&&(0,_.Y)("div",null,(0,_.Y)(l.BaseControl,{className:"presto-player__control--placeholder-text"},(0,_.Y)(l.TextControl,{label:(0,c.__)("Placeholder Text","presto-player"),help:"",value:null==a?void 0:a.placeholder,onChange:function(e){return f({placeholder:e})}})),(0,_.Y)(l.BaseControl,null,(0,_.Y)(l.Button,{onClick:function(){return p(!u)},iconPosition:"right",icon:u?qe:Xe,variant:"link"},(0,c.__)("Advanced Settings","presto-player"))),!!u&&(0,_.Y)(React.Fragment,null,(0,_.Y)(l.BaseControl,null,(0,_.Y)(l.RangeControl,{label:(0,c.__)("Minimum Matching Character Length","presto-player"),help:(0,c.__)("Only the matches whose length exceeds this value will be returned. (For instance, if you want to ignore single character matches in the result, set it to 2","presto-player"),value:(null==a?void 0:a.minMatchCharLength)||1,onChange:function(e){return f({minMatchCharLength:e})},min:0,max:10})),(0,_.Y)(l.BaseControl,null,(0,_.Y)(l.RangeControl,{label:(0,c.__)("Threshold","presto-player"),help:(0,c.__)("At what point does the match algorithm give up. A threshold of 0.0 requires a perfect match (of both letters and location), a threshold of 1.0 would match anything.","presto-player"),value:(null==a?void 0:a.threshold)||1,onChange:function(e){return f({threshold:e})},min:0,max:1,step:.1})))))};var et,tt,rt,nt=r(3944),ot=r(7633),at=wp.i18n.__,lt=wp.components,it=lt.ToggleControl,st=lt.BaseControl,ct=lt.RangeControl,ut=lt.SelectControl,pt=lt.ColorPicker;function dt(e){var t=e.state,r=e.updateState,o=e.className;return(0,_.Y)("div",{className:o},(0,_.Y)(st,null,(0,_.Y)("h3",null,at("Style","presto-player"))),(0,_.Y)(st,null,(0,_.Y)(it,{label:at("Hide Logo","presto-player"),help:at("Hides the logo on this video.","presto-player"),onChange:function(e){r({hide_logo:e})},checked:t.hide_logo})),(0,_.Y)(st,null,(0,_.Y)(ct,{label:at("Round Corners","presto-player"),help:at("Player border radius size.","presto-player"),value:(null==t?void 0:t.border_radius)||0,onChange:function(e){return r({border_radius:e})},min:0,max:25,css:(0,a.AH)(et||(et=(0,n.A)(["\n            padding-left: 4px;\n            .components-range-control__root {\n              align-items: flex-start;\n            }\n          "])))})),(0,_.Y)(st,null,(0,_.Y)(ut,{label:at("Caption Style","presto-player"),labelPosition:"top",value:null==t?void 0:t.caption_style,options:[{label:at("Default","presto-player"),value:"default"},{label:at("Full","presto-player"),value:"full"}],onChange:function(e){r({caption_style:e})}})),(0,_.Y)(st,null,(0,_.Y)(st.VisualLabel,null,(0,_.Y)("p",null,at("Caption Background","presto-player"))),(0,_.Y)(pt,{color:(null==t?void 0:t.caption_background)||"#000000",onChangeComplete:function(e){r({caption_background:e.hex})},disableAlpha:!0})))}function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach(function(t){(0,m.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var vt=wp.i18n.__,ht=wp.components,mt=ht.TextControl,gt=ht.BaseControl,bt=ht.Icon,wt=ht.Notice,_t=ht.Button,kt=ht.Flex,xt=ht.FlexItem,At=ht.SelectControl,Yt=ht.FlexBlock,Ct=ht.Modal,Pt=wp.element,St=Pt.useState,Ot=Pt.useEffect,Et=wp.data,$t=Et.useSelect,Nt=Et.dispatch;const Tt=function(e){var t=e.type,r=void 0===t?"new":t,o=e.closeModal,l=e.addPreset,i=e.onSave,s=e.updatePreset,c=e.name,u=void 0===c?"":c,p=e.preset,d=void 0===p?{"play-large":!0,rewind:!0,play:!0,"fast-forward":!0,progress:!0,"current-time":!0,mute:!0,volume:!0,speed:!1,pip:!1,fullscreen:!0,captions:!1,save_player_position:!1,reset_on_end:!1,auto_hide:!0,show_time_elapsed:!1,sticky_scroll:!1,hide_logo:!1,border_radius:0,skin:"modern",caption_style:"default",caption_background:"#000000",hide_youtube:!1,lazy_load_youtube:!1,cta:{},email_collection:{},action_bar:{},enabled:!1,minMatchCharLength:1,threshold:.3,placeholder:"search"}:p,f=St(!1),y=(0,v.A)(f,2),h=y[0],m=y[1],g=St(""),w=(0,v.A)(g,2),_=w[0],k=w[1],x=St(""),Y=(0,v.A)(x,2),C=Y[0],P=Y[1],S=St(u),O=(0,v.A)(S,2),E=O[0],$=O[1],N=St(d),T=(0,v.A)(N,2),j=T[0],R=T[1],I=$t(function(e){return e("presto-player/player").branding()}),B=St(""),L=(0,v.A)(B,2),D=L[0],M=L[1],F={message:vt("The preset could not be saved. Please reload the page and try again.","presto-player")},H=$t(function(e){return e("presto-player/player").youtube()});Ot(function(){M(H.channel_id)},[null==H?void 0:H.channel_id]);var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};R(yt(yt({},j),e))},U=function(){var e=(0,ge.A)(we().mark(function e(){var t,r,n,a;return we().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,t=yt(yt({},j),{name:E}),e.next=5,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"preset/").concat(d.id),{_method:"PUT"}),data:t});case 5:if(r=e.sent){e.next=8;break}throw F;case 8:s(r),o(),i&&i(r),(0,b.ou)({message:vt("Preset updated!","presto-player")}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),k(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:F);case 17:return e.prev=17,m(!1),e.finish(17);case 20:return Nt("presto-player/player").updateYoutube({channel_id:D}),n=yt(yt({},H),{channel_id:D}),e.prev=22,e.next=25,wp.apiFetch({path:"wp/v2/settings",method:"POST",data:{presto_player_youtube:n}});case 25:null!=(a=e.sent)&&a.presto_player_youtube&&(Nt("presto-player/player").setYoutube(null==a?void 0:a.presto_player_youtube),onClose()),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),console.log(e.t1);case 32:case"end":return e.stop()}},e,null,[[1,14,17,20],[22,29]])}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,ge.A)(we().mark(function e(){var t;return we().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,wp.apiFetch({method:"POST",url:prestoPlayer.root+prestoPlayer.prestoVersionString+"preset",data:yt(yt({},{name:E}),j)});case 4:if(t=e.sent){e.next=7;break}throw F;case 7:l(t),o(),i&&i(t),(0,b.ou)({message:vt("Preset created!","presto-player")}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),k(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:F);case 16:return e.prev=16,m(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,13,16,19]])}));return function(){return e.apply(this,arguments)}}(),G=[{name:"controls",title:vt("Controls","presto-player"),icon:(0,a.Y)(bt,{icon:"admin-settings"}),component:(0,a.Y)(Re,{updateState:V,state:j})},{name:"behavior",title:vt("Behavior","presto-player"),icon:(0,a.Y)(bt,{icon:"admin-generic"}),component:(0,a.Y)(Ee,{updateState:V,state:j})},{name:"style",title:vt("Style","presto-player"),icon:(0,a.Y)(bt,{icon:"admin-customizer"}),component:(0,a.Y)(dt,{updateState:V,state:j})},{name:"email",title:vt("Email Capture","presto-player"),icon:(0,a.Y)(bt,{icon:"email"}),component:(0,a.Y)(ot.A,{updateState:V,state:j})},{name:"cta",title:vt("Call To Action","presto-player"),icon:(0,a.Y)(bt,{icon:"megaphone"}),component:(0,a.Y)(nt.A,{updateState:V,state:j})},{name:"action_bar",title:vt("Action Bar","presto-player"),icon:(0,a.Y)(bt,{icon:"cover-image"}),component:(0,a.Y)(ke.A,{updateState:V,state:j,value:D,setValue:M})},{name:"watermark",title:vt("Dynamic Watermark","presto-player"),icon:(0,a.Y)(bt,{icon:"lock"}),component:(0,a.Y)(Ge,{updateState:V,state:j})},{name:"search",title:vt("Searchable Captions","presto-player"),icon:(0,a.Y)(bt,{icon:"search"}),component:(0,a.Y)(Je,{updateState:V,state:j})}];return(0,a.Y)(Ct,{title:vt("edit"==r?"Edit A Video Preset":"Create A New Video Preset","presto-player"),onRequestClose:o,className:"presto-player__modal-presets",overlayClassName:"presto-player__modal-presets-overlay"},(0,a.Y)("div",{className:"presto-player__preset-options","data-cy":"preset-modal"},(0,a.Y)(mt,{value:E,hideLabelFromVision:!0,label:vt("Preset Name","presto-player"),onChange:function(e){return $(e)},placeholder:vt("Enter a preset name...","presto-player"),className:"presto-player__modal--style-name",autoFocus:!0}),(0,a.Y)(kt,{align:"stretch",className:"presto-player__style-preview-area"},(0,a.Y)(xt,{className:"presto-player__style-sidebar"},(0,a.Y)("div",null,(0,a.Y)(_e.A,{items:G,title:vt("Customize","presto-player"),onSelect:P},function(e){return e.component}))),(0,a.Y)(Yt,{className:"presto-player__style-preview-panel"},(0,a.Y)("div",{style:{position:"absolute",top:0,left:0,padding:"20px"}},(0,a.Y)(At,{label:vt("Skin","presto-player"),labelPosition:"side",value:null==j?void 0:j.skin,options:[{label:vt("Modern","presto-player"),value:"modern"},{label:vt("Business","presto-player"),value:"business"},{label:vt("Stacked","presto-player"),value:"stacked"},{label:vt("Basic","presto-player"),value:"default"}],onChange:function(e){V({skin:e})}})),(0,a.Y)(A,{poster:"https://source.unsplash.com/daily",state:j,branding:I,menu:C}))),(0,a.Y)("br",null),_&&(0,a.Y)(gt,null,(0,a.Y)(wt,{className:"presto-player__modal--error-notice",status:"error",isDismissible:!1,style:{margin:0}},_.replace(/(<([^>]+)>)/gi,""))),(0,a.Y)("div",{css:(0,a.AH)(tt||(tt=(0,n.A)(["\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n          "])))},(0,a.Y)("div",{css:(0,a.AH)(rt||(rt=(0,n.A)(["\n              opacity: 0.5;\n              font-size: 12px;\n            "])))},"Preset ID: ",d.id),(0,a.Y)("div",null,(0,a.Y)(_t,{isTertiary:!0,onClick:o,style:{margin:"0 6px"}},vt("Cancel","presto-player")),(0,a.Y)(_t,{isPrimary:!0,isBusy:h,disabled:h,onClick:function(){if(E)return"edit"===r?U():z();k(vt("You must enter a name for the preset.","presto-player"))},"data-cy":"submit-preset"},vt("edit"==r?"Update Preset":"Create Preset","presto-player"))))))};var jt=wp.i18n.__,Rt=wp.components,It=Rt.Icon,Bt=Rt.Spinner,Lt=Rt.Modal,Dt=Rt.Button,Mt=Rt.ButtonGroup,Ft=wp.element.useState;function Ht(e){var t,r,n=e.preset,o=e.index,a=e.isActive,l=e.remove,i=e.setPreset,s=e.onEdit,c=Ft(!1),u=(0,v.A)(c,2),p=u[0],d=u[1],f=Ft(!1),y=(0,v.A)(f,2),h=y[0],m=y[1],g=function(){return m(!1)},b=function(){var e=(0,ge.A)(we().mark(function e(){return we().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=3;break}return l(n),e.abrupt("return");case 3:return e.prev=3,d(!0),e.next=7,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"preset/").concat(n.id),{_method:"DELETE"})});case 7:e.sent&&(l(n),wp.data.dispatch("core/notices").createNotice("success",jt("Preset trashed.","presto-player"),{type:"snackbar",isDismissible:!0})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.message&&wp.data.dispatch("core/notices").createNotice("error",e.t0.message,{type:"snackbar",isDismissible:!0});case 15:return e.prev=15,m(!1),d(!1),e.finish(15);case 19:case"end":return e.stop()}},e,null,[[3,11,15,19]])}));return function(){return e.apply(this,arguments)}}();return p?(0,_.Y)("div",{className:"block-editor-block-styles__item",role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,_.Y)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,_.Y)(Bt,null))):(0,_.Y)("div",{className:"block-editor-block-styles__item presto-preset-".concat(n.slug),onClick:function(){i(n)},role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,_.Y)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,_.Y)("div",{style:{textAlign:"center",width:"100%",color:a?"var(--wp-admin-theme-color)":"inherit",opacity:a?1:.75}},null!=n&&n.icon?(0,_.Y)(It,{icon:null==n?void 0:n.icon,style:{fontSize:"30px",width:"30px",height:"30px"}}):(0,_.Y)("h1",{style:{opacity:.75}},(null==n||null===(t=n.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"Untitled"))),(0,_.Y)("div",{className:"block-editor-block-styles__item-label",style:{fontWeight:"bold",textTransform:"capitalize","text-align":"center",padding:"4px 0"}},(null==n?void 0:n.name)||"Untitled"),!(null!=n&&n.is_locked)&&(0,_.Y)("div",{className:"block-editor-block-styles__item-edit"},(0,_.Y)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:s},(0,_.Y)(It,{icon:"edit"})),(0,_.Y)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:function(){return m(!0)}},(0,_.Y)(It,{icon:"trash"}))),h&&(0,_.Y)(Lt,{title:jt("Trash Preset?","presto-player"),onRequestClose:g,style:{maxWidth:"250px"}},(0,_.Y)("p",null,(0,_.Y)("strong",null,jt("Warning!","presto-player")," "),jt("Any videos assigned to this preset will automatically use the default preset.","presto-player")),(0,_.Y)(Mt,null,(0,_.Y)(Dt,{isDestructive:!0,onClick:b,style:{margin:"0 4px"}},jt("Trash","presto-player")),(0,_.Y)(Dt,{isTertiary:!0,onClick:g,style:{margin:"0 4px",boxShadow:"none"}},jt("Cancel","presto-player")))))}var Vt=wp.i18n.__,Ut=wp.components,zt=Ut.withNotices,Gt=Ut.BaseControl,Wt=Ut.Spinner,Zt=Ut.Button,qt=wp.element,Xt=qt.useState,Kt=(qt.useEffect,wp.data),Qt=Kt.useSelect,Jt=Kt.dispatch;const er=zt(function(e){var t,r=e.attributes,n=e.setAttributes,o=Xt(!1),a=(0,v.A)(o,2),l=a[0],i=a[1],s=function(){return i(!1)},c=Xt(null),u=(0,v.A)(c,2),p=u[0],d=u[1],f=Xt(null),h=(0,v.A)(f,2),m=h[0],g=h[1],b=Qt(function(e){return{presets:e("presto-player/player").getPresets(),loading:e("presto-player/player").isResolving("getPresets")}}),w=b.presets,k=b.loading,x=function(e){Jt("presto-player/player").addPreset(e)},A=function(e){Jt("presto-player/player").removePreset(e)},Y=function(e){n({preset:e.id})},C=(0,me.A)("div",{target:"e108l63h0"})({name:"1f3egm3",styles:"display:flex;flex-wrap:wrap;justify-content:space-between"});return k?(0,_.Y)("div",{className:"presto-settings__loading"},(0,_.Y)(Wt,null)):(0,_.Y)(React.Fragment,null,w.length?(0,_.Y)("p",null,Vt("Select a video configuration preset, or add your own.","presto-player")):"",(0,_.Y)(Gt,null,(0,_.Y)(C,null,(w||[]).length?w.map(function(e,t){return(0,_.Y)(Ht,{setPreset:Y,index:t,isActive:(null==r?void 0:r.preset)===e.id,preset:e,key:e.id,onEdit:function(){g(e.name),d(e),i("edit")},remove:A})}):Vt("No style presets. You can create a new style by clicking 'Add New Style'.","presto-plugin"))),(0,_.Y)(Gt,null,(0,_.Y)(Zt,{isPrimary:!0,"data-cy":"add-new-preset",onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?i("new"):Jt("presto-player/player").setProModal(!0)}},Vt("Add New Preset","presto-player")),!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,_.Y)(y.A,null)),"new"==l&&(0,_.Y)(Tt,{closeModal:s,addPreset:x,type:"new",onSave:Y}),"edit"==l&&(0,_.Y)(Tt,{closeModal:s,addPreset:x,updatePreset:function(e){Jt("presto-player/player").updatePreset(e)},type:"edit",preset:p,name:m}))});var tr=r(7038);function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(r),!0).forEach(function(t){(0,m.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var or=wp.i18n.__,ar=wp.components,lr=(ar.PanelRow,ar.TextControl,ar.SelectControl,ar.BaseControl),ir=ar.Button,sr=ar.FocalPointPicker,cr=ar.RangeControl,ur=wp.blockEditor,pr=ur.MediaUpload,dr=ur.MediaUploadCheck,fr=(wp.element.useState,["image"]);const yr=function(e){var t=e.attributes,r=e.setAttributes,n=e.instanceId,o=t.mutedOverlay,a="video-block__overlay-image-description-".concat(n);return(0,_.Y)(React.Fragment,null,(0,_.Y)(dr,null,(0,_.Y)(lr,{className:"editor-video-overlay-control"},(0,_.Y)(lr.VisualLabel,null,(0,_.Y)("p",null,or("Overlay Image","presto-player"))),(0,_.Y)(pr,{title:or("Select overlay image","presto-player"),onSelect:function(e){r({mutedOverlay:nr(nr({},o),{src:e.url})})},allowedTypes:fr,render:function(e){var t=e.open;return(0,_.Y)(ir,{className:"presto-setting__poster",isPrimary:!0,onClick:t},null!=o&&o.src?or("Replace","presto-player"):or("Select","presto-player"))}}),(0,_.Y)("p",{id:a,hidden:!0},null!=o&&o.src?sprintf(or("The current overlay image url is %s","presto-player"),null==o?void 0:o.src):or("There is no overlay image currently selected","presto-player")),!(null==o||!o.src)&&(0,_.Y)(ir,{onClick:function(){r({mutedOverlay:nr(nr({},o),{src:""})})},className:"presto-setting__remove-poster",isTertiary:!0},or("Remove","presto-player")))),!(null==o||!o.src)&&(0,_.Y)(sr,{url:"",dimensions:{width:160,height:90},value:null==o?void 0:o.focalPoint,onChange:function(e){return r({mutedOverlay:nr(nr({},o),{focalPoint:e})})}}),!(null==o||!o.src)&&(0,_.Y)(cr,{label:or("Max Width (%)","presto-player"),value:null==o?void 0:o.width,onChange:function(e){return r({mutedOverlay:nr(nr({},o),{width:e})})},min:1,max:100}))};function vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(r),!0).forEach(function(t){(0,m.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var mr=wp.i18n.__,gr=wp.components,br=gr.ToggleControl,wr=gr.SelectControl,_r=gr.BaseControl,kr=gr.Button,xr=gr.PanelRow,Ar=gr.Icon,Yr=gr.Flex,Cr=wp.data.dispatch,Pr=wp.blockEditor,Sr=Pr.MediaUpload,Or=Pr.MediaUploadCheck,Er=["image"],$r=wp.compose.useInstanceId;const Nr=function e(t){var r,n,o=t.setAttributes,a=t.attributes,l=a.mutedPreview,i=a.autoplay,s=a.playsInline,c=a.preload,u=a.poster,p=a.mutedOverlay,d=$r(e),f="video-block__poster-image-description-".concat(d),v=function(e){return function(t){o((0,m.A)({},e,t))}};return(0,_.Y)(React.Fragment,null,!i&&(0,_.Y)(React.Fragment,null,(0,_.Y)(br,{label:(0,_.Y)(React.Fragment,null,mr("Muted Autoplay Preview","presto-player")," ",!(null!==(r=prestoPlayer)&&void 0!==r&&r.isPremium)&&(0,_.Y)(y.A,null)),onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?o({mutedPreview:hr(hr({},l),{enabled:e})}):Cr("presto-player/player").setProModal(!0)},checked:null==l?void 0:l.enabled,className:"presto-setting__mutedPreview",help:mr("Shows a muted preview of the video.","presto-player")}),!(null==l||!l.enabled)&&!(null!=a&&a.video_id)&&(0,_.Y)(xr,null,(0,_.Y)(br,{label:mr("Muted Preview Captions","presto-player"),onChange:function(e){o({mutedPreview:hr(hr({},l),{captions:e})})},checked:null==l?void 0:l.captions,className:"presto-setting__mutedPreviewCaptions",help:mr("Play captions during muted autoplay","presto-player")})),!!l.enabled&&(0,_.Y)(xr,null,(0,_.Y)(br,{label:(0,_.Y)(React.Fragment,null,mr("Muted Preview Overlay","presto-player")," ",!(null!==(n=prestoPlayer)&&void 0!==n&&n.isPremium)&&(0,_.Y)(y.A,null)),onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?o({mutedOverlay:hr(hr({},p),{enabled:e})}):Cr("presto-player/player").setProModal(!0)},checked:null==p?void 0:p.enabled,className:"presto-setting__mutedOverlay",help:mr("Show an image over the top of the video either before or after the video.","presto-player")})),(null==p?void 0:p.enabled)&&(null==l?void 0:l.enabled)&&(0,_.Y)(yr,{attributes:a,setAttributes:o})),!(null!=l&&l.enabled)&&(0,_.Y)(br,{label:mr("Autoplay","presto-player"),className:"presto-setting__autoplay",onChange:v("autoplay"),checked:i,help:function(e){return e?mr("Note: Autoplaying videos may cause usability issues for some visitors.","presto-player"):null}}),(0,_.Y)(xr,null,(0,_.Y)(br,{label:mr("Play inline","presto-player"),className:"presto-setting__playsInline","data-cy":"playsInline",onChange:v("playsInline"),checked:s,help:mr("On mobile browsers, play the video on the page instead of opening it up fullscreen.","presto-player")})),!(null!=a&&a.video_id)&&(0,_.Y)(xr,null,(0,_.Y)(wr,{label:(0,_.Y)(Yr,null,(0,_.Y)("div",null,mr("Performance Preference","presto-player")),(0,_.Y)("a",{href:"https://prestoplayer.com/docs/performance-preferences-explained",target:"_blank",style:{textDecoration:"none"}},(0,_.Y)(Ar,{icon:"editor-help"}))),className:"presto-setting__preload",value:c,onChange:function(e){return o({preload:e})},help:(!!(null!=a&&a.src&&(0,tr.oU)(null==a?void 0:a.src)&&["metadata","none"].includes(c))||"none"===c&&!u)&&mr("A poster image is recommended for this setting.","presto-player"),options:[{value:"auto",label:mr("Video Playback Speed","presto-player")},{value:"metadata",label:mr("Page Load Speed","presto-player")},{value:"none",label:mr("Page Load Speed (Extreme)","presto-player")}]})),(0,_.Y)(xr,null,(0,_.Y)(Or,null,(0,_.Y)(_r,{className:"editor-video-poster-control"},(0,_.Y)(_r.VisualLabel,null,mr("Poster image","presto-player")),(0,_.Y)(Sr,{title:mr("Select poster image","presto-player"),onSelect:function(e){o({poster:e.url})},allowedTypes:Er,render:function(e){var t=e.open;return(0,_.Y)(kr,{className:"presto-setting__poster",isPrimary:!0,onClick:t,"aria-describedby":f},mr(u?"Replace":"Select","presto-player"))}}),(0,_.Y)("p",{id:f,hidden:!0},u?sprintf(mr("The current poster image url is %s","presto-player"),u):mr("There is no poster image currently selected","presto-player")),!!u&&(0,_.Y)(kr,{onClick:function(){o({poster:""})},className:"presto-setting__remove-poster",isTertiary:!0},mr("Remove","presto-player"))))),(0,_.Y)(xr,null,(0,_.Y)("div",{style:{width:"100%",flex:1}},(0,_.Y)(wr,{label:mr("Aspect Ratio","presto-player"),value:null==a?void 0:a.ratio,onChange:function(e){o({ratio:e})},options:[{value:"original",label:mr("Original","presto-player")},{value:"1:1",label:mr("Square - 1:1","presto-player")},{value:"4:3",label:mr("Standard - 4:3","presto-player")},{value:"3:4",label:mr("Portrait - 3:4","presto-player")},{value:"3:2",label:mr("Classic - 3:2","presto-player")},{value:"2:3",label:mr("Classic Portrait - 2:3","presto-player")},{value:"16:9",label:mr("Wide - 16:9","presto-player")},{value:"9:16",label:mr("Tall - 9:16","presto-player")}]}))))};function Tr(_x){return jr.apply(this,arguments)}function jr(){return(jr=(0,ge.A)(we().mark(function e(t){var r,n,o,a;return we().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("presto-shortcode-input").value,n=t.currentTarget,o=n.textContent,t.currentTarget.textContent=(0,c.__)("Copied!","presto-player"),setTimeout(function(){n.textContent=o},1500),!navigator.clipboard||!window.isSecureContext){e.next=9;break}return e.abrupt("return",navigator.clipboard.writeText(r));case 9:return(a=document.createElement("textarea")).value=r,a.style.position="fixed",a.style.left="-999999px",a.style.top="-999999px",document.body.appendChild(a),a.focus(),a.select(),e.abrupt("return",new Promise(function(e,t){document.execCommand("copy")?e():t(),a.remove()}));case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}const Rr=function(){return(0,_.Y)(l.PanelBody,{title:(0,c.__)("Timestamp Shortcode","presto-player"),initialOpen:!1},(0,_.Y)("div",{className:"block-editor-inserter__shortcode-input"},(0,_.Y)("p",null,(0,c.__)("Add convenient links to skip the player to a specific timestamp.","presto-player")),(0,_.Y)("input",{id:"presto-shortcode-input",style:{width:"100%",fontSize:"11px",marginBottom:"10px"},type:"text",readOnly:!0,value:'[pptime time="1:00"]Optional Text[/pptime]'}),(0,_.Y)("button",{type:"button",className:"components-button is-primary",onClick:Tr},(0,c.__)("Copy to clipboard","presto-player"))))};var Ir,Br=r(9078);function Lr(e){var t,r,v,h,m=e.attributes,g=e.setAttributes,b=(0,o.useContext)(Br.A),w=b.isEditing,_=b.setIsEditing,k=(0,u.useSelect)(function(e){return e(p.store).canUser("read","settings")});return(0,a.Y)(React.Fragment,null,w&&(0,a.Y)(l.PanelBody,null,(0,a.Y)(l.Flex,{align:"center",justify:"flex-start"},(0,a.Y)(l.Icon,{icon:i.A}),(0,a.Y)("h2",{class:"block-editor-block-card__title"},(0,c.__)("Editing Synced Media","presto-player"))),(0,a.Y)(l.BaseControl,{help:(0,c.__)("You are currently editing a synced media hub item that may be reused across your site.","presto-player"),css:(0,a.AH)(Ir||(Ir=(0,n.A)(["\n              margin-bottom: 10px !important;\n            "])))}),(0,a.Y)(l.Button,{icon:s.A,onClick:function(){return _(!1)},variant:"secondary"},(0,c.__)("Done Editing","presto-player"))),(0,a.Y)(l.PanelBody,{title:(0,a.Y)(React.Fragment,null,(0,c.__)("Chapters","presto-player")," ",!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,a.Y)(y.A,null)),initialOpen:null===(r=prestoPlayer)||void 0===r?void 0:r.isPremium},(0,a.Y)(f.A,{setAttributes:g,attributes:m})),(0,a.Y)(l.PanelBody,{title:(0,a.Y)(React.Fragment,null,(0,c.__)("Overlays","presto-player")," ",!(null!==(v=prestoPlayer)&&void 0!==v&&v.isPremium)&&(0,a.Y)(y.A,null)),initialOpen:null===(h=prestoPlayer)||void 0===h?void 0:h.isPremium},(0,a.Y)(he,{setAttributes:g,attributes:m})),(0,a.Y)(l.PanelBody,{title:(0,c.__)("Video settings","presto-player")},(0,a.Y)(Nr,{setAttributes:g,attributes:m})),(0,a.Y)(l.PanelBody,{title:(0,c.__)("Video Preset","presto-player")},(0,a.Y)(er,{setAttributes:g,attributes:m})),(0,a.Y)(Rr,null),!!k&&(0,a.Y)(l.PanelBody,{title:(0,c.__)("Global Player Branding","presto-player"),initialOpen:!1},(0,a.Y)(d.A,{setAttributes:g,attributes:m})))}},2422:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n,o=r(8168),a=r(7528),l=r(3986),i=(r(6087),r(9067)),s=["label","className"];const c=function(e){var t=e.label,r=e.className,c=(0,l.A)(e,s);return(0,i.Y)("span",(0,o.A)({className:r,css:(0,i.AH)(n||(n=(0,a.A)(['\n        background: var(--wp-admin-theme-color);\n        color: white;\n        font-size: 10px;\n        font-weight: 500;\n        padding: 2px 6px;\n        pointer-events: none;\n        letter-spacing: 0.3px;\n        line-height: 1.3;\n        border-radius-bottom-left: 2px;\n        border: none;\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,\n          Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n        display: inline-block;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1);\n      '])))},c),t)}},2485:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var l=o.apply(null,r);l&&e.push(l)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},2619:e=>{"use strict";e.exports=window.wp.hooks},2681:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(4999);const o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.J)(t)}},2799:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case p:case a:case i:case l:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case h:case v:case s:return e;default:return t}}case o:return t}}}function k(e){return _(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=s,t.Element=n,t.ForwardRef=d,t.Fragment=a,t.Lazy=h,t.Memo=v,t.Portal=o,t.Profiler=i,t.StrictMode=l,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||_(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===h},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===i},t.isStrictMode=function(e){return _(e)===l},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===i||e===l||e===f||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=_},2901:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(9922);function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,n.A)(o.key),o)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},3029:(e,t,r)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{A:()=>n})},3145:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{A:()=>n})},3212:(e,t,r)=>{"use strict";r.d(t,{A:()=>W});var n,o,a,l=r(7528),i=r(4467),s=r(3453),c=(r(6087),r(6055)),u=r(6079),p=r(467),d=r(9280),f=r.n(d),y=r(9067);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,i.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var __=wp.i18n.__,m=wp.components,g=m.TextControl,b=m.ExternalLink,w=m.Button,_=(m.Flex,wp.element),k=_.useState,x=_.useEffect,A=wp.data,Y=A.useSelect,C=A.dispatch;const P=function(e){var t=e.onClose,r=e.value,i=e.setValue,c=k(!1),u=(0,s.A)(c,2),d=u[0],v=u[1],m=wp.data.useSelect(function(e){return e("core").canUser("read","settings")}),_=Y(function(e){return e("presto-player/player").youtube()});x(function(){i(_.channel_id)},[null==_?void 0:_.channel_id]);var A=function(){var e=(0,p.A)(f().mark(function e(n){var o,a;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v(!0),C("presto-player/player").updateYoutube({channel_id:r}),o=h(h({},_),{channel_id:r}),e.prev=4,e.next=7,wp.apiFetch({path:"wp/v2/settings",method:"POST",data:{presto_player_youtube:o}});case 7:null!=(a=e.sent)&&a.presto_player_youtube&&(C("presto-player/player").setYoutube(null==a?void 0:a.presto_player_youtube),t()),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[4,11,13,16]])}));return function(_x){return e.apply(this,arguments)}}();return m?(0,y.Y)("form",{onSubmit:A},(0,y.Y)(g,{css:(0,y.AH)(n||(n=(0,l.A)(["\n          margin-bottom: 0 !important;\n        "]))),label:__("Youtube Channel ID","presto-player"),help:(0,y.Y)("p",null,(0,y.Y)(b,{href:"https://support.google.com/youtube/answer/3250431?hl=en"},__("Find my channel id","presto-player"))),value:r,onChange:function(e){return i(e)}}),(0,y.Y)(w,{disabled:d,isBusy:d,css:(0,y.AH)(o||(o=(0,l.A)(["\n          margin-bottom: 1em;\n        "]))),isPrimary:!0,type:"submot"},__("Save","presto-player")),(0,y.Y)(w,{onClick:t,css:(0,y.AH)(a||(a=(0,l.A)(["\n          margin-bottom: 1em;\n        "]))),isTertiary:!0},__("Cancel","presto-player"))):""};var S,O,E=r(7437);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){(0,i.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var T=wp.i18n.__,j=wp.components,R=j.ToggleControl,I=j.Flex,B=j.Button,L=j.BaseControl,D=j.RangeControl,M=j.TextControl,F=j.SelectControl,H=j.TextareaControl,V=wp.element,U=V.useEffect,z=V.useState,G=wp.data.useSelect;function W(e){var t=e.state,r=e.updateState,n=e.className,o=e.value,a=e.setValue,i=t.action_bar,p=z(!1),d=(0,s.A)(p,2),f=d[0],v=d[1],h=G(function(e){return e("presto-player/player").branding()}),m=G(function(e){return e("presto-player/player").youtube()}),g=function(e){r(N(N({},t),{},{action_bar:N(N({},i),e)}))};return U(function(){null!=i&&i.text||g({text:"Like this?"}),null!=i&&i.button_type||g({button_type:"custom"}),null!=i&&i.button_text||g({button_text:"Click Here"})},[t]),(0,E.Y)("div",{className:n},(0,E.Y)(L,null,(0,E.Y)("h3",null,T("Action Bar","presto-player"))),(0,E.Y)(L,{className:"presto-player__control--large-play"},(0,E.Y)(R,{label:T("Enable","presto-player"),help:T("Show an action bar below your player while it's playing.","presto-player"),onChange:function(e){g({enabled:e})},checked:null==i?void 0:i.enabled})),!(null==i||!i.enabled)&&(0,E.Y)(React.Fragment,null,(0,E.Y)(L,{className:"presto-player__control--percentage-watched",css:(0,y.AH)(S||(S=(0,l.A)(["\n              padding-left: 8px;\n              margin-bottom: 34px !important;\n              .components-range-control__root {\n                align-items: flex-start;\n              }\n            "])))},(0,E.Y)(D,{label:T("Display At (Percentage)","presto-player"),labelPosition:"top",onChange:function(e){g({percentage_start:e})},marks:[{value:0,label:T("Start","presto-player")},{value:50,label:T("50% Watched","presto-player")},{value:100,label:T("End","presto-player")}],shiftStep:5,value:(null==i?void 0:i.percentage_start)||0,css:(0,y.AH)(O||(O=(0,l.A)(["\n                .components-range-control__slider {\n                  position: relative !important;\n                }\n              "])))})),(0,E.Y)(L,{className:"presto-player__control--large-play"},(0,E.Y)(H,{label:T("Text","presto-player"),help:T("Action bar text.","presto-player"),value:null==i?void 0:i.text,onChange:function(e){return g({text:e})}})),(0,E.Y)(L,{className:"presto-player__control--large-play"},(0,E.Y)(I,null,(0,E.Y)(L.VisualLabel,null,T("Action Bar Background","presto-player")),(0,E.Y)(c.A,{color:(null==i?void 0:i.background_color)||"#1d1d1d",setColor:function(e){return g({background_color:e&&e.hex})}}))),(0,E.Y)(L,null,(0,E.Y)("h3",null,T("Button","presto-player"))),(0,E.Y)(L,{className:"presto-player__control--button-type"},(0,E.Y)(F,{label:T("Button Type","presto-player"),value:null==i?void 0:i.button_type,options:[{value:"custom",label:T("Custom","presto-player")},{value:"youtube",label:T("YouTube Subscribe","presto-player")},{value:"none",label:T("None","presto-player")}],onChange:function(e){return g({button_type:e})}})),"youtube"===(null==i?void 0:i.button_type)&&(null==m?void 0:m.channel_id)&&(0,E.Y)(R,{label:T("Show Count","presto-player"),help:T("Show your follower count.","presto-player"),onChange:function(e){g({button_count:e})},checked:null==i?void 0:i.button_count}),function(){if("youtube"===(null==i?void 0:i.button_type))return f?(0,E.Y)(P,{onClose:function(){return v(!1)},value:o,setValue:a}):(0,E.Y)("div",null,(0,E.Y)(B,{isSecondary:!0,onClick:function(e){e.preventDefault(),v(!0)}},null!=m&&m.channel_id?T("Update Youtube Channel Id","presto-player"):T("Add Youtube Channel Id","presto-player")),(0,E.Y)("br",null),(0,E.Y)("br",null),(0,E.Y)("br",null))}(),"custom"===(null==i?void 0:i.button_type)&&(0,E.Y)("div",null,(0,E.Y)(L,{className:"presto-player__control--button-text"},(0,E.Y)(M,{label:T("Button Text","presto-player"),help:(0,E.Y)("p",null,T("Submit button text","presto-player")),value:null==i?void 0:i.button_text,onChange:function(e){return g({button_text:e})}})),(0,E.Y)(L,{className:"presto-player__control--button-text"},(0,E.Y)(L.VisualLabel,null,(0,E.Y)("p",null," ",T("Button Link","presto-player"))),(0,E.Y)(u.A,{setSettings:function(e){g({button_link:e})},settings:(null==i?void 0:i.button_link)||{}})),(0,E.Y)(L,{className:"presto-player__control--button-radius"},(0,E.Y)(D,{label:T("Round Corners","presto-player"),help:T("Border radius of the button","presto-player"),value:(null==i?void 0:i.button_radius)||0,onChange:function(e){return g({button_radius:e})},min:0,max:25})),(0,E.Y)(L,{className:"presto-player__control--button-color"},(0,E.Y)(I,null,(0,E.Y)(L.VisualLabel,null,T("Button Color","presto-player")),(0,E.Y)(c.A,{color:(null==i?void 0:i.button_color)||(null==h?void 0:h.color),setColor:function(e){return g({button_color:e&&e.hex})}}))),(0,E.Y)(L,{className:"presto-player__control--button-text-color"},(0,E.Y)(I,null,(0,E.Y)(L.VisualLabel,null,T("Button Text Color","presto-player")),(0,E.Y)(c.A,{color:(null==i?void 0:i.button_text_color)||"#ffffff",setColor:function(e){return g({button_text_color:e&&e.hex})}}))))))}},3333:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=wp.data.withSelect;function o(e){return n(function(e){return{branding:e("presto-player/player").branding(),loading:e("presto-player/player").isResolving("getPresets"),presets:e("presto-player/player").getPresets(),defaultPreset:e("presto-player/player").getDefaultPreset()}})}},3370:(e,t,r)=>{"use strict";r.d(t,{H:()=>ye,a:()=>ke,b:()=>pt,c:()=>xe,g:()=>_,h:()=>de,r:()=>A});var n=r(3029),o=r(2901),a=r(9417),l=r(5501),i=r(6822),s=r(3954),c=r(8614),u=r(467),p=r(3453),d=r(4467),f=r(5458),y=r(2284),v=r(9280),h=r.n(v);function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var _n=0,n=function(){};return{s:n,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var _=function(){},k=Object.defineProperty,x=function(e){if(e.__stencil__getHostRef)return e.__stencil__getHostRef()},A=function(e,t){e.__stencil__getHostRef=function(){return t},t.$lazyInstance$=e},Y=function(e,t){return t in e},C=function(e,t){return(0,console.error)(e,t)},P=new Map,S=function(e,t,n){var o=e.$tagName$.replace(/-/g,"_"),a=e.$lazyBundleId$;if(a){var l=P.get(a);return l?l[o]:r(5049)("./".concat(a,".entry.js")).then(function(e){return P.set(a,e),e[o]},function(e){C(e,t.$hostElement$)})}},O=new Map,E="slot-fb{display:contents}slot-fb[hidden]{display:none}",$="http://www.w3.org/1999/xlink",N="undefined"!=typeof window?window:{},T={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,r,n){return e.addEventListener(t,r,n)},rel:function(e,t,r,n){return e.removeEventListener(t,r,n)},ce:function(e,t){return new CustomEvent(e,t)}},j=function(){var e,t=!1;try{null==(e=N.document)||e.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t}(),R=function(){try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1}(),I=!!R&&function(){return!!N.document&&Object.getOwnPropertyDescriptor(N.document.adoptedStyleSheets,"length").writable}(),B=!1,L=[],D=[],M=function(e,t){return function(r){e.push(r),B||(B=!0,t&&4&T.$flags$?V(H):T.raf(H))}},F=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){C(e)}e.length=0},H=function e(){F(L),F(D),(B=L.length>0)&&T.raf(e)},V=function(e){return Promise.resolve(undefined).then(e)},U=M(D,!0),z=function(e){return"object"===(e=(0,y.A)(e))||"function"===e};function G(e){var t,r,n;return null!=(n=null==(r=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:r.getAttribute("content"))?n:void 0}!function(e,t){for(var r in t)k(e,r,{get:t[r],enumerable:!0})}({},{err:function(){return Z},map:function(){return q},ok:function(){return W},unwrap:function(){return K},unwrapErr:function(){return Q}});var W=function(e){return{isOk:!0,isErr:!1,value:e}},Z=function(e){return{isOk:!1,isErr:!0,value:e}};function q(e,t){if(e.isOk){var r=t(e.value);return r instanceof Promise?r.then(function(e){return W(e)}):W(r)}if(e.isErr){var n=e.value;return Z(n)}throw"should never get here"}var X,K=function(e){if(e.isOk)return e.value;throw e.value},Q=function(e){if(e.isErr)return e.value;throw e.value};function J(e){var t,r=this.attachShadow({mode:"open"});void 0===X&&(X=null!=(t=function(){if(R){var e=new CSSStyleSheet;return e.replaceSync(":host{box-sizing:border-box}:host *,:host *:before,:host *:after{box-sizing:inherit}"),e}}())?t:null),X&&(I?r.adoptedStyleSheets.push(X):r.adoptedStyleSheets=[].concat((0,f.A)(r.adoptedStyleSheets),[X]))}var ee=function e(t){var r=ae(t,"childNodes");t.tagName&&t.tagName.includes("-")&&t["s-cr"]&&"SLOT-FB"!==t.tagName&&te(r,t.tagName).forEach(function(e){1===e.nodeType&&"SLOT-FB"===e.tagName&&(re(e,oe(e),!1).length?e.hidden=!0:e.hidden=!1)});var n=0;for(n=0;n<r.length;n++){var o=r[n];1===o.nodeType&&ae(o,"childNodes").length&&e(o)}};function te(e,t,r){for(var n,o=0,a=[];o<e.length;o++)!(n=e[o])["s-sr"]||t&&n["s-hn"]!==t||void 0!==r||a.push(n),a=[].concat((0,f.A)(a),(0,f.A)(te(n.childNodes,t,r)));return a}var re=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[];(r&&e["s-sr"]||!e["s-sr"])&&n.push(e);for(var o=e;o=o.nextSibling;)oe(o)!==t||!r&&o["s-sr"]||n.push(o);return n},ne=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},oe=function(e){return"string"==typeof e["s-sn"]?e["s-sn"]:1===e.nodeType&&e.getAttribute("slot")||void 0};function ae(e,t){if("__"+t in e){var r=e["__"+t];return"function"!=typeof r?r:r.bind(e)}return"function"!=typeof e[t]?e[t]:e[t].bind(e)}var le=function(e){return function(){}},ie=function(e,t){return function(){}},se=new WeakMap,ce=function(e,t,r){var n=O.get(e);R&&r?"string"==typeof(n=n||new CSSStyleSheet)?n=t:n.replaceSync(t):n=t,O.set(e,n)},ue=function(e){var t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,o=(t.$tagName$,function(){}),a=function(e,t){var r,n=pe(t),o=O.get(n);if(!N.document)return n;if(e=11===e.nodeType?e:N.document,o)if("string"==typeof o){e=e.head||e;var a,l=se.get(e);if(l||se.set(e,l=new Set),!l.has(n)){(a=N.document.createElement("style")).innerHTML=o;var i=null!=(r=T.$nonce$)?r:G(N.document);if(null!=i&&a.setAttribute("nonce",i),!(1&t.$flags$))if("HEAD"===e.nodeName){var s=e.querySelectorAll("link[rel=preconnect]"),c=s.length>0?s[s.length-1].nextSibling:e.querySelector("style");e.insertBefore(a,(null==c?void 0:c.parentNode)===e?c:null)}else if("host"in e)if(R){var u=new CSSStyleSheet;u.replaceSync(o),I?e.adoptedStyleSheets.unshift(u):e.adoptedStyleSheets=[u].concat((0,f.A)(e.adoptedStyleSheets))}else{var p=e.querySelector("style");p?p.innerHTML=o+p.innerHTML:e.prepend(a)}else e.append(a);1&t.$flags$&&e.insertBefore(a,null),4&t.$flags$&&(a.innerHTML+=E),l&&l.add(n)}}else e.adoptedStyleSheets.includes(o)||(I?e.adoptedStyleSheets.push(o):e.adoptedStyleSheets=[].concat((0,f.A)(e.adoptedStyleSheets),[o]));return n}(r.shadowRoot?r.shadowRoot:r.getRootNode(),t);10&n&&(r["s-sc"]=a,r.classList.add(a+"-h")),o()},pe=function(e,t){return"sc-"+e.$tagName$},de=function(e,t){for(var r=null,n=null,o=null,a=!1,l=!1,i=[],s=arguments.length,c=new Array(s>2?s-2:0),u=2;u<s;u++)c[u-2]=arguments[u];if(function t(n){for(var o=0;o<n.length;o++)r=n[o],Array.isArray(r)?t(r):null!=r&&"boolean"!=typeof r&&((a="function"!=typeof e&&!z(r))&&(r=String(r)),a&&l?i[i.length-1].$text$+=r:i.push(a?fe(null,r):r),l=a)}(c),t){t.key&&(n=t.key),t.name&&(o=t.name);var p=t.className||t.class;p&&(t.class="object"!==(0,y.A)(p)?p:Object.keys(p).filter(function(e){return p[e]}).join(" "))}if("function"==typeof e)return e(null===t?{}:t,i,ve);var d=fe(e,null);return d.$attrs$=t,i.length>0&&(d.$children$=i),d.$key$=n,d.$name$=o,d},fe=function(e,t){return{$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}},ye={},ve={forEach:function(e,t){return e.map(he).forEach(t)},map:function(e,t){return e.map(he).map(t).map(me)}},he=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}},me=function(e){if("function"==typeof e.vtag){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){(0,d.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),de.apply(void 0,[e.vtag,t].concat((0,f.A)(e.vchildren||[])))}var r=fe(e.vtag,e.vtext);return r.$attrs$=e.vattrs,r.$children$=e.vchildren,r.$key$=e.vkey,r.$name$=e.vname,r},ge=function(e){var t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp("(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?".concat(t,"))(").concat(t,"\\b)"),"g")};ge("::slotted"),ge(":host"),ge(":host-context");var be,we,_e=function(e,t,r){return null==e||z(e)?e:4&t?"false"!==e&&(""===e||!!e):2&t?"string"==typeof e?parseFloat(e):"number"==typeof e?e:NaN:1&t?String(e):e},ke=function(e){var t;return null==(t=x(e))?void 0:t.$hostElement$},xe=function(e,t,r){var n=ke(e);return{emit:function(e){return Ae(n,t,{bubbles:!0,composed:!0,cancelable:!0,detail:e})}}},Ae=function(e,t,r){var n=T.ce(t,r);return e.dispatchEvent(n),n},Ye=function(e,t,r,n,o,a,l){if(r!==n){var i=Y(e,t),s=t.toLowerCase();if("class"===t){var c=e.classList,u=Pe(r),p=Pe(n);c.remove.apply(c,(0,f.A)(u.filter(function(e){return e&&!p.includes(e)}))),c.add.apply(c,(0,f.A)(p.filter(function(e){return e&&!u.includes(e)})))}else if("style"===t){for(var d in r)n&&null!=n[d]||(d.includes("-")?e.style.removeProperty(d):e.style[d]="");for(var y in n)r&&n[y]===r[y]||(y.includes("-")?e.style.setProperty(y,n[y]):e.style[y]=n[y])}else if("key"===t);else if("ref"===t)n&&n(e);else if(i||"o"!==t[0]||"n"!==t[1]){var v=z(n);if((i||v&&null!==n)&&!o)try{if(e.tagName.includes("-"))e[t]!==n&&(e[t]=n);else{var h=null==n?"":n;"list"===t?i=!1:null!=r&&e[t]==h||("function"==typeof e.__lookupSetter__(t)?e[t]=h:e.setAttribute(t,h))}}catch(e){}var m=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,m=!0),null==n||!1===n?!1===n&&""!==e.getAttribute(t)||(m?e.removeAttributeNS($,t):e.removeAttribute(t)):(!i||4&a||o)&&!v&&1===e.nodeType&&(n=!0===n?"":n,m?e.setAttributeNS($,t,n):e.setAttribute(t,n))}else if(t="-"===t[2]?t.slice(3):Y(N,s)?s.slice(2):s[2]+t.slice(3),r||n){var g=t.endsWith(Se);t=t.replace(Oe,""),r&&T.rel(e,t,r,g),n&&T.ael(e,t,n,g)}}},Ce=/\s/,Pe=function(e){return"object"===(0,y.A)(e)&&e&&"baseVal"in e&&(e=e.baseVal),e&&"string"==typeof e?e.split(Ce):[]},Se="Capture",Oe=new RegExp(Se+"$"),Ee=function(e,t,r,n){var o,a=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,l=e&&e.$attrs$||{},i=t.$attrs$||{},s=g($e(Object.keys(l)));try{for(s.s();!(o=s.n()).done;){var c=o.value;c in i||Ye(a,c,l[c],void 0,r,t.$flags$)}}catch(e){s.e(e)}finally{s.f()}var u,p=g($e(Object.keys(i)));try{for(p.s();!(u=p.n()).done;){var d=u.value;Ye(a,d,l[d],i[d],r,t.$flags$)}}catch(e){p.e(e)}finally{p.f()}};function $e(e){return e.includes("ref")?[].concat((0,f.A)(e.filter(function(e){return"ref"!==e})),["ref"]):e}var Ne=!1,Te=!1,je=!1,Re=!1,Ie=function e(t,r,n){var o,a,l,i,s=r.$children$[n],c=0;if(Ne||(je=!0,"slot"===s.$tag$&&(s.$flags$|=s.$children$?2:1)),null!==s.$text$)a=s.$elm$=N.document.createTextNode(s.$text$);else if(1&s.$flags$)a=s.$elm$=N.document.createTextNode(""),Ee(null,s,Re);else{if(Re||(Re="svg"===s.$tag$),!N.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(a=s.$elm$=N.document.createElementNS(Re?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Ne&&2&s.$flags$?"slot-fb":s.$tag$),Re&&"foreignObject"===s.$tag$&&(Re=!1),Ee(null,s,Re),s.$children$)for(c=0;c<s.$children$.length;++c)(l=e(t,s,c))&&a.appendChild(l);"svg"===s.$tag$?Re=!1:"foreignObject"===a.tagName&&(Re=!0)}return a["s-hn"]=we,3&s.$flags$&&(a["s-sr"]=!0,a["s-cr"]=be,a["s-sn"]=s.$name$||"",a["s-rf"]=null==(o=s.$attrs$)?void 0:o.ref,function(e){if(!e.assignedElements&&!e.assignedNodes&&e["s-sr"]){var t=function(t){return function(e){var r=[],n=this["s-sn"];(null==e?void 0:e.flatten)&&console.error("\n          Flattening is not supported for Stencil non-shadow slots.\n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");var o=this["s-cr"].parentElement;return(o.__childNodes?o.childNodes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r]["s-nr"]||void 0;n&&n.isConnected&&t.push(n)}return t}(o.childNodes)).forEach(function(e){n===oe(e)&&r.push(e)}),t?r.filter(function(e){return 1===e.nodeType}):r}.bind(e)};e.assignedElements=t(!0),e.assignedNodes=t(!1)}}(a),(i=t&&t.$children$&&t.$children$[n])&&i.$tag$===s.$tag$&&t.$elm$&&Be(t.$elm$,!1)),a},Be=function e(t,r){T.$flags$|=1;for(var n=Array.from(t.__childNodes||t.childNodes),o=n.length-1;o>=0;o--){var a=n[o];a["s-hn"]!==we&&a["s-ol"]&&(Ge(Fe(a).parentNode,a,Fe(a)),a["s-ol"].remove(),a["s-ol"]=void 0,a["s-sh"]=void 0,je=!0),r&&e(a,r)}T.$flags$&=-2},Le=function(e,t,r,n,o,a){var l,i=e["s-cr"]&&e["s-cr"].parentNode||e;for(i.shadowRoot&&i.tagName===we&&(i=i.shadowRoot);o<=a;++o)n[o]&&(l=Ie(null,r,o))&&(n[o].$elm$=l,Ge(i,l,Fe(t)))},De=function(e,t,r){for(var n=t;n<=r;++n){var o=e[n];if(o){var a=o.$elm$;ze(o),a&&(Te=!0,a["s-ol"]?a["s-ol"].remove():Be(a,!0),a.remove())}}},Me=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:r?(r&&!e.$key$&&t.$key$&&(e.$key$=t.$key$),!0):e.$key$===t.$key$)},Fe=function(e){return e&&e["s-ol"]||e},He=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.$elm$=e.$elm$,a=e.$children$,l=t.$children$,i=t.$tag$,s=t.$text$;null===s?(Ee(e,t,Re="svg"===i||"foreignObject"!==i&&Re),null!==a&&null!==l?function(e,t,r,n){for(var o,a,l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=0,s=0,c=0,u=0,p=t.length-1,d=t[0],f=t[p],y=n.length-1,v=n[0],h=n[y];i<=p&&s<=y;)if(null==d)d=t[++i];else if(null==f)f=t[--p];else if(null==v)v=n[++s];else if(null==h)h=n[--y];else if(Me(d,v,l))He(d,v,l),d=t[++i],v=n[++s];else if(Me(f,h,l))He(f,h,l),f=t[--p],h=n[--y];else if(Me(d,h,l))"slot"!==d.$tag$&&"slot"!==h.$tag$||Be(d.$elm$.parentNode,!1),He(d,h,l),Ge(e,d.$elm$,f.$elm$.nextSibling),d=t[++i],h=n[--y];else if(Me(f,v,l))"slot"!==d.$tag$&&"slot"!==h.$tag$||Be(f.$elm$.parentNode,!1),He(f,v,l),Ge(e,f.$elm$,d.$elm$),f=t[--p],v=n[++s];else{for(c=-1,u=i;u<=p;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===v.$key$){c=u;break}c>=0?((a=t[c]).$tag$!==v.$tag$?o=Ie(t&&t[s],r,c):(He(a,v,l),t[c]=void 0,o=a.$elm$),v=n[++s]):(o=Ie(t&&t[s],r,s),v=n[++s]),o&&Ge(Fe(d.$elm$).parentNode,o,Fe(d.$elm$))}i>p?Le(e,null==n[y+1]?null:n[y+1].$elm$,r,n,s,y):s>y&&De(t,i,p)}(o,a,t,l,n):null!==l?(null!==e.$text$&&(o.textContent=""),Le(o,null,t,l,0,l.length-1)):!n&&null!==a&&De(a,0,a.length-1),Re&&"svg"===i&&(Re=!1)):(r=o["s-cr"])?r.parentNode.textContent=s:e.$text$!==s&&(o.data=s)},Ve=[],Ue=function e(t){var r,n,o,a,l=g(t.__childNodes||t.childNodes);try{for(l.s();!(a=l.n()).done;){var i=a.value;if(i["s-sr"]&&(r=i["s-cr"])&&r.parentNode){n=r.parentNode.__childNodes||r.parentNode.childNodes;var s=i["s-sn"],c=function(){if(!(r=n[o])["s-cn"]&&!r["s-nr"]&&r["s-hn"]!==i["s-hn"])if(ne(r,s)){var e=Ve.find(function(e){return e.$nodeToRelocate$===r});Te=!0,r["s-sn"]=r["s-sn"]||s,e?(e.$nodeToRelocate$["s-sh"]=i["s-hn"],e.$slotRefNode$=i):(r["s-sh"]=i["s-hn"],Ve.push({$slotRefNode$:i,$nodeToRelocate$:r})),r["s-sr"]&&Ve.map(function(t){ne(t.$nodeToRelocate$,r["s-sn"])&&(e=Ve.find(function(e){return e.$nodeToRelocate$===r}))&&!t.$slotRefNode$&&(t.$slotRefNode$=e.$slotRefNode$)})}else Ve.some(function(e){return e.$nodeToRelocate$===r})||Ve.push({$nodeToRelocate$:r})};for(o=n.length-1;o>=0;o--)c()}1===i.nodeType&&e(i)}}catch(e){l.e(e)}finally{l.f()}},ze=function e(t){t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(e)},Ge=function(e,t,r){return null==e?void 0:e.insertBefore(t,r)},We=function(e,t){var r,n,o,a,l,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.$hostElement$,c=e.$cmpMeta$,u=e.$vnode$||fe(null,null),d=(l=t)&&l.$tag$===ye?t:de(null,null,t);if(we=s.tagName,c.$attrsToReflect$&&(d.$attrs$=d.$attrs$||{},c.$attrsToReflect$.map(function(e){var t=(0,p.A)(e,2),r=t[0],n=t[1];return d.$attrs$[n]=s[r]})),i&&d.$attrs$)for(var f=0,y=Object.keys(d.$attrs$);f<y.length;f++){var v=y[f];s.hasAttribute(v)&&!["key","ref","style","class"].includes(v)&&(d.$attrs$[v]=s[v])}if(d.$tag$=null,d.$flags$|=4,e.$vnode$=d,d.$elm$=u.$elm$=s.shadowRoot||s,Ne=!(!(1&c.$flags$)||128&c.$flags$),be=s["s-cr"],Te=!1,He(u,d,i),T.$flags$|=1,je){Ue(d.$elm$);for(var h=0,m=Ve;h<m.length;h++){var g=m[h].$nodeToRelocate$;if(!g["s-ol"]&&N.document){var b=N.document.createTextNode("");b["s-nr"]=g,Ge(g.parentNode,g["s-ol"]=b,g)}}for(var w=0,_=Ve;w<_.length;w++){var k=_[w],x=k.$nodeToRelocate$,A=k.$slotRefNode$;if(A){for(var Y=A.parentNode,C=A.nextSibling,P=null==(r=x["s-ol"])?void 0:r.previousSibling;P;){var S=null!=(n=P["s-nr"])?n:null;if(S&&S["s-sn"]===x["s-sn"]&&Y===(S.__parentNode||S.parentNode)){for(S=S.nextSibling;S===x||(null==S?void 0:S["s-sr"]);)S=null==S?void 0:S.nextSibling;if(!S||!S["s-nr"]){C=S;break}}P=P.previousSibling}var O=x.__parentNode||x.parentNode,E=x.__nextSibling||x.nextSibling;(!C&&Y!==O||E!==C)&&x!==C&&(!x["s-hn"]&&x["s-ol"]&&(x["s-hn"]=x["s-ol"].parentNode.nodeName),Ge(Y,x,C),1===x.nodeType&&"SLOT-FB"!==x.tagName&&(x.hidden=null!=(o=x["s-ih"])&&o)),x&&"function"==typeof A["s-rf"]&&A["s-rf"](A)}else 1===x.nodeType&&(i&&(x["s-ih"]=null!=(a=x.hidden)&&a),x.hidden=!0)}}Te&&ee(d.$elm$),T.$flags$&=-2,Ve.length=0,be=void 0},Ze=function(e,t){if(t&&!e.$onRenderResolve$&&t["s-p"])var r=t["s-p"].push(new Promise(function(n){return e.$onRenderResolve$=function(){t["s-p"].splice(r-1,1),n()}}))},qe=function(e,t){if(e.$flags$|=16,4&e.$flags$)e.$flags$|=512;else{Ze(e,e.$ancestorComponent$);var r=function(){return Xe(e,t)};if(!t)return U(r);queueMicrotask(function(){r()})}},Xe=function(e,t){var r,n=e.$hostElement$,o=(e.$cmpMeta$.$tagName$,function(){}),a=e.$lazyInstance$;if(!a)throw new Error("Can't render component <".concat(n.tagName.toLowerCase()," /> with invalid Stencil runtime! Make sure this imported component is compiled with a `externalRuntime: true` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime"));return t?(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(function(e){var t=(0,p.A)(e,2),r=t[0],o=t[1];return nt(a,r,o,n)}),e.$queuedListeners$=void 0),r=nt(a,"componentWillLoad",void 0,n)):r=nt(a,"componentWillUpdate",void 0,n),r=Ke(r,function(){return nt(a,"componentWillRender",void 0,n)}),o(),Ke(r,function(){return Je(e,a,t)})},Ke=function(e,t){return Qe(e)?e.then(t).catch(function(e){console.error(e),t()}):t()},Qe=function(e){return e instanceof Promise||e&&e.then&&"function"==typeof e.then},Je=function(){var e=(0,u.A)(h().mark(function e(t,r,n){var o,a,l,i,s,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.$hostElement$,l=le(0,t.$cmpMeta$.$tagName$),i=a["s-rc"],n&&ue(t),s=le(0,t.$cmpMeta$.$tagName$),et(t,r,a,n),i&&(i.map(function(e){return e()}),a["s-rc"]=void 0),s(),l(),c=null!=(o=a["s-p"])?o:[],u=function(){return tt(t)},0===c.length?u():(Promise.all(c).then(u),t.$flags$|=4,c.length=0);case 12:case"end":return e.stop()}},e)}));return function(_x,t,r){return e.apply(this,arguments)}}(),et=function(e,t,r,n){try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,We(e,t,n)}catch(t){C(t,e.$hostElement$)}return null},tt=function(e){e.$cmpMeta$.$tagName$;var t=e.$hostElement$,r=e.$lazyInstance$,n=e.$ancestorComponent$;nt(r,"componentDidRender",void 0,t),64&e.$flags$?nt(r,"componentDidUpdate",void 0,t):(e.$flags$|=64,ot(t),nt(r,"componentDidLoad",void 0,t),e.$onReadyResolve$(t),n||rt()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&V(function(){return qe(e,!1)}),e.$flags$&=-517},rt=function(e){V(function(){return Ae(N,"appload",{detail:{namespace:"web-components"}})})},nt=function(e,t,r,n){if(e&&e[t])try{return e[t](r)}catch(e){C(e,n)}},ot=function(e){return e.classList.add("hydrated")},at=function(e,t,r,n){var o=x(e);if(o){if(!o)throw new Error("Couldn't find host element for \"".concat(n.$tagName$,'" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).'));var a=o.$hostElement$,l=o.$instanceValues$.get(t),i=o.$flags$,s=o.$lazyInstance$;r=_e(r,n.$members$[t][0]);var c=Number.isNaN(l)&&Number.isNaN(r);if((!(8&i)||void 0===l)&&r!==l&&!c&&(o.$instanceValues$.set(t,r),s)){if(n.$watchers$&&128&i){var u=n.$watchers$[t];u&&u.map(function(e){try{s[e](r,l,t)}catch(e){C(e,a)}})}if(2==(18&i)){if(s.componentShouldUpdate&&!1===s.componentShouldUpdate(r,l,t))return;qe(o,!1)}}}},lt=function(e,t,r){var n,o,a=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);var l=Object.entries(null!=(n=t.$members$)?n:{});if(l.map(function(e){var n=(0,p.A)(e,2),o=n[0],l=(0,p.A)(n[1],1)[0];if(31&l||2&r&&32&l){var i=Object.getOwnPropertyDescriptor(a,o)||{},s=i.get,c=i.set;s&&(t.$members$[o][0]|=2048),c&&(t.$members$[o][0]|=4096),(1&r||!s)&&Object.defineProperty(a,o,{get:function(){if(!(2048&t.$members$[o][0]))return function(e,t){return x(e).$instanceValues$.get(t)}(this,o);var e=x(this),r=e?e.$lazyInstance$:a;return r?r[o]:void 0},configurable:!0,enumerable:!0}),Object.defineProperty(a,o,{set:function(e){var n=this,a=x(this);if(a){if(c){var i=32&l?this[o]:a.$hostElement$[o];return void 0===i&&a.$instanceValues$.get(o)?e=a.$instanceValues$.get(o):!a.$instanceValues$.get(o)&&i&&a.$instanceValues$.set(o,i),c.apply(this,[_e(e,l)]),e=32&l?this[o]:a.$hostElement$[o],void at(this,o,e,t)}if(!(1&r&&4096&t.$members$[o][0]))return at(this,o,e,t),void(1&r&&!a.$lazyInstance$&&a.$onReadyPromise$.then(function(){4096&t.$members$[o][0]&&a.$lazyInstance$[o]!==a.$instanceValues$.get(o)&&(a.$lazyInstance$[o]=e)}));var s=function(){var r=a.$lazyInstance$[o];!a.$instanceValues$.get(o)&&r&&a.$instanceValues$.set(o,r),a.$lazyInstance$[o]=_e(e,l),at(n,o,a.$lazyInstance$[o],t)};a.$lazyInstance$?s():a.$onReadyPromise$.then(function(){return s()})}}})}else 1&r&&64&l&&Object.defineProperty(a,o,{value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a=x(this);return null==(n=null==a?void 0:a.$onInstancePromise$)?void 0:n.then(function(){var e,r;return null==(r=a.$lazyInstance$)?void 0:(e=r)[o].apply(e,t)})}})}),1&r){var i=new Map;a.attributeChangedCallback=function(e,r,n){var o=this;T.jmp(function(){var l,s=i.get(e);if(o.hasOwnProperty(s))n=o[s],delete o[s];else{if(a.hasOwnProperty(s)&&"number"==typeof o[s]&&o[s]==n)return;if(null==s){var c=x(o),u=null==c?void 0:c.$flags$;if(c&&u&&!(8&u)&&128&u&&n!==r){var p=c.$lazyInstance$,d=null==(l=t.$watchers$)?void 0:l[e];null==d||d.forEach(function(t){null!=p[t]&&p[t].call(p,n,r,e)})}return}}var f=Object.getOwnPropertyDescriptor(a,s);(n=(null!==n||"boolean"!=typeof o[s])&&n)===o[s]||f.get&&!f.set||(o[s]=n)})},e.observedAttributes=Array.from(new Set([].concat((0,f.A)(Object.keys(null!=(o=t.$watchers$)?o:{})),(0,f.A)(l.filter(function(e){var t=(0,p.A)(e,2);return t[0],15&t[1][0]}).map(function(e){var r,n=(0,p.A)(e,2),o=n[0],a=n[1],l=a[1]||o;return i.set(l,o),512&a[0]&&(null==(r=t.$attrsToReflect$)||r.push([o,l])),l})))))}}return e},it=function(){var e=(0,u.A)(h().mark(function e(t,r,n,o){var a,l,i,s,c,u,p,d,f,y;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(32&r.$flags$){e.next=30;break}if(r.$flags$|=32,!n.$lazyBundleId$){e.next=26;break}if(!(l=S(n,r))||!("then"in l)){e.next=13;break}return i=ie(),e.next=9,l;case 9:a=e.sent,i(),e.next=14;break;case 13:a=l;case 14:if(a){e.next=16;break}throw new Error('Constructor for "'.concat(n.$tagName$,"#").concat(r.$modeName$,'" was not found'));case 16:a.isProxied||(n.$watchers$=a.watchers,lt(a,n,2),a.isProxied=!0),s=le(0,n.$tagName$),r.$flags$|=8;try{new a(r)}catch(e){C(e,t)}r.$flags$&=-9,r.$flags$|=128,s(),st(r.$lazyInstance$,t),e.next=29;break;case 26:a=t.constructor,c=t.localName,customElements.whenDefined(c).then(function(){return r.$flags$|=128});case 29:a&&a.style&&("string"==typeof a.style&&(u=a.style),p=pe(n),O.has(p)||(d=le(0,n.$tagName$),ce(p,u,!!(1&n.$flags$)),d()));case 30:f=r.$ancestorComponent$,y=function(){return qe(r,!0)},f&&f["s-rc"]?f["s-rc"].push(y):y();case 33:case"end":return e.stop()}},e)}));return function(t,r,n,o){return e.apply(this,arguments)}}(),st=function(e,t){nt(e,"connectedCallback",void 0,t)},ct=function(e,t){nt(e,"disconnectedCallback",void 0,t||e)},ut=function(){var e=(0,u.A)(h().mark(function e(t){var r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:1&T.$flags$||((null==(r=x(t))?void 0:r.$rmListeners$)&&(r.$rmListeners$.map(function(e){return e()}),r.$rmListeners$=void 0),(null==r?void 0:r.$lazyInstance$)?ct(r.$lazyInstance$,t):(null==r?void 0:r.$onReadyPromise$)&&r.$onReadyPromise$.then(function(){return ct(r.$lazyInstance$,t)})),se.has(t)&&se.delete(t),t.shadowRoot&&se.has(t.shadowRoot)&&se.delete(t.shadowRoot);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),pt=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(N.document){var u,d=[],f=r.exclude||[],y=N.customElements,v=N.document.head,h=v.querySelector("meta[charset]"),g=N.document.createElement("style"),b=[],w=!0;Object.assign(T,r),T.$resourcesUrl$=new URL(r.resourcesUrl||"./",N.document.baseURI).href;var _=!1;if(e.map(function(e){e[1].map(function(t){var r,v={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};4&v.$flags$&&(_=!0),v.$members$=t[2],v.$listeners$=t[3],v.$attrsToReflect$=[],v.$watchers$=null!=(r=t[4])?r:{};var h=v.$tagName$,g=function(e){(0,l.A)(d,e);var t,r,c=(t=d,r=m(),function(){var e,n=(0,s.A)(t);if(r){var o=(0,s.A)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.A)(this,e)});function d(e){var t;if((0,n.A)(this,d),(t=c.call(this,e)).hasRegisteredEventListeners=!1,function(e,t){var r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};r.$onInstancePromise$=new Promise(function(e){return r.$onInstanceResolve$=e}),r.$onReadyPromise$=new Promise(function(e){return r.$onReadyResolve$=e}),e["s-p"]=[],e["s-rc"]=[];var n=r;e.__stencil__getHostRef=function(){return n}}(e=(0,a.A)(t),v),1&v.$flags$)if(e.shadowRoot){if("open"!==e.shadowRoot.mode)throw new Error("Unable to re-use existing shadow root for ".concat(v.$tagName$,"! Mode is set to ").concat(e.shadowRoot.mode," but Stencil only supports open shadow roots."))}else J.call(e,v);return t}return(0,o.A)(d,[{key:"connectedCallback",value:function(){var e=this,t=x(this);t&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,dt(this,t,v.$listeners$)),u&&(clearTimeout(u),u=null),w?b.push(this):T.jmp(function(){return function(e){if(!(1&T.$flags$)){var t=x(e);if(!t)return;var r=t.$cmpMeta$,n=(r.$tagName$,function(){});if(1&t.$flags$)dt(e,t,r.$listeners$),(null==t?void 0:t.$lazyInstance$)?st(t.$lazyInstance$,e):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then(function(){return st(t.$lazyInstance$,e)});else{t.$flags$|=1,12&r.$flags$&&function(e){if(N.document){var t=e["s-cr"]=N.document.createComment("");t["s-cn"]=!0,Ge(e,t,e.firstChild)}}(e);for(var o=e;o=o.parentNode||o.host;)if(o["s-p"]){Ze(t,t.$ancestorComponent$=o);break}r.$members$&&Object.entries(r.$members$).map(function(t){var r=(0,p.A)(t,2),n=r[0];if(31&(0,p.A)(r[1],1)[0]&&e.hasOwnProperty(n)){var o=e[n];delete e[n],e[n]=o}}),it(e,t,r)}n()}}(e)}))}},{key:"disconnectedCallback",value:function(){var e=this;T.jmp(function(){return ut(e)}),T.raf(function(){var t,r=x(e);if(r){var n=b.findIndex(function(t){return t===e});n>-1&&b.splice(n,1),(null==(t=null==r?void 0:r.$vnode$)?void 0:t.$elm$)instanceof Node&&!r.$vnode$.$elm$.isConnected&&delete r.$vnode$.$elm$}})}},{key:"componentOnReady",value:function(){var e;return null==(e=x(this))?void 0:e.$onReadyPromise$}}]),d}((0,c.A)(HTMLElement));v.$lazyBundleId$=e[0],f.includes(h)||y.get(h)||(d.push(h),y.define(h,lt(g,v,1)))})}),d.length>0&&(_&&(g.textContent+=E),g.textContent+=d.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",g.innerHTML.length)){g.setAttribute("data-styles","");var k=null!=(t=T.$nonce$)?t:G(N.document);null!=k&&g.setAttribute("nonce",k),v.insertBefore(g,h?h.nextSibling:v.firstChild)}w=!1,b.length?b.map(function(e){return e.connectedCallback()}):T.jmp(function(){return u=setTimeout(rt,30)})}else console.warn("Stencil: No document found. Skipping bootstrapping lazy components.")},dt=function(e,t,r,n){r&&N.document&&r.map(function(r){var n=(0,p.A)(r,3),o=n[0],a=n[1],l=n[2],i=yt(N.document,e,o),s=ft(t,l),c=vt(o);T.ael(i,a,s,c),(t.$rmListeners$=t.$rmListeners$||[]).push(function(){return T.rel(i,a,s,c)})})},ft=function(e,t){return function(r){var n;try{256&e.$flags$?null==(n=e.$lazyInstance$)||n[t](r):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,r])}catch(t){C(t,e.$hostElement$)}}},yt=function(e,t,r){return 8&r?N:t},vt=function(e){return j?{passive:!!(1&e),capture:!!(2&e)}:!!(2&e)}},3420:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n,o,a,l=r(7528),i=(r(6087),r(7723),r(4997)),s=r(9067),c=r(7437);const u=function(e){var t,r,u=e.thumbnail,p=e.type;return u?(0,c.Y)("img",{css:(0,s.AH)(o||(o=(0,l.A)(["\n          width: 24px;\n          height: 24px;\n          object-fit: cover;\n          margin-right: 8px;\n          border-radius: 3px;\n        "]))),src:u,alt:"Presto video thumbnail"}):(0,c.Y)("div",{css:(0,s.AH)(a||(a=(0,l.A)(["\n        width: 24px;\n        margin-right: 8px;\n        line-height: 0;\n      "])))},null!=(r=(0,i.getBlockType)("presto-player/".concat(p)))&&null!==(t=r.icon)&&void 0!==t&&t.src?r.icon.src:(0,c.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",css:(0,s.AH)(n||(n=(0,l.A)(["\n          color: var(--wp-admin-theme-color, #007cba);\n        "])))},(0,c.Y)("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm14.024-.983a1.125 1.125 0 0 1 0 1.966l-5.603 3.113A1.125 1.125 0 0 1 9 15.113V8.887c0-.857.921-1.4 1.671-.983l5.603 3.113Z",clipRule:"evenodd"})))}},3453:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(6369),o=r(6986),a=r(7800),l=r(6562);function i(e,t){return(0,n.A)(e)||(0,o.A)(e,t)||(0,a.A)(e,t)||(0,l.A)()}},3510:(e,t,r)=>{"use strict";r.d(t,{A:()=>j});var n=r(8168),o=r(7528),a=r(5458),l=r(467),i=r(3453),s=r(3986),c=r(6087),u=r(9280),p=r.n(u),d=r(7723);const f=window.wp.url;var y,v,h,m,g,b=r(692),w=r(3582),_=r(1455),k=r.n(_),x=r(7143),A=r(6459),Y=r.n(A),C=r(6427),P=r(9067),S=r(7437),O=["options","isLoading","hasMore","search","onSearch","onSelect","onNextPage","onCreate","onOpen","renderItem"];const E=function(e){var t=e.options,r=e.isLoading,a=e.hasMore,l=e.search,i=e.onSearch,c=e.onSelect,u=e.onNextPage,p=e.onCreate,f=e.onOpen,b=e.renderItem,w=void 0===b?null:b,_=(0,s.A)(e,O);return(0,S.Y)("div",{class:"pp_search_dropdown_container",css:(0,P.AH)(h||(h=(0,o.A)(["\n        width: 100%;\n        position: relative;\n      "])))},(0,S.Y)(C.Dropdown,(0,n.A)({onToggle:function(e){return f(e)},renderContent:function(){return(0,S.Y)("div",{css:(0,P.AH)(m||(m=(0,o.A)(["\n              width: 500px;\n              max-width: 100vw;\n              padding: 8px;\n              .components-menu-group {\n                padding: 8px;\n                margin-top: 0;\n                margin-bottom: 0;\n                margin-left: -8px;\n                margin-right: -8px;\n              }\n              .components-menu-group + .components-menu-group {\n                margin-top: 0;\n                border-top: 1px solid #ccc;\n                padding: 8px;\n              }\n              .components-menu-group:last-child {\n                margin-bottom: -8px;\n              }\n              .components-menu-group:first-child {\n                margin-top: -8px;\n              }\n            "])))},(0,S.Y)(C.SearchControl,{placeholder:(0,d.__)("Search...","presto-player"),value:l,onChange:i,css:(0,P.AH)(g||(g=(0,o.A)(["\n                padding: 0.5em 0.5em 0em 0.5em;\n              "])))}),r&&!t.length?(0,S.Y)(C.MenuGroup,null,(0,S.Y)(C.MenuItem,null,(0,S.Y)(C.Spinner,null))):t.length?(0,S.Y)(React.Fragment,null,!!p&&(0,S.Y)(C.MenuGroup,null,(0,S.Y)(C.MenuItem,{icon:(0,S.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",css:(0,P.AH)(y||(y=(0,o.A)(["\n                    width: 18px;\n                  "])))},(0,S.Y)("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})),iconPosition:"left",onClick:p},(0,d.__)("Add New","presto-player"))),!t.length&&l?(0,S.Y)(C.Disabled,null,(0,S.Y)(C.MenuItem,null,(0,d.__)("None found.","presto-player"))):(0,S.Y)(C.MenuGroup,null,(t||[]).map(function(e){return w?w({item:e,onSelect:c}):(0,S.Y)(C.MenuItem,(0,n.A)({icon:null==e?void 0:e.icon,iconPosition:"left",onClick:function(){return c(e)}},e),(null==e?void 0:e.title)||"Untitled")})),a&&t.length&&(0,S.Y)("div",{css:(0,P.AH)(v||(v=(0,o.A)(["\n              margin-top: 20px;\n              text-align: center;\n              display: flex;\n              justify-content: center;\n              width: 100%;\n            "])))},(0,S.Y)(C.Button,{variant:"secondary",size:"small",onClick:u,isBusy:r},(0,d.__)("Load More","presto-player")))):(0,S.Y)(C.MenuGroup,null,(0,S.Y)(C.MenuItem,null,(0,d.__)("None found.","presto-player"))))}},_)))};var $,N=r(3420),T=["onSelect","value"];const j=function(e){var t=e.onSelect,r=e.value,u=(0,s.A)(e,T),y=(0,c.useState)(""),v=(0,i.A)(y,2),h=v[0],m=v[1],g=(0,c.useState)(1),_=(0,i.A)(g,2),A=_[0],O=_[1],j=(0,c.useState)(!1),R=(0,i.A)(j,2),I=R[0],B=R[1],L=(0,c.useState)([]),D=(0,i.A)(L,2),M=D[0],F=D[1],H=(0,c.useState)(0),V=(0,i.A)(H,2),U=V[0],z=V[1],G=(0,x.useDispatch)(b.store).createErrorNotice,W=(0,x.useDispatch)(w.store).receiveEntityRecords,Z=(0,c.useState)(!1),q=(0,i.A)(Z,2),X=q[0],K=q[1],Q=Y()(function(){O(1),F(null),ee()},500,{leading:!0});(0,c.useEffect)(function(){X&&Q(h)},[h,X]),(0,c.useEffect)(function(){X&&ee()},[A,X]);var J=A<U,ee=function(){var e=(0,l.A)(p().mark(function e(){var t,r,n;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),t=(0,x.select)(w.store).getEntityConfig("postType","pp_video_block").baseURL,e.next=5,k()({path:(0,f.addQueryArgs)(t,{search:h,page:A,per_page:5,_embed:1}),parse:!1});case 5:return r=e.sent,e.next=8,r.json();case 8:n=e.sent,z(parseInt(r.headers.get("X-WP-TotalPages"))),W("postType","pp_video_block",n),F(!h&&A>1?[].concat((0,a.A)(M),(0,a.A)(n)):n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),G((null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,d.__)("Something went wrong","presto-player"),{type:"snackbar"});case 17:return e.prev=17,B(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,14,17,20]])}));return function(){return e.apply(this,arguments)}}(),te=Array.isArray(r)?r:[r];return(0,S.Y)(E,(0,n.A)({isLoading:I,options:M||[],search:h,onSearch:m,onSelect:function(e){e&&t(e)},hasMore:J&&!h,onNextPage:function(){var e=A+1;O(e=e>U?U:e)},onOpen:K,renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return(0,S.Y)(C.Button,{variant:"primary",onClick:r,"aria-expanded":t},(0,d.__)("Create or select media","presto-player"))},renderItem:function(e){var t,r,n,a=e.item,l=e.onSelect,i=a.id,s=a.title,c=a.details||{},u=c.type,p=c.name,f=(null==a||null===(t=a._embedded)||void 0===t||null===(r=t["wp:featuredmedia"])||void 0===r||null===(n=r[0])||void 0===n?void 0:n.source_url)||"";return(0,S.Y)(C.MenuItem,{icon:(0,S.Y)(N.A,{thumbnail:f,type:u}),iconPosition:"left",suffix:u?p:(0,d.__)("Choose media","presto-player"),onClick:function(){return l(a)},disabled:(te||[]).includes(i),key:i,css:(0,P.AH)($||($=(0,o.A)(["\n              .components-menu-item__item {\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                display: inline-block;\n                text-align: left;\n              }\n            "])))},s||(0,d.__)("Untitled","presto-player"))}},u))}},3574:(e,t,r)=>{"use strict";r.r(t),r.d(t,{metadata:()=>f,name:()=>y,options:()=>v});var n=r(7723),o=r(5573),a=r(790);const l=(0,a.jsxs)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,a.jsx)(o.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,a.jsx)(o.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})]});r(6087);var i=r(4715),s=r(9088),c=r(2422),u=r(7437),p={name:"1i4a9dt",styles:"position:absolute;top:0px;right:0px;z-index:10;display:none;border-radius:1px"},d={name:"bjn8wh",styles:"position:relative"};const f=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","name":"presto-player/popup-media","apiVersion":2,"title":"Media","category":"presto","keywords":["popup","media"],"description":"The media content that displays in the Presto Popup.","textdomain":"presto-player","parent":["presto-player/popup"],"usesContext":["presto-player/popup-id"],"supports":{"interactivity":true},"style":"file:./style.css","editorStyle":"file:./editor.css","viewScript":"presto-components","allowedBlocks":["presto-player/reusable-display"]}');var y=f.name,v={icon:l,edit:function(e){e.clientId;var t=(0,i.useBlockProps)({className:"presto-popup__overlay",css:d}),r=(0,i.useInnerBlocksProps)({className:"presto-popup__content"});return(0,u.Y)(s.A.Consumer,null,function(e){return e.open?(0,u.Y)("div",{style:{position:"relative"}},(0,u.Y)(c.A,{label:(0,n.__)("Popup","presto-player"),className:"presto-popup-tag",css:p}),(0,u.Y)("div",t,(0,u.Y)("button",{type:"button","aria-label":"Close",className:"presto-popup__close-button"},(0,u.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",fill:"white"},(0,u.Y)("path",{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"}))),(0,u.Y)("div",r))):null})},save:function(){var e=i.useBlockProps.save(),t=i.useInnerBlocksProps.save(e);return(0,u.Y)("div",t)}}},3582:e=>{"use strict";e.exports=window.wp.coreData},3647:(e,t,r)=>{"use strict";r.r(t),r.d(t,{button:()=>i,buttonTrigger:()=>l,custom:()=>c,customTrigger:()=>s,image:()=>a,imageTrigger:()=>o});var n=r(7723),o=function(e){return["presto-player/popup-trigger",{},[a(e)]]},a=function(e){var t,r,n;return null!==(t=prestoPlayer)&&void 0!==t&&null!==(r=t.hasRequiredProVersion)&&void 0!==r&&r.popups?["core/cover",{url:e,className:"presto-popup-cover-trigger",customOverlayColor:"#131313",isUserOverlayColor:!0,dimRatio:50,minHeight:336,minHeightUnit:"px",contentPosition:"center center",layout:{type:"constrained"},style:{aspectRatio:"16/9",border:{radius:"5px"}}},[["core/group",{layout:{type:"flex",flexWrap:"nowrap",justifyContent:"center"}},[["core/image",{url:"".concat((null===(n=prestoPlayer)||void 0===n?void 0:n.plugin_url)||"","img/play-button.svg"),alt:"",width:"48px",height:"auto",sizeSlug:"large",metadata:{name:"Play Button"},align:"center",className:"is-style-default",style:{color:{duotone:"unset"},spacing:{margin:{top:"0",right:"0",bottom:"0",left:"0"}}}}]]]]]:["core/image",{url:e,className:"presto-popup-image-trigger",style:{border:{radius:"8px"}}}]},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.__)("Play Video","presto-player");return["presto-player/popup-trigger",{},[["core/buttons",{},[i(e)]]]]},i=function(){return["core/button",{text:arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.__)("Play Video","presto-player"),prestoPopupTrigger:!0}]},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.__)("Type / to choose a block to be the popup trigger...","presto-player");return["presto-player/popup-trigger",{},[c(e)]]},c=function(){return["core/paragraph",{content:"",placeholder:arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.__)("Type / to choose a block to be the popup trigger...","presto-player")}]}},3662:(e,t,r)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{A:()=>n})},3716:(e,t,r)=>{"use strict";r.d(t,{wE:()=>l});var n=r(4534),o=r(9735),a=r(390);function l(e){return(0,a.VF)(i("",null,null,null,[""],e=(0,a.c4)(e),0,[0],e))}function i(e,t,r,n,l,p,d,f,y){for(var v=0,h=0,m=d,g=0,b=0,w=0,_=1,k=1,x=1,A=0,Y="",C=l,P=p,S=n,O=Y;k;)switch(w=A,A=(0,a.K2)()){case 40:if(108!=w&&58==(0,o.wN)(O,m-1)){-1!=(0,o.K5)(O+=(0,o.HC)((0,a.Tb)(A),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:O+=(0,a.Tb)(A);break;case 9:case 10:case 13:case 32:O+=(0,a.mw)(w);break;case 92:O+=(0,a.Nc)((0,a.OW)()-1,7);continue;case 47:switch((0,a.se)()){case 42:case 47:(0,o.BC)(c((0,a.nf)((0,a.K2)(),(0,a.OW)()),t,r),y);break;default:O+="/"}break;case 123*_:f[v++]=(0,o.b2)(O)*x;case 125*_:case 59:case 0:switch(A){case 0:case 125:k=0;case 59+h:b>0&&(0,o.b2)(O)-m&&(0,o.BC)(b>32?u(O+";",n,r,m-1):u((0,o.HC)(O," ","")+";",n,r,m-2),y);break;case 59:O+=";";default:if((0,o.BC)(S=s(O,t,r,v,h,l,f,Y,C=[],P=[],m),p),123===A)if(0===h)i(O,t,S,S,C,p,m,f,P);else switch(99===g&&110===(0,o.wN)(O,3)?100:g){case 100:case 109:case 115:i(e,S,S,n&&(0,o.BC)(s(e,S,S,0,0,l,f,Y,l,C=[],m),P),l,P,m,f,n?C:P);break;default:i(O,S,S,S,[""],P,0,f,P)}}v=h=b=0,_=x=1,Y=O="",m=d;break;case 58:m=1+(0,o.b2)(O),b=w;default:if(_<1)if(123==A)--_;else if(125==A&&0==_++&&125==(0,a.YL)())continue;switch(O+=(0,o.HT)(A),A*_){case 38:x=h>0?1:(O+="\f",-1);break;case 44:f[v++]=((0,o.b2)(O)-1)*x,x=1;break;case 64:45===(0,a.se)()&&(O+=(0,a.Tb)((0,a.K2)())),g=(0,a.se)(),h=m=(0,o.b2)(Y=O+=(0,a.Cv)((0,a.OW)())),A++;break;case 45:45===w&&2==(0,o.b2)(O)&&(_=0)}}return p}function s(e,t,r,l,i,s,c,u,p,d,f){for(var y=i-1,v=0===i?s:[""],h=(0,o.FK)(v),m=0,g=0,b=0;m<l;++m)for(var w=0,_=(0,o.c1)(e,y+1,y=(0,o.tn)(g=c[m])),k=e;w<h;++w)(k=(0,o.Bq)(g>0?v[w]+" "+_:(0,o.HC)(_,/&\f/g,v[w])))&&(p[b++]=k);return(0,a.rH)(e,t,r,0===i?n.XZ:u,p,d,f)}function c(e,t,r){return(0,a.rH)(e,t,r,n.YK,(0,o.HT)((0,a.Tp)()),(0,o.c1)(e,2,-2),0)}function u(e,t,r,l){return(0,a.rH)(e,t,r,n.LU,(0,o.c1)(e,0,l),(0,o.c1)(e,l+1,-1),l)}},3908:(e,t,r)=>{const n=r(7272),{MAX_LENGTH:o,MAX_SAFE_INTEGER:a}=r(6874),{re:l,t:i}=r(9718),s=r(8587),{compareIdentifiers:c}=r(1123);class u{constructor(e,t){if(t=s(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?l[i.LOOSE]:l[i.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=u},3942:(e,t,r)=>{"use strict";function n(e,t,r){var n="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "}),n}r.d(t,{Rk:()=>n,SF:()=>o,sk:()=>a});var o=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},a=function(e,t,r){o(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}},3944:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var n,o,a,l,i,s,c=r(7528),u=r(4467),p=r(6087),d=r(7723),f=r(6427),y=r(7143),v=r(6079),h=r(6055),m=r(9067);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,u.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e){var t=e.state,r=e.updateState,g=e.className,w=t.cta,_=t.email_collection,k=(0,y.useSelect)(function(e){return e("presto-player/player").branding()}),x={percentage:100,show_rewatch:!0,show_skip:!0,headline:(0,d.__)("Want to learn more?","presto-player"),show_button:!0,button_text:(0,d.__)("Click Here","presto-player"),button_link:{opensInNewTab:!0}};(0,p.useEffect)(function(){Object.keys(x).forEach(function(e){var r;void 0===(null==t||null===(r=t.cta)||void 0===r?void 0:r[e])&&A((0,u.A)({},e,x[e]))})},[t]);var A=function(e){r(b(b({},t),{},{cta:b(b({},w),e)}))};return(0,m.Y)("div",{className:g},(0,m.Y)(f.BaseControl,null,(0,m.Y)("h3",null,(0,d.__)("Call To Action","presto-player"))),(0,m.Y)(f.BaseControl,{className:"presto-player__control--large-play"},(0,m.Y)(f.ToggleControl,{label:(0,d.__)("Enable","presto-player"),help:(0,d.__)("Show an email collection form and message over your player.","presto-player"),onChange:function(e){A({enabled:e})},checked:null==w?void 0:w.enabled})),!(null==w||!w.enabled)&&(0,m.Y)(React.Fragment,null,(0,m.Y)(f.BaseControl,{className:"presto-player__control--percentage-watched",css:(0,m.AH)(n||(n=(0,c.A)(["\n              padding-left: 8px;\n              margin-bottom: 34px !important;\n              .components-range-control__root {\n                align-items: flex-start;\n              }\n            "])))},(0,m.Y)(f.RangeControl,{label:(0,d.__)("Display At (Percentage)","presto-player"),labelPosition:"top",onChange:function(e){A({percentage:e})},marks:[{value:0,label:(0,d.__)("Start","presto-player")},{value:50,label:(0,d.__)("50% Watched","presto-player")},{value:100,label:(0,d.__)("End","presto-player")}],shiftStep:5,value:null==w?void 0:w.percentage,css:(0,m.AH)(o||(o=(0,c.A)(["\n                .components-range-control__slider {\n                  position: relative !important;\n                }\n              "])))})),(null==_?void 0:_.enabled)&&(null==_?void 0:_.percentage)===(null==w?void 0:w.percentage)&&(0,m.Y)(f.Notice,{css:(0,m.AH)(a||(a=(0,c.A)(["\n                  margin: 0 0 30px 0 !important;\n                "]))),status:"warning",isDismissible:!1},(0,d.__)("You already have an email capture set display at the same time.","presto-player"),(0,m.Y)(f.Button,{onClick:function(){r(b(b({},t),{},{email_collection:b(b({},_),{enabled:!1})}))},isLink:!0,css:(0,m.AH)(l||(l=(0,c.A)(["\n                    margin-top: 10px !important;\n                  "])))},(0,d.__)("Disable Email Capture","presto-player"))),100===(null==w?void 0:w.percentage)?(0,m.Y)(f.BaseControl,{className:"presto-player__control--show-rewatch"},(0,m.Y)(f.ToggleControl,{label:(0,d.__)("Show Rewatch Button","presto-player"),help:(0,d.__)("Show a rewatch button at the end of the player.","presto-player"),onChange:function(e){A({show_rewatch:e})},checked:null==w?void 0:w.show_rewatch})):(0,m.Y)(f.BaseControl,{className:"presto-player__control--show-skip"},(0,m.Y)(f.ToggleControl,{label:(0,d.__)("Allow Skipping","presto-player"),help:(0,d.__)("Let the user continue watching the player.","presto-player"),onChange:function(e){A({show_skip:e})},checked:null==w?void 0:w.show_skip})),(0,m.Y)(f.BaseControl,{className:"presto-player__control--button-link"},(0,m.Y)(f.BaseControl.VisualLabel,null,(0,m.Y)("p",null," ",(0,d.__)("Link","presto-player"))),(0,m.Y)(v.A,{setSettings:function(e){A({button_link:e})},settings:(null==w?void 0:w.button_link)||{}})),(0,m.Y)(f.BaseControl,{className:"presto-player__control--headline"},(0,m.Y)(f.TextareaControl,{label:(0,d.__)("Headline","presto-player"),help:(0,d.__)("The headline for your form.","presto-player"),value:null==w?void 0:w.headline,onChange:function(e){A({headline:e})}})),(0,m.Y)(f.BaseControl,{className:"presto-player__control--bottom-text"},(0,m.Y)(f.TextareaControl,{label:(0,d.__)("Bottom Text","presto-player"),help:(0,d.__)("Text displayed below the form. HTML allowed.","presto-player"),value:null==w?void 0:w.bottom_text,onChange:function(e){A({bottom_text:e})}})),(0,m.Y)(f.BaseControl,{className:"presto-player__control--show-button"},(0,m.Y)(f.ToggleControl,{label:(0,d.__)("Show Button","presto-player"),help:(0,d.__)("Show a call to action button.","presto-player"),onChange:function(e){A({show_button:e})},checked:null==w?void 0:w.show_button})),!(null==w||!w.show_button)&&(0,m.Y)("div",null,(0,m.Y)(f.BaseControl,{className:"presto-player__control--button-text"},(0,m.Y)(f.TextControl,{label:(0,d.__)("Button Text","presto-player"),help:(0,m.Y)("p",null,(0,d.__)("Button text for the Call To Action","presto-player")),value:null==w?void 0:w.button_text,onChange:function(e){return A({button_text:e})}})),(0,m.Y)("h3",null,(0,d.__)("Style","presto-player")),(0,m.Y)(f.BaseControl,null,(0,m.Y)(f.RangeControl,{label:(0,d.__)("Round Corners","presto-player"),help:(0,d.__)("Border radius of form elements.","presto-player"),value:(null==w?void 0:w.button_radius)||0,onChange:function(e){return A({button_radius:e})},min:0,max:25,css:(0,m.AH)(i||(i=(0,c.A)(["\n                    padding-left: 4px;\n                    .components-range-control__root {\n                      align-items: flex-start;\n                    }\n                  "])))})),(0,m.Y)(f.BaseControl,{className:"presto-player__control--button-color"},(0,m.Y)(f.Flex,null,(0,m.Y)(f.BaseControl.VisualLabel,null,(0,d.__)("Button Color","presto-player")),(0,m.Y)(h.A,{color:(null==w?void 0:w.button_color)||(null==k?void 0:k.color),setColor:function(e){return A({button_color:e&&e.hex})}}))),(0,m.Y)(f.BaseControl,{className:"presto-player__control--button-text-color"},(0,m.Y)(f.Flex,null,(0,m.Y)(f.BaseControl.VisualLabel,null,(0,d.__)("Button Text Color","presto-player")),(0,m.Y)(h.A,{color:(null==w?void 0:w.button_text_color)||"#ffffff",setColor:function(e){return A({button_text_color:e&&e.hex})}})))),(0,m.Y)(f.BaseControl,null,(0,m.Y)(f.RangeControl,{label:(0,d.__)("Background Opacity","presto-player"),help:(0,d.__)("Opacity percentage of the cover background.","presto-player"),value:(null==w?void 0:w.background_opacity)||75,onChange:function(e){return A({background_opacity:e})},min:0,max:100,css:(0,m.AH)(s||(s=(0,c.A)(["\n                padding-left: 4px;\n                .components-range-control__root {\n                  align-items: flex-start;\n                }\n              "])))}))))}w.defaultProps={catName:"Sandy",eyeColor:"deepblue",age:"120"};const _=w},3954:(e,t,r)=>{"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{A:()=>n})},3986:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,{A:()=>n})},4082:(e,t,r)=>{"use strict";r.r(t),r.d(t,{name:()=>u,options:()=>p}),r(6087);var n=r(7723),o=r(5532),a=r(4715),l=r(6427),i=r(3582),s=r(7143),c=r(7437),u="presto-player/playlist-list-item",p={attributes:{id:{type:Number,default:0},title:{type:String,default:""},duration:{type:String,default:""}},category:"presto",parent:["presto-player/playlist-list"],title:(0,n.__)("Playlist Item","presto-player"),description:(0,n.__)("Playlist Item","presto-player"),usesContext:["presto-player/playlist-media-id"],edit:function(e){var t=e.attributes,r=e.setAttributes,u=e.context,p=t.id,d=t.title,f=t.duration,y=(0,a.useBlockProps)(),v=(0,s.useSelect)(function(e){var t,r=["postType","pp_video_block",p],n=(t=e(i.store)).getEntityRecord.apply(t,r);return{entityTitle:n?null==n?void 0:n.title:null}},[p]).entityTitle;return(0,c.Y)(React.Fragment,null,(0,c.Y)(a.InspectorControls,null,(0,c.Y)(l.PanelBody,{title:(0,n.__)("General","presto-player"),initialOpen:!0},(0,c.Y)(l.TextControl,{label:(0,n.__)("Title","presto-player"),value:d,onChange:function(e){r({title:e})}}),(0,c.Y)(l.TextControl,{label:(0,n.__)("Duration","presto-player"),value:f,onChange:function(e){r({duration:e})}}))),(0,c.Y)("div",y,(0,c.Y)(o.N7,{active:u["presto-player/playlist-media-id"]===p},(0,c.Y)("div",{className:"item-title",slot:"item-title"},(0,c.Y)(a.RichText,{tagName:"span",value:d||v,allowedFormats:[],onChange:function(e){return r({title:e})},placeholder:(0,n.__)("Title...","presto-player")})),(0,c.Y)("div",{className:"item-duration",slot:"item-duration"},(0,c.Y)(a.RichText,{tagName:"span",value:f,allowedFormats:[],onChange:function(e){return r({duration:e})}})))))},icon:(0,c.Y)("svg",{width:"19",height:"14",className:"playlist-block-icon",viewBox:"0 0 19 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,c.Y)("path",{d:"M0 10H7V8H0M15 8V4H13V8H9V10H13V14H15V10H19V8M11 0H0V2H11M11 4H0V6H11V4Z",fill:"currentColor"}))}},4146:(e,t,r)=>{"use strict";var n=r(4363),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function s(e){return n.isMemo(e)?l:i[e.$$typeof]||o}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=l;var c=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,y=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(y){var o=f(r);o&&o!==y&&e(t,o,n)}var l=u(r);p&&(l=l.concat(p(r)));for(var i=s(t),v=s(r),h=0;h<l.length;++h){var m=l[h];if(!(a[m]||n&&n[m]||v&&v[m]||i&&i[m])){var g=d(r,m);try{c(t,m,g)}catch(e){}}}}return t}},4363:(e,t,r)=>{"use strict";e.exports=r(2799)},4467:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(9922);function o(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},4534:(e,t,r)=>{"use strict";r.d(t,{LU:()=>s,MS:()=>n,Sv:()=>u,XZ:()=>i,YK:()=>l,j:()=>a,vd:()=>o,yE:()=>c});var n="-ms-",o="-moz-",a="-webkit-",l="comm",i="rule",s="decl",c="@import",u="@keyframes"},4593:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r(8168),o=r(4467),a=r(467),l=r(3453),i=(r(6087),r(9280)),s=r.n(i),c=r(9715),u=r(9041),p=r(7437);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,o.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y=wp.compose.createHigherOrderComponent,v=wp.element,h=v.useEffect,m=v.useState;const g=function(){return y(function(e){return function(t){var r=t.presets,o=t.attributes,i=t.setAttributes,d=t.defaultPreset,y=t.isSelected,v=t.branding,g=m({}),b=(0,l.A)(g,2),w=b[0],k=b[1],x=m(1),A=(0,l.A)(x,2),Y=A[0],C=A[1],P=o.poster,S=o.chapters,O=o.ratio;h(function(){y&&null!=o&&o.selectionOverrideClientId&&wp.data.dispatch("core/block-editor").selectBlock(null==o?void 0:o.selectionOverrideClientId)},[y]),h(function(){if(r&&r.length){var e=r.find(function(e){return e.id===(null==o?void 0:o.preset)});e?k(e):(k(d),i({preset:null==d?void 0:d.id}))}},[r,null==o?void 0:o.preset]),h(function(){E()},[P,w,S,v.logo,O]);var E=function(){C(Y+1)},$=(0,c.ZC)(S);h(function(){var e=null==S?void 0:S.map(function(e){return e.time}),t=null==$?void 0:$.map(function(e){return e.time});_.difference(e,t).length&&E()},[S]);var N=function(){var e=(0,a.A)(s().mark(function e(t){var r,n,o,a,l,c,p;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.src,n=t.external_id,o=t.attachment_id,a=t.type,l=t.title,r||n||o){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,u.A)({method:"POST",path:"/presto-player/v1/videos",data:f(f({attachment_id:o,post_id:wp.data.select("core/editor").getCurrentPostId(),external_id:n},l?{title:l}:{}),{},{src:r,type:a})});case 5:c=e.sent,p=c.id,i({id:p});case 8:case"end":return e.stop()}},e)}));return function(_x){return e.apply(this,arguments)}}();return null!=o&&o.preset||i({preset:null==d?void 0:d.id}),(0,p.Y)(e,(0,n.A)({},t,{lockSave:function(){return wp.data.dispatch("core/editor").lockPostSaving("presto-player")},unlockSave:function(){return wp.data.dispatch("core/editor").unlockPostSaving("presto-player")},createVideo:N,onUpdate:E,onRemoveSrc:function(){confirm("Remove this video?")&&i(f(f(f(f({src:"",id:void 0},null!=o&&o.thumbnail?{thumbnail:null}:{}),null!=o&&o.preview?{preview:null}:{}),null!=o&&o.previewSrc?{previewSrc:null}:{}),null!=o&&o.previewThumbnail?{previewThumbnail:null}:{}))},presetData:w,setPresetData:k,renderKey:Y}))}},"withPlayerEdit")}},4715:e=>{"use strict";e.exports=window.wp.blockEditor},4997:e=>{"use strict";e.exports=window.wp.blocks},4999:(e,t,r)=>{"use strict";r.d(t,{J:()=>v});var n=r(6795),o=r(7103),a=r(9484),l=/[A-Z]|^ms/g,i=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},u=(0,a.A)(function(e){return s(e)?e:e.replace(l,"-$&").toLowerCase()}),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(i,function(e,t,r){return f={name:t,styles:r,next:f},t})}return 1===o.A[e]||s(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return f={name:r.name,styles:r.styles,next:f},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)f={name:o.name,styles:o.styles,next:f},o=o.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=d(e,t,r[o],!1);else for(var a in r){var l=r[a];if("object"!=typeof l)null!=t&&void 0!==t[l]?n+=a+"{"+t[l]+"}":c(l)&&(n+=u(a)+":"+p(a,l)+";");else if(!Array.isArray(l)||"string"!=typeof l[0]||null!=t&&void 0!==t[l[0]]){var i=d(e,t,l,!1);switch(a){case"animation":case"animationName":n+=u(a)+":"+i+";";break;default:n+=a+"{"+i+"}"}}else for(var s=0;s<l.length;s++)c(l[s])&&(n+=u(a)+":"+p(a,l[s])+";")}return n}(e,t,r);case"function":if(void 0!==e){var a=f,l=r(e);return f=a,d(e,t,l,n)}}if(null==t)return r;var i=t[r];return void 0===i||n?r:i}var f,y=/label:\s*([^\s;\n{]+)\s*;/g,v=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,a="";f=void 0;var l=e[0];null==l||void 0===l.raw?(o=!1,a+=d(r,t,l,!1)):a+=l[0];for(var i=1;i<e.length;i++)a+=d(r,t,e[i],46===a.charCodeAt(a.length-1)),o&&(a+=l[i]);y.lastIndex=0;for(var s,c="";null!==(s=y.exec(a));)c+="-"+s[1];return{name:(0,n.A)(a)+c,styles:a,next:f}}},5049:(e,t,r)=>{var n={"./presto-action-bar-ui_2.entry.js":[8460,258],"./presto-action-bar_17.entry.js":[2766,258],"./presto-cta-overlay-ui.entry.js":[3649,258],"./presto-email-overlay-ui_2.entry.js":[3710,258],"./presto-player-button.entry.js":[177,258],"./presto-player-skeleton.entry.js":[6094,258],"./presto-player_4.entry.js":[1867,258],"./presto-playlist.entry.js":[9971,258],"./presto-search-bar-ui.entry.js":[2744,258],"./presto-timestamp.entry.js":[3941,258],"./presto-video-curtain-ui.entry.js":[4440,258],"./presto-video.entry.js":[5058,258]};function o(e){if(!r.o(n,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],o=t[0];return r.e(t[1]).then(()=>r(o))}o.keys=()=>Object.keys(n),o.id=5049,e.exports=o},5458:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(3145),o=r(7800);function a(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5501:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(3662);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,n.A)(e,t)}},5532:(e,t,r)=>{"use strict";r.d(t,{JG:()=>c,N7:()=>i,OG:()=>a,QS:()=>o,en:()=>s,tb:()=>l});var n=r(9915);(0,r(7870).u)();var o=(0,n.h)("presto-cta-overlay-ui"),a=(0,n.h)("presto-email-overlay-ui"),l=(0,n.h)("presto-player"),i=(0,n.h)("presto-playlist-item"),s=(0,n.h)("presto-playlist-ui"),c=(0,n.h)("presto-search-bar-ui")},5573:e=>{"use strict";e.exports=window.wp.primitives},5716:(e,t,r)=>{var n={"./audio/index.js":7966,"./bunny/index.js":5814,"./hosted/index.js":355,"./media-hub/index.js":8761,"./playlist-list-item/index.js":4082,"./playlist-list/index.js":6336,"./playlist-preview/index.js":9003,"./playlist/index.js":6248,"./popup-media/index.js":3574,"./popup-trigger/index.js":7838,"./popup/index.js":8093,"./reusable-display/index.js":6066,"./reusable-edit/index.js":8939,"./vimeo/index.js":8148,"./youtube/index.js":1383};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=5716},5814:(e,t,r)=>{"use strict";r.r(t),r.d(t,{name:()=>uo,options:()=>po});var n={};r.r(n),r.d(n,{collections:()=>ne,currentCollection:()=>ce,errors:()=>ie,isLoading:()=>le,isPrivate:()=>ae,requestType:()=>pe,ui:()=>ue,uploads:()=>oe,videos:()=>re,videosFetched:()=>se});var o={};r.r(o),r.d(o,{addCollection:()=>he,addError:()=>Ce,addUploads:()=>_e,addVideos:()=>fe,removeError:()=>Pe,removeUpload:()=>ke,removeVideo:()=>ye,setCollectionRequest:()=>be,setCollections:()=>ve,setIsPrivate:()=>me,setLoading:()=>Ae,setSearch:()=>ge,setUI:()=>Ye,setUploads:()=>we,setVideos:()=>de,setVideosFetched:()=>xe});var a=r(4467),l=r(6087),i=r(467),s=r(3453),c=r(9280),u=r.n(c),p=r(6427),d=r(4715),f=r(7723),y=r(9491),v=r(7143),h=function(){var e=(0,i.A)(u().mark(function e(t){var r;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/sign",method:"POST",data:{url:t,id:0}});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}));return function(_x){return e.apply(this,arguments)}}(),m=r(4593),g=r(3333),b=r(1690);function w(e){var t=e.file,r=e.path,n=e.onProgress,o=e.onComplete,a=e.onError,l=0,s=!1,c=Math.min(prestoPlayerAdmin.wp_max_upload_size-1e6,159e5),p=Math.max(c,19e5);p=Math.min(p,104857600);var d=function(){var e=(0,i.A)(u().mark(function e(i){var c,f,y,v,h;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=i+p+1,f=t.slice(i,c),y=Math.ceil(t.size/(p+1)),l++,n(l/y*100),(v=new FormData).append("file",f),v.append("name",t.name),v.append("chunk",l),v.append("chunks",y),e.prev=10,e.next=13,wp.apiFetch({path:r,method:"POST",body:v});case 13:if(h=e.sent,!s){e.next=17;break}return console.log("cancelled"),e.abrupt("return");case 17:c<t.size?(n(void 0),d(c)):o(h),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(10),a(e.t0),console.error(e.t0);case 24:case"end":return e.stop()}},e,null,[[10,20]])}));return function(_x){return e.apply(this,arguments)}}();return l=0,new FileReader,d(0),{cancel:function(){s=!0}}}var _=r(7528),k=r(7437);const x=function(e){var t,r=e.item,n=e.onClick,o=e.className,l=function(){return!(null==r||!r.encodeProgress)&&100!==r.encodeProgress};return(0,k.Y)("div",{className:"presto-player__media-list-item ".concat(o),onClick:n},(0,k.Y)("div",{className:"presto-player__media-list-item-icon"},(0,k.Y)("svg",(0,a.A)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},"strokeLinecap","round"),(0,k.Y)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,k.Y)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))),(0,k.Y)("div",{className:"presto-player__media-list-item-title"},null==r?void 0:r.title),l()&&(0,k.Y)("div",{className:"presto-player__media-list-item-size"},"Encoding..."),!l()&&(0,k.Y)("div",{className:"presto-player__media-list-item-size"},function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(null==r?void 0:r.size)),!l()&&(0,k.Y)("div",{className:"presto-player__media-list-item-modified"},(t=r.updated_at,new Date(t).toLocaleString())))},A=function(e){var t,r=e.item,n=e.onClick,o=e.className;return(0,k.Y)("div",{className:"presto-player__media-list-item ".concat(o),onClick:n},(0,k.Y)("div",{className:"presto-player__media-list-item-icon"},(0,k.Y)("svg",(0,a.A)({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"},"strokeLinecap","round"),(0,k.Y)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,k.Y)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))),(0,k.Y)("div",{className:"presto-player__media-list-item-title"},null==r?void 0:r.title),(0,k.Y)("div",{className:"presto-player__media-list-item-size"},function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}(null==r?void 0:r.size)),(0,k.Y)("div",{className:"presto-player__media-list-item-modified"},(t=r.updated_at,new Date(t).toLocaleString())))};var Y,C,P=r(9067),__=wp.i18n.__,S=wp.components,O=S.Modal,E=S.Spinner,$=S.Button,N=S.BaseControl,T=S.Flex,j=S.FlexBlock,R=S.Notice,I=S.Card,B=S.CardBody,L=S.Disabled,D=S.DropZone,M=S.FormFileUpload,F=S.DropZoneProvider,H=wp.element,V=H.useEffect,U=H.useState,z=H.useRef;const G=function(e){var t=e.onClose,r=e.title,n=e.header,o=e.onLoad,a=e.items,l=e.folders,i=e.fetching,c=e.progressMessage,u=e.onSelect,p=e.error,d=e.onDelete,f=e.onUpload,y=e.progress,v=U({}),h=(0,s.A)(v,2),m=h[0],g=h[1],b=U(!1),w=(0,s.A)(b,2),k=w[0],S=w[1],H=z();V(function(){o&&o()},[]);var G,W,Z,q,X=function(){return Object.keys(m||{}).length};return(0,P.Y)(O,{isFullScreen:!0,title:n||__("Add Media","presto-player"),onRequestClose:t,className:"presto-player__media-modal presto-player__full-modal",overlayClassName:"presto-player__modal-overlay"},(0,P.Y)("div",{className:"presto-player__media-modal-layout","data-cy":"media-modal"},(0,P.Y)("div",{className:"presto-player__media-modal-header"},(0,P.Y)("div",{className:"presto-player__media-modal-upload",css:(0,P.AH)(Y||(Y=(0,_.A)(["\n              display: flex;\n              align-items: center;\n            "])))},(0,P.Y)(M,{isPrimary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(f(e.target.files),jQuery(e.target).val(null))}},__("Upload New Video","presto-player")),(0,P.Y)("div",{css:(0,P.AH)(C||(C=(0,_.A)(["\n                margin-left: 10px;\n              "])))},__("Or drag a file here to upload.","presto-player"))),p&&(0,P.Y)(R,{status:"error",isDismissible:!1},p)),(0,P.Y)("div",{className:"presto-player__media-modal-content"},(0,P.Y)(F,null,i?(0,P.Y)(T,{className:"presto-player__media-loading"},(0,P.Y)(j,{style:{textAlign:"center"}},y?(0,P.Y)(React.Fragment,null,(0,P.Y)("div",null,(0,P.Y)("strong",null,c||__("Uploading","presto-player"))),(0,P.Y)("div",null,__("Please don't navigate away from this page.","presto-player")),(0,P.Y)("progress",{className:"presto-progress",max:"100",value:y,style:{width:"100px"}})):(0,P.Y)(E,null))):null!=a&&a.length?(0,P.Y)("div",{className:"presto-player__media-list"},(0,P.Y)("h2",null,r),l&&(0,P.Y)("div",{className:"presto-player__media-list-folders"},l.map(function(e){return(0,P.Y)(A,{key:e.id,item:e})})),(0,P.Y)("div",{className:"presto-player__media-list-items"},a.map(function(e){return(0,P.Y)(x,{item:e,key:e.id,onClick:function(){g(m===e?{}:e)},className:m===e?"is-selected":""})}))):(0,P.Y)(T,{"align-items":"center",className:"presto-player__media-not-found"},(0,P.Y)("div",null,(0,P.Y)("h2",null,"Drop video files here to upload"),(0,P.Y)("p",null,"or browse for a video"),(0,P.Y)(M,{isSecondary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(f(e.target.files),jQuery(e.target).val(null))}},__("Upload New Video","presto-player")))),(0,P.Y)(D,{label:"Drop files",onFilesDrop:f}))),(0,P.Y)("div",{className:"presto-player__media-modal-sidebar"},X()?(0,P.Y)("div",{className:"presto-player__media-modal-sidebar-content"},(0,P.Y)(N,null,(0,P.Y)(L,{key:m.id},null!=m&&m.thumbnail?(0,P.Y)("img",{src:null==m?void 0:m.thumbnail,style:{maxWidth:"100%"}}):(0,P.Y)("video",{preload:"metadata"},(0,P.Y)("source",{src:m.previewUrl})))),(0,P.Y)(N,null,(0,P.Y)(N.VisualLabel,null,__("Name","presto-player")),(0,P.Y)("h3",{style:{marginTop:"5px"}},m.title)),!(null==m||!m.visibility)&&(0,P.Y)(N,null,(0,P.Y)(N.VisualLabel,null,__("Visibility","presto-player")),(0,P.Y)("h3",{style:{marginTop:"5px"}},m.visibility)),(0,P.Y)(N,null,(0,P.Y)(N.VisualLabel,null,__("Size","presto-player")),(0,P.Y)("h3",{style:{marginTop:"5px"}},function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]}((null==m?void 0:m.size)||0))),(0,P.Y)(N,null,(0,P.Y)(N.VisualLabel,null,__("Created","presto-player")),(0,P.Y)("h3",{style:{marginTop:"5px"}},(G=null==m?void 0:m.created_at,q=(W=(G=new Date(G)).getHours())>=12?"pm":"am",W=(W%=12)||12,Z=(Z=G.getMinutes())<10?"0"+Z:Z,G.getDate()+"-"+(G.getMonth()+1)+"-"+G.getFullYear()+" at "+W+":"+Z+q))),(0,P.Y)(N,null,k?(0,P.Y)(I,null,(0,P.Y)(B,null,(0,P.Y)("p",null,(0,P.Y)("strong",null,"Are you sure?")),(0,P.Y)("p",null,"Are you sure you want to delete this video?"),(0,P.Y)($,{isDestructive:!0,onClick:function(){d(m),S(!1)}},"Yes"),(0,P.Y)($,{onClick:function(){return S(!1)}},"Cancel"))):(0,P.Y)($,{isDestructive:!0,onClick:function(){S(!k)}},__("Delete video","presto-player")))):(0,P.Y)(React.Fragment,null)),(0,P.Y)("div",{className:"presto-player__media-modal-footer"},(0,P.Y)($,{isPrimary:!0,disabled:!X(),onClick:function(){m&&(u(m),t())},ref:H},__("Choose","presto-player")))))};var W=wp.i18n.__,Z=wp.element,q=Z.useState,X=Z.useEffect;const K=function(e){var t=e.closePopup,r=e.noticeOperations,n=e.onSelect,o=e.isPrivate,a=q([]),l=(0,s.A)(a,2),c=l[0],p=l[1],d=q(!1),f=(0,s.A)(d,2),y=f[0],v=f[1],h=q(0),m=(0,s.A)(h,2),g=m[0],b=m[1],_=q(""),x=(0,s.A)(_,2),A=x[0],Y=x[1],C=q(""),P=(0,s.A)(C,2),S=P[0],O=P[1],E=o?"private-videos":"public-videos";X(function(){b(0),O("")},[]);var $=function(){var e=(0,i.A)(u().mark(function e(t){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:O(""),v(!0),Y(W("Uploading","presto-player")),w({file:t[0],path:"presto-player/v1/bunny/upload",onProgress:function(e){b(e-10)},onComplete:N,onError:function(e){O(e.message),b(0),v(!1)}});case 4:case"end":return e.stop()}},e)}));return function(_x){return e.apply(this,arguments)}}(),N=function(){var e=(0,i.A)(u().mark(function e(t){var r,n,o;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.name,Y(W("Storing","presto-player")),e.prev=2,e.next=5,wp.apiFetch({path:"presto-player/v1/bunny/".concat(E),method:"POST",data:{path:r,name:n}});case 5:o=e.sent,p(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),O(e.t0.message),console.error(e.t0);case 13:return e.prev=13,b(0),v(!1),e.finish(13);case 17:case"end":return e.stop()}},e,null,[[2,9,13,17]])}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,i.A)(u().mark(function e(t){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p((c||[]).filter(function(e){return e!==t})),e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/".concat(E),method:"DELETE",data:{name:null==t?void 0:t.title}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),O(e.t0.message);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=(0,i.A)(u().mark(function e(){var t;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/".concat(E)});case 4:t=e.sent,p(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O(e.t0.message);case 11:return e.prev=11,v(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}();return(0,k.Y)(G,{onClose:t,progressMessage:A,fetching:y,error:S,onUpload:$,onLoad:j,items:c,progress:g,onDelete:T,onSelect:n,onError:function(e){r.removeAllNotices(),r.createErrorNotice(e)},header:W(o?"Bunny.net Private Video Storage":"Bunny.net Public Video Storage","presto-player"),title:W(o?"Private Video Library":"Public Video Library","presto-player")})};var Q=r(5458);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const te=(0,wp.data.combineReducers)({videosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIDEOS":return t.value;case"ADD_VIDEOS":return[].concat((0,Q.A)(e),(0,Q.A)(t.value));case"ADD_VIDEO":return[].concat((0,Q.A)(e),[t.value]);case"UPDATE_VIDEO":return e.map(function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:ee(ee({},e),t.value)});case"REMOVE_VIDEO":return e.filter(function(e){return e.guid!==t.value.guid})}return e},collectionsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLLECTIONS":return t.value;case"ADD_COLLECTION":return[].concat((0,Q.A)(e),[t.value]);case"UPDATE_COLLECTION":return e.map(function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:ee(ee({},e),t.value)});case"REMOVE_COLLECTION":return e.filter(function(e){return e!==t.value})}return e},uploadsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UPLOADS":return t.value;case"ADD_UPLOADS":return[].concat((0,Q.A)(e),(0,Q.A)(t.value));case"ADD_UPLOAD":return[].concat((0,Q.A)(e),[t.value]);case"UPDATE_UPLOAD":return e.map(function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:ee(ee({},e),t.value)});case"REMOVE_UPLOAD":return e.filter(function(e){return e!==t.value})}return e},requestReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{private:!1,collection:"",search:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRIVATE_REQUEST":return ee(ee({},e),{},{private:t.value});case"SET_SEARCH_REQUEST":return ee(ee({},e),{},{search:t.value});case"SET_COLLECTION_REQUEST":return ee(ee({},e),{},{collection:t.value})}return e},UIReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,videosFetched:!1,createCollection:!1,selectedId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return ee(ee({},e),{},{loading:t.value});case"SET_VIDEOS_FETCHED":return ee(ee({},e),{},{videosFetched:t.value});case"SET_UI_ITEM":return ee(ee({},e),{},(0,a.A)({},t.item,t.value))}return e},errorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return[].concat((0,Q.A)(e),[t.value]);case"REMOVE_ERROR":return e.filter(function(e){return e!==t.value})}return e}});function re(e){return(null==e?void 0:e.videosReducer)||[]}function ne(e){return(null==e?void 0:e.collectionsReducer)||[]}function oe(e){return(null==e?void 0:e.uploadsReducer)||[]}function ae(e){var t;return!(null==e||null===(t=e.requestReducer)||void 0===t||!t.private)}function le(e){var t;return(null==e||null===(t=e.UIReducer)||void 0===t?void 0:t.loading)||!1}function ie(e){return(null==e?void 0:e.errorReducer)||[]}function se(e){var t;return(null==e||null===(t=e.UIReducer)||void 0===t?void 0:t.videosFetched)||!1}function ce(e){var t;return null==e||null===(t=e.requestReducer)||void 0===t?void 0:t.collection}function ue(e,t){var r;return null==e||null===(r=e.UIReducer)||void 0===r?void 0:r[t]}function pe(e){var t;return null!=e&&null!==(t=e.requestReducer)&&void 0!==t&&t.private?"private":"public"}function de(e){return{type:"SET_VIDEOS",value:e}}function fe(e){return{type:"ADD_VIDEOS",value:e}}function ye(e){return{type:"REMOVE_VIDEO",value:e}}function ve(e){return{type:"SET_COLLECTIONS",value:e}}function he(e){return{type:"ADD_COLLECTION",value:e}}function me(e){return{type:"SET_PRIVATE_REQUEST",value:e}}function ge(e){return{type:"SET_SEARCH",value:e}}function be(e){return{type:"SET_COLLECTION_REQUEST",value:e}}function we(e){return{type:"SET_UPLOADS",value:e}}function _e(e){return{type:"ADD_UPLOADS",value:e}}function ke(e){return{type:"REMOVE_UPLOAD",value:e}}function xe(e){return{type:"SET_VIDEOS_FETCHED",value:e}}function Ae(e){return{type:"SET_LOADING",value:e}}function Ye(e,t){return{type:"SET_UI_ITEM",item:e,value:t}}function Ce(e){return{type:"ADD_ERROR",value:e}}function Pe(e){return{type:"REMOVE_ERROR",value:e}}(0,wp.data.registerStore)("presto-player/bunny-popup",{reducer:te,selectors:n,actions:o});var Se,Oe,Ee,$e=function(e){return 3==(null==e?void 0:e.status)&&(null==e?void 0:e.availableResolutions.length)},Ne=function(e){return $e(e)||4===(null==e?void 0:e.status)},Te=function(e){return 0==(null==e?void 0:e.status)?"Processing":1==(null==e?void 0:e.status)?"Uploaded":2==(null==e?void 0:e.status)?"Processing":$e(e)?"Playable":3==(null==e?void 0:e.status)?"Encoding":4==(null==e?void 0:e.status)?"Live":5==(null==e?void 0:e.status)?"Error":6==(null==e?void 0:e.status)?"Upload Failed":void 0},je=function(e){return null==e||null==e?"":new Date(1e3*e).toISOString().substr(11,8)},Re=function(e){if(null==e||0==e)return"Unknown";if(0==e)return"0 b";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)).toString());return(e/Math.pow(1024,t)).toFixed(2)+" "+["b","KB","MB","GB","TB"][t]},Ie=wp.i18n.__,Be=wp.components,Le=Be.Button,De=Be.BaseControl,Me=Be.Disabled,Fe=Be.Card,He=Be.CardBody,Ve=wp.element,Ue=Ve.useState,ze=(Ve.useContext,Ve.useEffect),Ge=wp.data,We=Ge.dispatch,Ze=Ge.useSelect,qe={name:"qhxz92",styles:"max-width:100%"};const Xe=function(){var e=Ue(!1),t=(0,s.A)(e,2),r=t[0],n=t[1],o=Ue(!1),a=(0,s.A)(o,2),l=a[0],c=a[1],p=Ue(null),d=(0,s.A)(p,2),f=d[0],y=d[1],v=Ze(function(e){return e("presto-player/bunny-popup").isPrivate()}),h=Ze(function(e){return e("presto-player/bunny-popup").ui("selectedId")}),m=Ze(function(e){return e("presto-player/bunny-popup").videos()});ze(function(){y(h?m.find(function(e){return e.guid===h}):null)},[m,h]);var g=function(){var e=(0,i.A)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.apiFetch({path:"presto-player/v1/bunny/stream/videos/".concat(f.id),method:"DELETE",data:{type:v?"private":"public"}});case 2:We("presto-player/bunny-popup").removeVideo(f),We("presto-player/bunny-popup").setUI("selectedId",null),c(!1),n(!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=(0,P.AH)(Se||(Se=(0,_.A)(["\n    margin-top: 5px;\n  "])));if(!f)return"";var w,k,x,A,Y=function(e){return v?null==e?void 0:e.webPURLSigned:null==e?void 0:e.webPURL};return f&&(0,P.Y)("div",{className:"presto-player__media-modal-sidebar-content"},(0,P.Y)(De,{css:(0,P.AH)(Oe||(Oe=(0,_.A)(["\n            position: relative;\n          "])))},(0,P.Y)(Me,{key:f.id},Ne(f)&&Y(f)&&(0,P.Y)("img",{src:Y(f),css:qe})),(0,P.Y)(Le,{isSmall:!0,isPrimary:!0,isBusy:!Ne(f),css:(0,P.AH)(Ee||(Ee=(0,_.A)(["\n              ","\n              top: 8px;\n              right: 8px;\n              font-size: 11px;\n              color: #ffffff;\n              padding: 2px 10px;\n              border-radius: 9999px;\n            "])),Ne(f)?"position: absolute;":"")},Te(f))),(0,P.Y)(De,null,(0,P.Y)(De.VisualLabel,null,Ie("Name","presto-player")),(0,P.Y)("h3",{css:b},f.title)),!(null==f||!f.visibility)&&(0,P.Y)(De,null,(0,P.Y)(De.VisualLabel,null,Ie("Visibility","presto-player")),(0,P.Y)("h3",{css:b},f.visibility)),(0,P.Y)(De,null,(0,P.Y)(De.VisualLabel,null,Ie("Size","presto-player")),(0,P.Y)("h3",{css:b},Re((null==f?void 0:f.size)||0))),(0,P.Y)(De,null,(0,P.Y)(De.VisualLabel,null,Ie("Length","presto-player")),(0,P.Y)("h3",{css:b},je(null==f?void 0:f.length))),(0,P.Y)(De,null,(0,P.Y)(De.VisualLabel,null,Ie("Created","presto-player")),(0,P.Y)("h3",{css:b},(w=null==f?void 0:f.created_at,A=(k=(w=new Date(w)).getHours())>=12?"pm":"am",k=(k%=12)||12,x=(x=w.getMinutes())<10?"0"+x:x,w.getDate()+"-"+(w.getMonth()+1)+"-"+w.getFullYear()+" at "+k+":"+x+A))),(0,P.Y)(De,null,r?(0,P.Y)(Fe,null,(0,P.Y)(He,null,(0,P.Y)("p",null,(0,P.Y)("strong",null,Ie("Are you sure?","presto-player"))),(0,P.Y)("p",null,Ie("Are you sure you want to delete this video?","presto-player")),(0,P.Y)(Le,{isDestructive:!0,disabled:l,isBusy:l,onClick:function(e){e.preventDefault(),g(),c(!0)}},Ie("Yes","presto-player")),(0,P.Y)(Le,{onClick:function(){return n(!1)}},Ie("Cancel","presto-player")))):(0,P.Y)(Le,{isDestructive:!0,onClick:function(){n(!r)}},Ie("Delete video","presto-player"))))};var Ke;const Qe=function(e){var t=e.className,r=e.progress;return(0,P.Y)("div",{className:t},(0,P.Y)("div",{css:(0,P.AH)(Ke||(Ke=(0,_.A)(["\n          height: 100%;\n          background-color: var(--wp-admin-theme-color, #007cba);\n        "]))),style:{width:"".concat(r,"%")}}))};var Je,et;const tt=function(e){var t=e.progress;return(0,P.Y)("div",{css:(0,P.AH)(Je||(Je=(0,_.A)(["\n        max-width: 100%;\n        object-fit: cover;\n        width: 100%;\n        height: 140px;\n        background-color: #222;\n        color: white;\n        text-decoration: none;\n        text-align: center;\n        box-sizing: border-box;\n        box-sizing: border-box;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      "])))},(0,P.Y)(Qe,{progress:t,css:(0,P.AH)(et||(et=(0,_.A)(["\n          width: 100%;\n          border-radius: 0px;\n          margin: 0 15px;\n          background-color: #e3e3e3;\n          height: 3px;\n        "])))}))};var rt,nt,ot,at,lt,it=r(8168);const st=function(e){var t=e.thumbnail,r=e.title,n=e.footer,o=e.badge,a=e.before,l=e.after;return(0,P.Y)("div",(0,it.A)({className:"presto-player__video-thumb",css:(0,P.AH)(rt||(rt=(0,_.A)(["\n        cursor: pointer;\n        user-select: none;\n        display: inline-block;\n        position: relative;\n        margin-right: 20px;\n        font-weight: bold;\n        margin-bottom: 20px;\n        width: 220px;\n        flex: 0 0 220px;\n        border: 1px solid #e0e0e0;\n        border-radius: 4px;\n        overflow: hidden;\n      "])))},e),!!a&&a,!!t&&t,(0,P.Y)("div",{css:(0,P.AH)(nt||(nt=(0,_.A)(["\n          margin: 14px;\n        "])))},!!o&&(0,P.Y)("div",{css:(0,P.AH)(ot||(ot=(0,_.A)(["\n              position: absolute;\n              top: 8px;\n              right: 8px;\n            "])))},o),!!r&&(0,P.Y)("span",{css:(0,P.AH)(at||(at=(0,_.A)(["\n              text-overflow: ellipsis;\n              white-space: nowrap;\n              overflow: hidden;\n              width: 100%;\n              max-width: 100%;\n              display: inline-block;\n              margin-bottom: 7px;\n              font-size: 13px;\n            "])))},r),!!n&&(0,P.Y)("div",{css:(0,P.AH)(lt||(lt=(0,_.A)(["\n              font-size: 12px;\n              opacity: 0.75;\n              margin-bottom: 7px;\n            "])))},n)),!!l&&l)};var ct,ut,pt,dt,ft,yt,vt,ht,mt,gt=wp.components,bt=gt.Icon,wt=gt.Button,_t=wp.element,kt=_t.useEffect,xt=_t.useState,At=wp.data,Yt=At.useSelect,Ct=At.dispatch;const Pt=function(e){var t=e.video,r=xt(),n=(0,s.A)(r,2),o=n[0],a=n[1],l=Yt(function(e){return e("presto-player/bunny-popup").isPrivate()}),i=Yt(function(e){return e("presto-player/bunny-popup").ui("selectedId")});return kt(function(){a(i?i===t.guid:null)},[i]),(0,P.Y)(st,{onClick:function(){Ct("presto-player/bunny-popup").setUI("selectedId",null==t?void 0:t.guid)},css:(0,P.AH)(ht||(ht=(0,_.A)(["\n        ","\n        border: 1px solid\n          ",";\n      "])),o&&"box-shadow: 0 0 0 0px #fff, 0 0 0 3px var(--wp-admin-theme-color, #007cba);",o?"var(--wp-admin-theme-color, #007cba)":"#e0e0e0"),thumbnail:function(){if(t.status<3)return(0,P.Y)(tt,{progress:t.encodeProgress});var e=l?null==t?void 0:t.thumbnailURLSigned:null==t?void 0:t.thumbnailURL;return e?(0,P.Y)("img",{css:(0,P.AH)(ut||(ut=(0,_.A)(["\n            max-width: 100%;\n            object-fit: cover;\n            width: 100%;\n            height: 140px;\n            display: block;\n          "]))),src:e}):void 0}(),badge:(0,P.Y)(wt,{isSmall:!0,isPrimary:!0,isBusy:!Ne(t),css:(0,P.AH)(ct||(ct=(0,_.A)(["\n        font-size: 11px;\n        color: #ffffff;\n        padding: 2px 10px;\n        border-radius: 9999px;\n      "])))},Te(t)),title:t.title,footer:(0,P.Y)("div",{css:(0,P.AH)(pt||(pt=(0,_.A)(["\n        display: flex;\n        align-items: center;\n      "])))},(0,P.Y)("span",{css:(0,P.AH)(dt||(dt=(0,_.A)(["\n          margin-right: 10px;\n          display: flex;\n          align-items: center;\n        "])))},(0,P.Y)(bt,{css:(0,P.AH)(ft||(ft=(0,_.A)(["\n            width: 14px;\n            height: 14px;\n            font-size: 14px;\n            margin-right: 5px;\n            opacity: 0.5;\n          "]))),icon:"clock",size:14}),(0,P.Y)("span",null,je(t.length))),(0,P.Y)("span",{css:(0,P.AH)(yt||(yt=(0,_.A)(["\n          display: flex;\n          align-items: center;\n        "])))},(0,P.Y)(bt,{css:(0,P.AH)(vt||(vt=(0,_.A)(["\n            opacity: 0.5;\n            width: 14px;\n            height: 14px;\n            font-size: 14px;\n            margin-right: 5px;\n          "]))),icon:"database",size:14}),(0,P.Y)("span",null,Re(t.storageSize)))),after:3===t.status?(0,P.Y)(Qe,{css:(0,P.AH)(mt||(mt=(0,_.A)(["\n              width: 100%;\n              border-radius: 0px;\n              margin: 0;\n              background-color: #e3e3e3;\n              height: 3px;\n            "]))),progress:t.encodeProgress}):""})};var St=wp.components,Ot=St.Flex,Et=St.FlexBlock,$t=St.Spinner,Nt={name:"1azakc",styles:"text-align:center"};const Tt=function(e){var t=e.className;return(0,P.Y)(Ot,{className:t},(0,P.Y)(Et,{css:Nt},(0,P.Y)($t,null)))};var jt;function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Bt=wp.i18n.__,Lt=wp.element,Dt=Lt.useState,Mt=Lt.useEffect,Ft=Lt.Fragment,Ht=wp.components,Vt=Ht.Flex,Ut=Ht.FormFileUpload,zt=Ht.Notice,Gt=wp.data,Wt=Gt.dispatch,Zt=Gt.useSelect,qt={name:"s5xdrg",styles:"display:flex;align-items:center"},Xt={name:"82a6rk",styles:"flex:1"},Kt={name:"82a6rk",styles:"flex:1"};const Qt=function(){var e=Dt(!1),t=(0,s.A)(e,2),r=t[0],n=t[1],o=Dt(""),a=(0,s.A)(o,2),l=a[0],c=a[1],p=Zt(function(e){return e("presto-player/bunny-popup").videosFetched()}),d=Zt(function(e){return e("presto-player/bunny-popup").videos()}),f=Zt(function(e){return e("presto-player/bunny-popup").requestType()}),y=Zt(function(e){return e("presto-player/bunny-popup").currentCollection()});Mt(function(){p||v()},[p]),Mt(function(){var e=setInterval(function(){v({sync:!0})},3e3);return function(){return clearInterval(e)}},[p]);var v=function(){var e=(0,i.A)(u().mark(function e(){var t,r,n,o=arguments;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(o.length>0&&void 0!==o[0]?o[0]:{sync:!1}).sync,e.prev=1,e.next=4,wp.apiFetch({path:wp.url.addQueryArgs("presto-player/v1/bunny/stream/videos",It(It({type:f},null!=y&&y.guid?{collection:null==y?void 0:y.guid}:{}),{},{items_per_page:500}))});case 4:r=e.sent,Wt("presto-player/bunny-popup").setVideos(null==r?void 0:r.items),c(""),e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(1),401!==(null===e.t0||void 0===e.t0||null===(n=e.t0.data)||void 0===n?void 0:n.status)){e.next=14;break}return c(Bt("Please wait. Pullzone cache is clearing. This may take a minute or two...")),e.abrupt("return");case 14:t||Wt("presto-player/bunny-popup").addError(e.t0.message);case 15:return e.prev=15,Wt("presto-player/bunny-popup").setVideosFetched(!0),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,9,15,18]])}));return function(){return e.apply(this,arguments)}}();return l?(0,P.Y)(zt,{status:"warning",isDismissible:!1},(0,P.Y)("div",{css:qt},(0,P.Y)(Tt,{css:Xt}),l)):p?(0,P.Y)(Ft,null,d&&d.length?(0,P.Y)("div",null,!(null!=y&&y.guid)&&(0,P.Y)("h2",null,Bt("Videos","presto-player")),d.map(function(e){if((null==e?void 0:e.collectionId)===((null==y?void 0:y.guid)||""))return(0,P.Y)(Pt,{key:e.id,video:e,onClick:function(){n(r.guid===e.guid?{}:e)},selected:r.guid===e.guid})})):(0,P.Y)(Vt,{align:"center",justify:"center",css:(0,P.AH)(jt||(jt=(0,_.A)(["\n          height: 100%;\n          text-align: center;\n        "])))},(0,P.Y)("div",null,(0,P.Y)("h2",null,Bt("Drop video files here to upload","presto-player")),(0,P.Y)("p",null,Bt("or browse for a video","presto-player")),(0,P.Y)(Ut,{isSecondary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(Wt("presto-player/bunny-popup").addUploads(e.target.files),jQuery(e.target).val(null))}},Bt("Upload New Video","presto-player"))))):(0,P.Y)(Tt,{css:Kt})};var Jt,er=wp.components.Icon,tr=wp.data.dispatch;const rr=function(e){var t=e.collection;return(0,P.Y)(st,{onClick:function(e){e.preventDefault(),tr("presto-player/bunny-popup").setCollectionRequest(t),tr("presto-player/bunny-popup").setVideosFetched(!1)},title:(0,P.Y)("div",null,(0,P.Y)(er,{icon:"open-folder",css:(0,P.AH)(Jt||(Jt=(0,_.A)(["\n              color: var(--wp-admin-theme-color);\n              margin-right: 10px;\n            "])))}),t.name),footer:(0,P.Y)("div",null,t.videoCount," Videos")})};var nr,or=wp.i18n.__,ar=wp.element.useEffect,lr=wp.data,ir=lr.useSelect,sr=lr.dispatch;const cr=function(){var e=ir(function(e){return e("presto-player/bunny-popup").collections()}),t=ir(function(e){return e("presto-player/bunny-popup").requestType()}),r=function(){var e=(0,i.A)(u().mark(function e(){var r,n;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wp.apiFetch({path:wp.url.addQueryArgs("presto-player/v1/bunny/stream/collections",{type:t,items_per_page:500})});case 3:r=e.sent,sr("presto-player/bunny-popup").setCollections(null==r?void 0:r.items),e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(0),401!==(null===e.t0||void 0===e.t0||null===(n=e.t0.data)||void 0===n?void 0:n.status)){e.next=11;break}return e.abrupt("return");case 11:sr("presto-player/bunny-popup").addError(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return ar(function(){r()},[]),!!e.length&&(0,P.Y)("div",null,(0,P.Y)("h2",null,or("Collections","presto-player")),(0,P.Y)("div",{css:(0,P.AH)(nr||(nr=(0,_.A)(["\n            display: flex;\n            align-items: stretch;\n            overflow: auto;\n          "])))},e.map(function(e){return(0,P.Y)(rr,{collection:e,key:e.guid})})))};var ur,pr=wp.i18n.__,dr=wp.components,fr=dr.Button,yr=dr.TextControl,vr=dr.Modal,hr=dr.BaseControl,mr=wp.element,gr=mr.useState,br=mr.Fragment,wr=wp.data,_r=wr.dispatch,kr=wr.useSelect;const xr=function(){var e=gr(""),t=(0,s.A)(e,2),r=t[0],n=t[1],o=gr(!1),a=(0,s.A)(o,2),l=a[0],c=a[1],p=kr(function(e){return e("presto-player/bunny-popup").requestType()}),d=kr(function(e){return e("presto-player/bunny-popup").ui("createCollection")}),f=function(e){_r("presto-player/bunny-popup").setUI("createCollection",e)},y=function(){var e=(0,i.A)(u().mark(function e(){var t;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/stream/collections",method:"POST",data:{type:p,name:r}});case 4:t=e.sent,_r("presto-player/bunny-popup").addCollection(t),_r("presto-player/bunny-popup").setCollectionRequest(t),_r("presto-player/bunny-popup").setVideosFetched(!1),n(""),f(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:return e.prev=15,c(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,12,15,18]])}));return function(){return e.apply(this,arguments)}}();return(0,P.Y)(br,null,(0,P.Y)(fr,{isSecondary:!0,onClick:function(){return f(!0)}},pr("Create Collection","presto-player")),d&&(0,P.Y)(vr,{overlayClassName:"presto-modal",title:"Create New Collection",shouldCloseOnClickOutside:!1,isDismissible:!1},(0,P.Y)(yr,{css:(0,P.AH)(ur||(ur=(0,_.A)(["\n              margin-bottom: 15px;\n            "]))),tabIndex:"0",placeholder:pr("Enter a collection name","presto-player"),value:r,onChange:function(e){return n(e)}}),(0,P.Y)(hr,null,(0,P.Y)(fr,{isBusy:l,disabled:l,isPrimary:!0,onClick:function(){y()}},pr("Create","presto-player"))," ",(0,P.Y)(fr,{onClick:function(){return f(!1)}},pr("Cancel","presto-player")))))};var Ar=wp.i18n.__,Yr=wp.components,Cr=Yr.Flex,Pr=Yr.FlexBlock,Sr=Yr.FlexItem,Or=(Yr.Button,Yr.FormFileUpload),Er=wp.data.dispatch;const $r=function(e){var t=e.afterUpload;return(0,P.Y)(Cr,null,(0,P.Y)(Pr,null,(0,P.Y)(Cr,{justify:"flex-start"},(0,P.Y)(Or,{multiple:!0,isPrimary:!0,accept:"video/mp4,video/x-m4v,video/*",onChange:function(e){e.target.files&&(Er("presto-player/bunny-popup").addUploads(e.target.files),jQuery(e.target).val(null))}},Ar("Upload Videos","presto-player"))," ",(0,P.Y)(xr,null),!!t&&t)),(0,P.Y)(Sr,null))};var Nr=wp.i18n.__,Tr=wp.components.Button,jr=wp.element,Rr=jr.useState,Ir=jr.useEffect,Br=wp.data.useSelect;const Lr=function(e){var t=e.onChoose,r=Rr(null),n=(0,s.A)(r,2),o=n[0],a=n[1],l=Rr(!1),i=(0,s.A)(l,2),c=i[0],u=i[1],p=Br(function(e){return e("presto-player/bunny-popup").ui("selectedId")}),d=Br(function(e){return e("presto-player/bunny-popup").videos()});return Ir(function(){a(p?d.find(function(e){return e.guid===p}):null)},[d,p]),Ir(function(){3==(null==o?void 0:o.status)&&null!=o&&o.availableResolutions.length?u(!0):u((null==o?void 0:o.status)>3&&(null==o?void 0:o.status)<5)},[null==o?void 0:o.availableResolutions]),(0,k.Y)(Tr,{isPrimary:!0,disabled:!c,onClick:function(){return t(o)}},null!=o&&o.id&&!c?Nr("Please wait, video is encoding...","presto-player"):Nr("Choose","presto-player"))};var Dr,Mr,Fr=wp.components.Icon;const Hr=function(e){var t=e.children,r=e.onClick;return(0,P.Y)("span",{onClick:r,css:(0,P.AH)(Dr||(Dr=(0,_.A)(["\n        display: inline-flex;\n        align-items: center;\n        cursor: pointer;\n        color: var(--wp-admin-theme-color, #007cba);\n        padding: 6px 0;\n      "])))},(0,P.Y)(Fr,{css:(0,P.AH)(Mr||(Mr=(0,_.A)(["\n          width: 14px;\n          height: 14px;\n          font-size: 14px;\n          margin-right: 5px;\n        "]))),icon:"arrow-left-alt",size:14}),(0,P.Y)("span",null,t))};var Vr,Ur=wp.i18n.__,zr=wp.element.useState,Gr=wp.data,Wr=Gr.dispatch,Zr=Gr.useSelect,qr=wp.components,Xr=qr.Button,Kr=qr.Modal,Qr=qr.BaseControl;const Jr=function(){var e=zr(!1),t=(0,s.A)(e,2),r=t[0],n=t[1],o=zr(!1),a=(0,s.A)(o,2),l=a[0],c=a[1],p=zr(""),d=(0,s.A)(p,2),f=(d[0],d[1],Zr(function(e){return e("presto-player/bunny-popup").currentCollection()})),y=Zr(function(e){return e("presto-player/bunny-popup").requestType()}),v=function(){var e=(0,i.A)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/bunny/stream/collections/".concat(null==f?void 0:f.guid),method:"DELETE",data:{type:y}});case 4:n(!1),Wr("presto-player/bunny-popup").setCollectionRequest(""),Wr("presto-player/bunny-popup").setVideosFetched(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(!1),Wr("presto-player/bunny-popup").addError(e.t0.message);case 13:return e.prev=13,c(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])}));return function(){return e.apply(this,arguments)}}();return(0,P.Y)("div",{css:(0,P.AH)(Vr||(Vr=(0,_.A)(["\n        margin-bottom: 2em;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n      "])))},(0,P.Y)("div",null,(0,P.Y)(Hr,{onClick:function(){Wr("presto-player/bunny-popup").setCollectionRequest(""),Wr("presto-player/bunny-popup").setVideosFetched(!1)}},Ur("Back To Main Folder","presto-player")),(0,P.Y)("h2",null,f.name)),(0,P.Y)(Xr,{isDestructive:!0,onClick:function(){return n(!0)}},Ur("Delete Collection","presto-player")),r&&(0,P.Y)(Kr,{shouldCloseOnClickOutside:!1,overlayClassName:"presto-modal",title:"Delete Collection",onRequestClose:function(){return n(!1)}},(0,P.Y)("h2",null,Ur("Are you sure you want to delete the collection? ","presto-player")),(0,P.Y)("p",null,Ur("This will also delete all videos inside of the collection.","presto-player")),(0,P.Y)(Qr,null,(0,P.Y)(Xr,{isDestructive:!0,disabled:l,isBusy:l,onClick:v},Ur("Delete","presto-player"))," ",(0,P.Y)(Xr,{onClick:function(){return n(!1)}},Ur("Cancel","presto-player")))))};var en,tn,rn,nn;function on(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?on(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):on(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}wp.components.Icon;var ln=wp.element,sn=ln.useState,cn=ln.useEffect,un=(ln.useContext,wp.data),pn=un.useSelect,dn=(un.dispatch,wp.i18n.__);const fn=function(e){var t,r=e.file,n=e.name,o=e.onComplete,a=sn(0),l=(0,s.A)(a,2),c=l[0],p=l[1],d=sn(dn("Uploading","presto-player")),f=(0,s.A)(d,2),y=(f[0],f[1]),v=sn(""),h=(0,s.A)(v,2),m=h[0],g=h[1],b=sn(!1),k=(0,s.A)(b,2),x=k[0],A=k[1],Y=pn(function(e){return e("presto-player/bunny-popup").requestType()}),C=pn(function(e){return e("presto-player/bunny-popup").currentCollection()}),S=function(){var e=(0,i.A)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:y(dn("Uploading","presto-player")),t=w({file:null!=r&&r[0]?null==r?void 0:r[0]:r,path:"presto-player/v1/bunny/stream/upload",onProgress:function(e){p(e)},onComplete:O,onError:function(e){g(e.message),y(dn("Error","presto-player")),p(0)}});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,i.A)(u().mark(function e(t){var r,n,o;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.name,y(dn("Creating","presto-player")),e.prev=2,e.next=5,wp.apiFetch({path:"presto-player/v1/bunny/stream/videos",method:"POST",data:an({type:Y,name:n},null!=C&&C.guid?{collection:C.guid}:{})});case 5:o=e.sent,A(!0),E({path:r,video:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),g(e.t0.message);case 13:return e.prev=13,p(0),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[2,10,13,16]])}));return function(_x){return e.apply(this,arguments)}}(),E=function(){var e=(0,i.A)(u().mark(function e(t){var r,n;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.path,n=t.video,e.next=3,wp.apiFetch({path:"presto-player/v1/bunny/stream/store",method:"POST",data:{type:Y,path:r,guid:n.guid}});case 3:o();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return cn(function(){return S(),function(){t&&t.cancel()}},[]),x?"":(0,P.Y)("div",{css:(0,P.AH)(en||(en=(0,_.A)(["\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        animation: components-button__busy-animation 2500ms infinite linear;\n        opacity: 1;\n        padding: 6px 12px;\n        border-radius: 99999px;\n        border: 1px solid #dddddd;\n        background-size: 100px 100%;\n        background-image: linear-gradient(\n          -45deg,\n          #ffffff 33%,\n          #f3f3f3 33%,\n          #f3f3f3 70%,\n          #ffffff 70%\n        );\n      "])))},(0,P.Y)("div",{css:(0,P.AH)(tn||(tn=(0,_.A)(["\n          flex: 1;\n          white-space: nowrap;\n          overflow: hidden;\n          max-width: 150px;\n          text-overflow: ellipsis;\n          font-weight: bold;\n        "])))},!!m&&m,!!n&&n," ",r.name,"..."),(0,P.Y)("div",{css:(0,P.AH)(rn||(rn=(0,_.A)(["\n          display: flex;\n          align-items: center;\n        "])))},(0,P.Y)(Qe,{css:(0,P.AH)(nn||(nn=(0,_.A)(["\n            width: 50px;\n            height: 3px;\n            margin: 0 5px;\n            background: #e3e3e3;\n            border-radius: 9999px;\n            overflow: hidden;\n          "]))),progress:c})))};var yn,vn,hn=wp.data.useSelect;const mn=function(e){var t=e.removeUpload,r=(e.isPrivate,hn(function(e){return e("presto-player/bunny-popup").uploads()}));return r.length?(0,P.Y)("div",{css:(0,P.AH)(yn||(yn=(0,_.A)(["\n        overflow: auto;\n        display: flex;\n        align-items: center;\n        position: relative;\n      "])))},r.length&&r.map(function(e){return(0,P.Y)(fn,{css:(0,P.AH)(vn||(vn=(0,_.A)(["\n                margin-right: 0px;\n              "]))),file:e,onComplete:function(){return t(e)}})})):""};var gn,bn,wn,kn,xn,An,Yn,Cn=wp.i18n.__,Pn=wp.components.Modal;const Sn=function(e){var t=e.onClose,r=e.title,n=e.header,o=e.error,a=e.mainContent,l=e.sidebar,i=e.footer;return(0,P.Y)(Pn,{isFullScreen:!0,title:r||Cn("Add Media","presto-player"),onRequestClose:t,css:(0,P.AH)(gn||(gn=(0,_.A)(["\n        .components-modal__header {\n          border-bottom: 1px solid #ddd;\n        }\n        .components-modal__content {\n          display: flex;\n          flex-direction: column;\n          padding: 0;\n\n          > :not(.components-modal__header) {\n            flex: 1;\n          }\n        }\n      "]))),overlayClassName:"presto-player__modal-overlay"},(0,P.Y)("div",{css:(0,P.AH)(bn||(bn=(0,_.A)(['\n          @media screen and (min-width: 780px) {\n            height: 100%;\n            display: grid;\n            flex: 1;\n            max-height: calc(100vh - 68px);\n            grid-template-columns: 1fr 1fr minmax(0px, 267px);\n            grid-template-rows: minmax(50px, auto) 1fr 60px;\n            grid-template-areas:\n              "header header sidebar"\n              "main main sidebar"\n              "footer footer footer";\n            overflow: hidden;\n          }\n        ']))),"data-cy":"media-modal"},(0,P.Y)("div",{css:(0,P.AH)(wn||(wn=(0,_.A)(["\n            grid-area: header;\n            padding: 24px 24px 12px 24px;\n          "])))},(0,P.Y)("div",{css:(0,P.AH)(kn||(kn=(0,_.A)(["\n              display: flex;\n              align-items: center;\n\n              > * {\n                margin-right: 10px;\n              }\n            "])))},n),o),(0,P.Y)("div",{css:(0,P.AH)(xn||(xn=(0,_.A)(["\n            grid-area: main;\n            display: grid;\n            overflow: hidden;\n\n            .components-drop-zone__provider {\n              overflow: hidden;\n              display: grid;\n            }\n\n            .components-drop-zone {\n              z-index: 99;\n            }\n          "])))},a),(0,P.Y)("div",{css:(0,P.AH)(An||(An=(0,_.A)(["\n            display: none;\n            grid-area: sidebar;\n            padding: 0 16px;\n            z-index: 75;\n            background: #f3f3f3;\n            border-left: 1px solid #ddd;\n            overflow: auto;\n\n            @media screen and (min-width: 780px) {\n              display: block;\n            }\n\n            .sidebar-content {\n              padding: 16px 0;\n            }\n          "])))},l),(0,P.Y)("div",{css:(0,P.AH)(Yn||(Yn=(0,_.A)(["\n            grid-area: footer;\n            border-top: 1px solid #ddd;\n            display: flex;\n            align-items: center;\n            justify-content: flex-end;\n            padding: 8px;\n          "])))},i)))};var On,En,$n,Nn,Tn=wp.i18n.__,jn=wp.components,Rn=(jn.Button,jn.DropZone),In=jn.DropZoneProvider,Bn=jn.Notice,Ln=wp.element,Dn=(Ln.useState,Ln.useEffect),Mn=(Ln.Fragment,wp.data),Fn=Mn.dispatch,Hn=Mn.useSelect;const Vn=function(e){var t=e.onClose,r=e.onChoose,n=Hn(function(e){return e("presto-player/bunny-popup").isPrivate()}),o=Hn(function(e){return e("presto-player/bunny-popup").uploads()}),a=Hn(function(e){return e("presto-player/bunny-popup").currentCollection()}),l=Hn(function(e){return e("presto-player/bunny-popup").errors()});Dn(function(){Fn("presto-player/bunny-popup").setVideosFetched(!1),Fn("presto-player/bunny-popup").setCollections([]),Fn("presto-player/bunny-popup").setVideos([])},[]);var i=Tn(n?"Private Stream Library":"Public Stream Library","presto-player"),s=(0,P.Y)($r,{afterUpload:(0,P.Y)(mn,{uploads:o,removeUpload:function(e){Fn("presto-player/bunny-popup").removeUpload(e)},isPrivate:n})}),c=(0,P.Y)(Xe,null),u=(0,P.Y)(Lr,{onChoose:r});return(0,P.Y)(Sn,{title:i,header:s,mainContent:(0,P.Y)(In,{css:(0,P.AH)(On||(On=(0,_.A)(["\n          overflow: auto;\n          display: flex;\n          flex-direction: column;\n        "])))},(0,P.Y)("div",{css:(0,P.AH)(En||(En=(0,_.A)(["\n            padding: 12px 24px;\n            overflow: auto;\n            display: flex;\n            flex-direction: column;\n          "])))},!!l.length&&l.map(function(e){return(0,P.Y)(Bn,{css:(0,P.AH)($n||($n=(0,_.A)(["\n                    margin: 0 0 20px 0;\n                  "]))),status:"error",onRemove:function(){return Fn("presto-player/bunny-popup").removeError(e)}},e)}),a?(0,P.Y)(Jr,null):(0,P.Y)(cr,null),(0,P.Y)("div",{css:(0,P.AH)(Nn||(Nn=(0,_.A)(["\n              display: flex;\n              align-items: stretch;\n            "])))},(0,P.Y)(Qt,null)),(0,P.Y)(Rn,{label:"Drop files",onFilesDrop:function(e){Fn("presto-player/bunny-popup").addUploads(e)}}))),onClose:function(){o.length?confirm("Discard your uploads?")&&(t(),Fn("presto-player/bunny-popup").setUploads([])):t()},footer:u,sidebar:c})};var Un=wp.i18n.__,zn=wp.element.useEffect,Gn=wp.data.dispatch;const Wn=function(e){var t=e.closePopup,r=e.onSelect,n=e.isPrivate;return zn(function(){Gn("presto-player/bunny-popup").setIsPrivate(n)},[n]),(0,k.Y)(Vn,{onClose:t,onChoose:function(e){e.url=e.playlistURL,e.thumbnail=e.thumbnailURL,e.preview=e.webPURL,r(e)},header:Un(n?"Private Stream Library":"Public Stream Library","presto-player"),title:Un(n?"Private Video Stream":"Public Video Stream","presto-player")})};var Zn=wp.i18n.__,qn=wp.element.useState,Xn="".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"bunny/"),Kn=wp.i18n.__,Qn=wp.element.useState,Jn="".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"bunny/stream/");const eo=function(e){var t=e.onRefetch,r=e.type,n=e.autoSubmit,o="stream"===r?function(e){var t=Qn(""),r=(0,s.A)(t,2),n=r[0],o=r[1],a=Qn(""),l=(0,s.A)(a,2),c=l[0],p=l[1],d=Qn(!1),f=(0,s.A)(d,2),y=f[0],v=f[1],h=Qn(0),m=(0,s.A)(h,2),g=m[0],b=m[1],w=Qn(""),_=(0,s.A)(w,2),k=_[0],x=_[1],A=function(e){return e.includes("Authorization has been denied")?"Your API key is incorrect. Please double-check to make sure you've copied it correctly.":e.includes("localhost")?"You cannot use a CDN on a local site. Please use Bunny.net on a live, publicly accessible site.":e},Y=function(){var t=(0,i.A)(u().mark(function t(){return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return x(""),t.prev=1,v(!0),b(0),p(Kn("Validating API Key...","presto-player")),t.next=7,wp.apiFetch({url:"".concat(Jn,"api-key"),method:"POST",data:{api_key:n}});case 7:if(t.sent.success){t.next=11;break}throw{message:"Could not save the API key. Please double check it to make sure it's correct."};case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(1),b(0),x(null!==t.t0&&void 0!==t.t0&&t.t0.message?A(t.t0.message):"Something went wrong. Please try again"),t.abrupt("return");case 18:return t.prev=18,b(1),v(!1),p(""),t.finish(18);case 23:return t.prev=23,v(!0),p(Kn("Setting up public video library. This make take a few moments...","presto-player")),t.next=28,wp.apiFetch({url:"".concat(Jn,"library"),method:"POST",data:{type:"public"}});case 28:t.sent.id,t.next=37;break;case 32:return t.prev=32,t.t1=t.catch(23),b(0),x(null!==t.t1&&void 0!==t.t1&&t.t1.message?A(t.t1.message):"Something went wrong. Please try again"),t.abrupt("return");case 37:return t.prev=37,b(2),v(!1),p(""),t.finish(37);case 42:return t.prev=42,v(!0),p(Kn("Setting up private video library. This make take a few moments...","presto-player")),t.next=47,wp.apiFetch({url:"".concat(Jn,"library"),method:"POST",data:{type:"private"}});case 47:t.next=54;break;case 49:return t.prev=49,t.t2=t.catch(42),b(0),x(null!==t.t2&&void 0!==t.t2&&t.t2.message?A(t.t2.message):"Something went wrong. Please try again"),t.abrupt("return");case 54:return t.prev=54,b(2),v(!1),p(""),t.finish(54);case 59:e();case 60:case"end":return t.stop()}},t,null,[[1,13,18,23],[23,32,37,42],[42,49,54,59]])}));return function(){return t.apply(this,arguments)}}();return{saveKey:Y,setApikey:o,step:g,saveMessage:c,saving:y,error:k,totalSteps:3}}(t):function(e){var t=qn(""),r=(0,s.A)(t,2),n=r[0],o=r[1],a=qn(""),l=(0,s.A)(a,2),c=l[0],p=l[1],d=qn(!1),f=(0,s.A)(d,2),y=f[0],v=f[1],h=qn(0),m=(0,s.A)(h,2),g=m[0],b=m[1],w=qn(""),_=(0,s.A)(w,2),k=_[0],x=_[1],A=function(e){return e.includes("Authorization has been denied")?"Your API key is incorrect. Please double-check to make sure you've copied it correctly.":e.includes("localhost")?"You cannot use a CDN on a local site. Please use Bunny.net on a live, publicly accessible site.":e},Y=function(){var t=(0,i.A)(u().mark(function t(){return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return x(""),t.prev=1,v(!0),b(0),p(Zn("Validating API Key...","presto-player")),t.next=7,wp.apiFetch({url:"".concat(Xn,"api-key"),method:"POST",data:{api_key:n}});case 7:if(t.sent.success){t.next=11;break}throw{message:"Could not save the API key. Please double check it to make sure it's correct."};case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(1),b(0),x(null!==t.t0&&void 0!==t.t0&&t.t0.message?A(t.t0.message):"Something went wrong. Please try again"),t.abrupt("return");case 18:return t.prev=18,b(1),v(!1),p(""),t.finish(18);case 23:return t.prev=23,v(!0),p(Zn("Setting up storage zones. This make take a few minutes...","presto-player")),t.next=28,wp.apiFetch({url:"".concat(Xn,"storage-zones"),method:"POST"});case 28:t.sent.id,t.next=37;break;case 32:return t.prev=32,t.t1=t.catch(23),b(0),x(null!==t.t1&&void 0!==t.t1&&t.t1.message?A(t.t1.message):"Something went wrong. Please try again"),t.abrupt("return");case 37:return t.prev=37,b(2),v(!1),p(""),t.finish(37);case 42:return t.prev=42,v(!0),p(Zn("Setting up pull zones. This make take a few minutes...","presto-player")),t.next=47,wp.apiFetch({url:"".concat(Xn,"pull-zones"),method:"POST"});case 47:t.sent.id,t.next=56;break;case 51:return t.prev=51,t.t2=t.catch(42),b(0),x(null!==t.t2&&void 0!==t.t2&&t.t2.message?A(t.t2.message):"Something went wrong. Please try again"),t.abrupt("return");case 56:return t.prev=56,b(3),v(!1),p(""),t.finish(56);case 61:e();case 62:case"end":return t.stop()}},t,null,[[1,13,18,23],[23,32,37,42],[42,51,56,61]])}));return function(){return t.apply(this,arguments)}}();return{saveKey:Y,setApikey:o,step:g,saveMessage:c,saving:y,error:k,totalSteps:3}}(t),a=o.saveKey,c=o.apikey,d=o.setApikey,y=o.saveMessage,v=o.saving,h=o.totalSteps,m=o.step,g=o.error;return(0,l.useEffect)(function(){n&&a()},[n]),(0,k.Y)(p.Placeholder,{label:(0,f.__)("Bunny.net Video","presto-player"),instructions:(0,f.__)("Enter your Bunny.net API key, which can be found on your Bunny CDN Account page.","presto-player")},v?(0,k.Y)(p.Flex,null,(0,k.Y)(p.FlexItem,null,(0,k.Y)(p.Spinner,null)),(0,k.Y)(p.FlexBlock,null,y,(0,k.Y)("progress",{className:"presto-progress",max:h,value:m,style:{width:"100%"}}))):(0,k.Y)("form",{onSubmit:function(e){e.preventDefault(),a()}},g&&(0,k.Y)(p.Flex,{style:{width:"100%"}},(0,k.Y)(p.FlexBlock,null,(0,k.Y)(p.Notice,{status:"error",isDismissible:!1},g))),(0,k.Y)(p.Flex,{style:{width:"100%",maxWidth:"400px"}},(0,k.Y)(p.FlexBlock,null,(0,k.Y)(p.TextControl,{value:c,onChange:function(e){return d(e)},className:"presto-link-placeholder-input",type:"password",autoComplete:"off",placeholder:(0,f.__)("Your Bunny.net API Key","presto-player"),required:!0})),(0,k.Y)(p.FlexItem,null,(0,k.Y)(p.Button,{isPrimary:!0,style:{marginBottom:"8px"},type:"submit"},(0,f.__)("Next","presto-player")," →")))))};var to=r(2396),ro=r(8580),no=r(7753);function oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const lo=(0,y.compose)([(0,g.A)(),(0,m.A)()])((0,p.withNotices)(function(e){var t,r,n=e.attributes,o=e.setAttributes,a=e.noticeOperations,c=e.branding,y=(e.isSelected,e.presetData),m=e.createVideo,g=e.lockSave,w=e.unlockSave,_=e.onRemoveSrc,x=e.renderKey,A=e.defaultPreset,Y=n.poster,C=n.src,P=n.id,S=n.tracks,O=n.visibility,E=n.previewSrc,$=n.thumbnail,N=(0,l.useState)(""),T=(0,s.A)(N,2),j=T[0],R=T[1],I=(0,l.useState)(!1),B=(0,s.A)(I,2),L=B[0],D=B[1],M=(0,l.useState)(""),F=(0,s.A)(M,2),H=F[0],V=F[1],U=(0,l.useState)({stream:!1,storage:!1}),z=(0,s.A)(U,2),G=z[0],W=z[1],Z=(0,l.useState)(!1),q=(0,s.A)(Z,2),X=q[0],Q=q[1],J=(0,l.useState)(!1),ee=(0,s.A)(J,2),te=ee[0],re=ee[1],ne=(0,l.useState)(!1),oe=(0,s.A)(ne,2),ae=(oe[0],oe[1]),le=(0,l.useState)(!1),ie=(0,s.A)(le,2),se=ie[0],ce=ie[1],ue=wp.data.useSelect(function(e){return e("core").canUser("read","settings")}),pe="private"===O,de=null===(t=prestoPlayerAdmin)||void 0===t||null===(r=t.bunny)||void 0===r?void 0:r.disable_legacy_storage;function fe(e){e.url?(o(ao(ao({src:e.url,preset:null==A?void 0:A.id},null!=e&&e.thumbnail?{thumbnail:e.thumbnail}:{}),null!=e&&e.preview?{preview:e.preview}:{})),D(!0),g(),m(ao({src:e.url,type:"bunny",title:e.title},null!=e&&e.guid?{external_id:e.guid}:{})).catch(function(e){o({src:""}),console.error(e)}).finally(function(){w(),D(!1)})):o({src:void 0,id:void 0})}(0,l.useEffect)(function(){(0,v.dispatch)("presto-player/bunny-popup").setIsPrivate("private"===O)},[O]),(0,l.useEffect)(function(){var e,t,r,n,o,a;W({storage:null===(e=prestoPlayerAdmin)||void 0===e||null===(t=e.isSetup)||void 0===t||null===(r=t.bunny)||void 0===r?void 0:r.storage,stream:null===(n=prestoPlayerAdmin)||void 0===n||null===(o=n.isSetup)||void 0===o||null===(a=o.bunny)||void 0===a?void 0:a.stream})},[]);var ye=function(){var e=(0,i.A)(u().mark(function e(){var t,r,n,o,a,l,i,s;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wp.apiFetch({path:"wp/v2/settings"});case 3:t=e.sent,r=t.presto_player_bunny_pull_zones,n=t.presto_player_bunny_storage_zones,o=t.presto_player_bunny_stream_private,a=t.presto_player_bunny_stream_public,re(!0),o||Q(!0),i=(l=function(e){return!(null==e||!e.private_id||null==e||!e.public_id)})(r)||l(n),s=(null==o?void 0:o.pull_zone_url)&&(null==a?void 0:a.pull_zone_url),W({storage:i,stream:s}),V(i||s?"":"stream");case 15:return e.prev=15,ae(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[0,,15,18]])}));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)(function(){ue?ye():re(!0)},[ue]);var ve=function(){var e=(0,i.A)(u().mark(function e(){var t;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe){e.next=7;break}return e.next=3,h(C);case 3:t=e.sent,o({previewSrc:t}),e.next=8;break;case 7:o({previewSrc:C});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)(function(){ve()},[C]);var he=function(){var e=(0,i.A)(u().mark(function e(){var t;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!pe){e.next=7;break}return e.next=3,h($);case 3:(t=e.sent)&&o({previewThumbnail:t}),e.next=8;break;case 7:o({previewThumbnail:$});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)(function(){he()},[$]);var me;return L||!te?(0,k.Y)(p.Placeholder,{className:"presto-player__placeholder is-loading"},(0,k.Y)(p.Spinner,null)):"stream"===H?(0,k.Y)(eo,{type:"stream",autoSubmit:se,onRefetch:function(){re(!1),ye()}}):"storage"===H?(0,k.Y)(eo,{type:"storage",onRefetch:function(){re(!1),ye()}}):P?(0,k.Y)(React.Fragment,null,(0,k.Y)(d.BlockControls,null,(0,k.Y)(b.A,{tracks:S,onChange:function(e){o({tracks:e})}}),(0,k.Y)(p.Toolbar,null,(0,k.Y)(p.Button,{onClick:function(){return _()}},(0,f.__)("Replace","presto-player"))),(0,k.Y)(no.A,null)),(0,k.Y)(d.InspectorControls,null,(0,k.Y)(to.A,{setAttributes:o,attributes:n})),(0,k.Y)("figure",{className:"wp-block-video"},(0,k.Y)(p.Disabled,null,(0,k.Y)(ro.A,{poster:Y,src:E,id:P,type:"bunny",attributes:n,setAttributes:o,preset:y,branding:c,key:x})))):(0,k.Y)("div",null,(0,k.Y)(p.Placeholder,{label:pe?(0,f.__)("Bunny.net Private Video","presto-player"):(0,f.__)("Bunny.net Video","presto-player"),icon:pe?(0,k.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,k.Y)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})):(0,k.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,k.Y)("polyline",{points:"8 17 12 21 16 17"}),(0,k.Y)("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),(0,k.Y)("path",{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"})),instructions:(0,f.__)("Add or select a Bunny.net video","presto-player")},(0,k.Y)(p.BaseControl,{className:"presto-player__placeholder-control"},(0,k.Y)(p.ToggleControl,{label:"Private Video",help:pe?"Video is only accessible to those who are logged in.":"Video is accessible to everyone.",checked:pe,onChange:function(e){o({visibility:e?"private":"public"})}})),(0,k.Y)(l.Fragment,null,G.stream&&(0,k.Y)(p.Button,{isPrimary:!0,onClick:function(){return R("stream")}},pe?(0,f.__)("Add/Select Private Video Stream","presto-player"):(0,f.__)("Add/Select Video Stream","presto-player")),!de&&G.storage&&(0,k.Y)(p.Button,{isSecondary:G.stream,isPrimary:!G.stream,onClick:function(){return R("storage")}},pe?(0,f.__)("Add/Select Private Video (Classic)","presto-player"):(0,f.__)("Add/Select Video (Classic)","presto-player")),!G.stream&&!X&&G.storage&&(0,k.Y)(p.Button,{isSecondary:!0,onClick:function(){ce(!0),V("stream")}},(0,f.__)("Enable Bunny.net Stream!","presto-player")),!!ue&&(me=[],!X&&me.push({title:G.stream?(0,f.__)("Reconnect Stream","presto-player"):(0,f.__)("Connect Stream","presto-player"),onClick:function(){V("stream"),ce(!1)}}),!de&&me.push({title:G.storage?(0,f.__)("Reconnect Storage (Classic)","presto-player"):(0,f.__)("Connect Storage (Classic)","presto-player"),onClick:function(){return V("storage")}}),(0,k.Y)(p.DropdownMenu,{icon:"ellipsis",label:(0,f.__)("Connection Options","presto-player"),controls:me})))),"storage"===j&&(0,k.Y)(K,{isPrivate:pe,closePopup:function(){return R("")},noticeOperations:a,onSelect:fe}),"stream"===j&&(0,k.Y)(Wn,{isPrivate:pe,closePopup:function(){return R("")},noticeOperations:a,onSelect:fe}))}));var io=r(9042);function so(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?so(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):so(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}wp.i18n.__;var uo="presto-player/bunny",po=co(co({},io.A),{},{usesContext:["presto-player/playlist-media-id"],attributes:co(co({},io.A.attributes),{thumbnail:{type:String,default:""},preview:{type:String,default:""}}),premium:!0,icon:(0,k.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,k.Y)("polyline",{points:"8 17 12 21 16 17"}),(0,k.Y)("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),(0,k.Y)("path",{d:"M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"})),edit:lo})},5815:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(1885),o=r(4534),a=r(9735),l=r(3716),i=r(390),s=r(483),c=r(9503),u=function(e,t,r){for(var n=0,o=0;n=o,o=(0,i.se)(),38===n&&12===o&&(t[r]=1),!(0,i.Sh)(o);)(0,i.K2)();return(0,i.di)(e,i.G1)},p=new WeakMap,d=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||p.get(r))&&!n){p.set(e,!0);for(var o=[],l=function(e,t){return(0,i.VF)(function(e,t){var r=-1,n=44;do{switch((0,i.Sh)(n)){case 0:38===n&&12===(0,i.se)()&&(t[r]=1),e[r]+=u(i.G1-1,t,r);break;case 2:e[r]+=(0,i.Tb)(n);break;case 4:if(44===n){e[++r]=58===(0,i.se)()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=(0,a.HT)(n)}}while(n=(0,i.K2)());return e}((0,i.c4)(e),t))}(t,o),s=r.props,c=0,d=0;c<l.length;c++)for(var f=0;f<s.length;f++,d++)e.props[d]=o[c]?l[c].replace(/&\f/g,s[f]):s[f]+" "+l[c]}}},f=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function y(e,t){switch((0,a.tW)(e,t)){case 5103:return o.j+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o.j+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return o.j+e+o.vd+e+o.MS+e+e;case 6828:case 4268:return o.j+e+o.MS+e+e;case 6165:return o.j+e+o.MS+"flex-"+e+e;case 5187:return o.j+e+(0,a.HC)(e,/(\w+).+(:[^]+)/,o.j+"box-$1$2"+o.MS+"flex-$1$2")+e;case 5443:return o.j+e+o.MS+"flex-item-"+(0,a.HC)(e,/flex-|-self/,"")+e;case 4675:return o.j+e+o.MS+"flex-line-pack"+(0,a.HC)(e,/align-content|flex-|-self/,"")+e;case 5548:return o.j+e+o.MS+(0,a.HC)(e,"shrink","negative")+e;case 5292:return o.j+e+o.MS+(0,a.HC)(e,"basis","preferred-size")+e;case 6060:return o.j+"box-"+(0,a.HC)(e,"-grow","")+o.j+e+o.MS+(0,a.HC)(e,"grow","positive")+e;case 4554:return o.j+(0,a.HC)(e,/([^-])(transform)/g,"$1"+o.j+"$2")+e;case 6187:return(0,a.HC)((0,a.HC)((0,a.HC)(e,/(zoom-|grab)/,o.j+"$1"),/(image-set)/,o.j+"$1"),e,"")+e;case 5495:case 3959:return(0,a.HC)(e,/(image-set\([^]*)/,o.j+"$1$`$1");case 4968:return(0,a.HC)((0,a.HC)(e,/(.+:)(flex-)?(.*)/,o.j+"box-pack:$3"+o.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o.j+e+e;case 4095:case 3583:case 4068:case 2532:return(0,a.HC)(e,/(.+)-inline(.+)/,o.j+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,a.b2)(e)-1-t>6)switch((0,a.wN)(e,t+1)){case 109:if(45!==(0,a.wN)(e,t+4))break;case 102:return(0,a.HC)(e,/(.+:)(.+)-([^]+)/,"$1"+o.j+"$2-$3$1"+o.vd+(108==(0,a.wN)(e,t+3)?"$3":"$2-$3"))+e;case 115:return~(0,a.K5)(e,"stretch")?y((0,a.HC)(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==(0,a.wN)(e,t+1))break;case 6444:switch((0,a.wN)(e,(0,a.b2)(e)-3-(~(0,a.K5)(e,"!important")&&10))){case 107:return(0,a.HC)(e,":",":"+o.j)+e;case 101:return(0,a.HC)(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o.j+(45===(0,a.wN)(e,14)?"inline-":"")+"box$3$1"+o.j+"$2$3$1"+o.MS+"$2box$3")+e}break;case 5936:switch((0,a.wN)(e,t+11)){case 114:return o.j+e+o.MS+(0,a.HC)(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return o.j+e+o.MS+(0,a.HC)(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return o.j+e+o.MS+(0,a.HC)(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return o.j+e+o.MS+e+e}return e}var v=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case o.LU:e.return=y(e.value,e.length);break;case o.Sv:return(0,s.l)([(0,i.C)(e,{value:(0,a.HC)(e.value,"@","@"+o.j)})],n);case o.XZ:if(e.length)return(0,a.kg)(e.props,function(t){switch((0,a.YW)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,s.l)([(0,i.C)(e,{props:[(0,a.HC)(t,/:(read-\w+)/,":"+o.vd+"$1")]})],n);case"::placeholder":return(0,s.l)([(0,i.C)(e,{props:[(0,a.HC)(t,/:(plac\w+)/,":"+o.j+"input-$1")]}),(0,i.C)(e,{props:[(0,a.HC)(t,/:(plac\w+)/,":"+o.vd+"$1")]}),(0,i.C)(e,{props:[(0,a.HC)(t,/:(plac\w+)/,o.MS+"input-$1")]})],n)}return""})}}];const h=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var o,a,i=e.stylisPlugins||v,u={},p=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)u[t[r]]=!0;p.push(e)});var y,h=[d,f],m=[s.A,(0,c.MY)(function(e){y.insert(e)})],g=(0,c.r1)(h.concat(i,m));a=function(e,t,r,n){var o;y=r,o=e?e+"{"+t.styles+"}":t.styles,(0,s.l)((0,l.wE)(o),g),n&&(b.inserted[t.name]=!0)};var b={key:t,sheet:new n.v({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:a};return b.sheet.hydrate(p),b}},5862:(e,t,r)=>{"use strict";r.d(t,{A:()=>o}),r(6087);var n=r(7437),__=wp.i18n.__;function o(){return(0,n.Y)("div",{className:"presto-player__pro-badge"},__("Pro","presto-player"))}},6015:(e,t,r)=>{"use strict";r.d(t,{Y6:()=>a,t$:()=>i});var n=r(2284),o=r(1232),a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Element){var a=l(e.classList,t,r);""!==a&&(e.className=a),Object.keys(t).forEach(function(r){if("children"!==r&&"style"!==r&&"ref"!==r&&"class"!==r&&"className"!==r&&"forwardedRef"!==r)if(0===r.indexOf("on")&&r[2]===r[2].toUpperCase()){var a=r.substring(2),l=a[0].toLowerCase()+a.substring(1);i(l)||s(e,l,t[r])}else e[r]=t[r],"string"===(0,n.A)(t[r])&&e.setAttribute((0,o.e)(r),t[r])})}},l=function(e,t,r){var n=t.className||t.class,o=r.className||r.class,a=c(e),l=c(n?n.split(" "):[]),i=c(o?o.split(" "):[]),s=[];return a.forEach(function(e){l.has(e)?(s.push(e),l.delete(e)):i.has(e)||s.push(e)}),l.forEach(function(e){return s.push(e)}),s.join(" ")},i=function(e){if("undefined"==typeof document)return!0;var t="on"+function(e){return"doubleclick"===e?"dblclick":e}(e),r=t in document;if(!r){var n=document.createElement("div");n.setAttribute(t,"return;"),r="function"==typeof n[t]}return r},s=function(e,t,r){var n=e.__events||(e.__events={}),o=n[t];o&&e.removeEventListener(t,o),e.addEventListener(t,n[t]=function(e){r&&r.call(this,e)})},c=function(e){var t=new Map;return e.forEach(function(e){return t.set(e,e)}),t}},6055:(e,t,r)=>{"use strict";r.d(t,{A:()=>w});var n,o=r(7528),a=r(3453),l=(r(6087),r(9067)),i=wp.components,s=i.ColorPicker,c=i.ColorIndicator,u=i.Popover,p=i.Button,d=(i.Flex,wp.element),f=d.useState,y=d.useEffect,__=wp.i18n.__,v={name:"dbcz6",styles:"width:25px;height:25px;border-radius:9999px"},h={name:"h3ohiq",styles:"display:flex;align-items:center;justify-content:space-between;padding:10px"},m={name:"1yzqyz8",styles:"margin:0 5px"},g={name:"iml53j",styles:"display:flex;justify-content:flex-end;padding:10px"},b={name:"1yzqyz8",styles:"margin:0 5px"};const w=function(e){var t=e.color,r=e.setColor,i=e.onFocus,d=f(!1),w=(0,a.A)(d,2),_=w[0],k=w[1],x=f(t),A=(0,a.A)(x,2),Y=A[0],C=A[1];return y(function(){_&&t&&C(t)},[_]),(0,l.Y)("span",null,(0,l.Y)(c,{css:v,colorValue:t,onClick:function(){k(!_),i&&i()}}),!!_&&(0,l.Y)(u,{position:"bottom left",focusOnMount:!0,onFocusOutside:function(e){k(!1)},css:(0,l.AH)(n||(n=(0,o.A)(["\n            .components-color-picker,\n            .react-colorful {\n              width: 100%;\n            }\n          "])))},(0,l.Y)(s,{color:t||"",onChangeComplete:function(e){return(null==e?void 0:e.hex)&&r(e)},disableAlpha:!0}),(0,l.Y)("div",{css:h},(0,l.Y)(p,{css:m,isTertiary:!0,onClick:function(){r({hex:null}),k(!1)}},__("Reset","presto-player")),(0,l.Y)("div",{css:g},(0,l.Y)(p,{css:b,isTertiary:!0,onClick:function(){r({hex:Y}),k(!1)}},__("Cancel","presto-player")),(0,l.Y)(p,{isPrimary:!0,onClick:function(){return k(!1)}},__("Apply","presto-player"))))))}},6066:(e,t,r)=>{"use strict";r.r(t),r.d(t,{name:()=>_,options:()=>k});var n,o,a=r(6087),l=r(7723),i=r(7528),s=r(3453),c=r(9067),u=r(4715),p=r(6427),d=r(3582),f=r(7143),y=r(9281),v=r(2391),h=r(7677),m=r(9224),g=r(9078),b=r(4997),w=r(7437),_="presto-player/reusable-display",k={title:(0,l.__)("Media Hub Item","presto-player"),category:"presto",attributes:{id:Number},supports:{inserter:!1,reusable:!1,html:!1,align:!0},usesContext:["presto-player/playlist-media-id"],providesContext:{"presto-player/playlist-media-id":"id"},icon:(0,w.Y)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"presto-block-icon"},(0,w.Y)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,w.Y)("path",{d:"M10 8L16 12L10 16V8Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),edit:function(e){var t,r,w=e.attributes,_=e.context,k=e.clientId,x=e.isSelected,A=(0,a.useState)(null),Y=(0,s.A)(A,2),C=Y[0],P=Y[1],S=(0,f.useDispatch)(u.store).selectBlock,O=w.id,E=_["presto-player/playlist-media-id"]||O,$=(0,u.useBlockProps)(),N=(0,d.useEntityBlockEditor)("postType","pp_video_block",{id:E}),T=(0,s.A)(N,3),j=T[0],R=T[1],I=T[2],B=(0,a.useMemo)(function(){return(j||[]).filter(function(e){return"presto-player/reusable-edit"===e.name})},[j]),L=(0,a.useMemo)(function(){var e;return((null==B||null===(e=B[0])||void 0===e?void 0:e.innerBlocks)||[]).some(function(e){return e.attributes.src})},[B]),D=(0,u.__experimentalUseBlockPreview)({blocks:B,props:$}),M=(0,u.useInnerBlocksProps)($,{value:j,onInput:R,onChange:I,templateLock:"all"}),F=(0,f.useSelect)(function(e){var t,r,n=["postType","pp_video_block",E],o=e(d.store).hasFinishedResolution("getEntityRecord",n),a=(t=e(d.store)).getEntityRecord.apply(t,n);return{media:a,canEdit:(r=e(d.store)).canUserEditEntityRecord.apply(r,n),isMissing:o&&!a&&E,hasResolved:o,isResolving:e(d.store).isResolving("getEntityRecord",n)}},[E,k]),H=F.media,V=F.canEdit,U=F.isMissing,z=F.hasResolved,G=(0,a.useMemo)(function(){var e,t;return!!L&&!!V&&!!(null!=H&&null!==(e=H.details)&&void 0!==e&&e.src||null!=H&&null!==(t=H.details)&&void 0!==t&&t.provider_video_id)},[L,V,null==H||null===(t=H.details)||void 0===t?void 0:t.src,null==H||null===(r=H.details)||void 0===r?void 0:r.provider_video_id]);return(0,a.useEffect)(function(){null!==C&&setTimeout(function(){var e,t,r,n=(0,f.select)(u.store).getBlocks(k),o=null==n||null===(e=n[0])||void 0===e||null===(t=e.innerBlocks)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.clientId;S(o&&C&&G?o:k)})},[C]),(0,a.useEffect)(function(){var e,t,r,n=(0,f.select)(u.store).getBlocks(k),o=null==n||null===(e=n[0])||void 0===e||null===(t=e.innerBlocks)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.clientId;o&&S(o)},[x]),z?E||void 0===_["presto-player/playlist-media-id"]?U?(0,c.Y)("div",$,(0,l.__)("The selected media item has been deleted or is unavailable.","presto-player")):j.length?!G||C?(0,c.Y)(g.A.Provider,{value:{isEditing:C,setIsEditing:P}},(0,c.Y)("div",M)):(0,c.Y)(React.Fragment,null,G&&(0,c.Y)(React.Fragment,null,(0,c.Y)(u.BlockControls,null,(0,c.Y)(p.Toolbar,null,(0,c.Y)(p.Button,{icon:v.A,onClick:function(){return P(!0)}},(0,l.__)("Edit Original","presto-player")))),(0,c.Y)(u.InspectorControls,null,(0,c.Y)(p.PanelBody,null,(0,c.Y)(p.Flex,{align:"center",justify:"flex-start"},(0,c.Y)(h.A,{icon:m.A}),(0,c.Y)("h2",{class:"block-editor-block-card__title"},(0,l.__)("Synced","presto-player"))),(0,c.Y)(p.BaseControl,{help:(0,l.__)("This item is synced with the media hub and can be reused across your site.","presto-player"),css:(0,c.AH)(o||(o=(0,i.A)(["\n                  margin-bottom: 10px !important;\n                "])))}),(0,c.Y)(p.Button,{icon:v.A,onClick:function(){return P(!0)},variant:"secondary"},(0,l.__)("Edit Original","presto-player")))),(0,c.Y)("div",$,(0,c.Y)("div",D)))):(0,c.Y)(y.A,{sync:!1,onSelect:function(e){(0,(0,f.useDispatch)(u.store).replaceBlock)(k,(0,b.createBlock)("presto-player/".concat(e)))},onSelectMedia:!1}):(0,c.Y)(p.Placeholder,{css:(0,c.AH)(n||(n=(0,i.A)(["\n          &.components-placeholder {\n            min-height: 350px;\n          }\n        "]))),withIllustration:!0}):(0,c.Y)("div",$,(0,c.Y)(p.Placeholder,null,(0,c.Y)(p.Spinner,null)))},save:function(){var e=u.useBlockProps.save(),t=u.useInnerBlocksProps.save(e);return(0,w.Y)("div",t)},__experimentalLabel:function(e){var t,r=["postType","pp_video_block",e.id],n=(t=(0,f.select)(d.store)).getEditedEntityRecord.apply(t,r);return null==n?void 0:n.title},deprecated:[{attributes:{id:{type:"number"}},save:function(){return null}}]}},6079:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var n,o,a,l,i,s,c,u=r(7528),p=r(4467),d=r(3453),f=(r(6087),r(9067));function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,p.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var __=wp.i18n.__,h=wp.components,m=h.Button,g=h.Popover,b=h.Icon,w=wp.blockEditor.__experimentalLinkControl,_=wp.element.useState,k=wp.url.prependHTTP;const x=function(e){var t=e.setSettings,r=e.settings,p=_(!1),y=(0,d.A)(p,2),h=y[0],x=y[1],A=r.url,Y=_(),C=(0,d.A)(Y,2),P=C[0],S=C[1],O=v({url:null==r?void 0:r.url,type:null==r?void 0:r.type,id:null==r?void 0:r.id,opensInNewTab:null==r?void 0:r.opensInNewTab},P),E=function(e){e=v(v({},P),e);var r=O.opensInNewTab!==e.opensInNewTab&&O.url===e.url&&void 0===e.url;if(S(r?e:void 0),!r){var n=k(e.url);t({url:n,type:e.type,id:void 0!==e.id&&null!==e.id?String(e.id):void 0,opensInNewTab:e.opensInNewTab})}};return(0,f.Y)("span",null,A?(0,f.Y)("div",{css:(0,f.AH)(n||(n=(0,u.A)(["\n            display: flex;\n            justify-content: space-between;\n          "])))},(0,f.Y)("div",{css:(0,f.AH)(o||(o=(0,u.A)(["\n              max-width: 85%;\n              overflow: hidden;\n              display: flex;\n              align-items: center;\n            "])))},(0,f.Y)("a",{href:"#",css:(0,f.AH)(a||(a=(0,u.A)(["\n                padding: 10px;\n                background: #f3f3f3;\n                border-radius: 4px;\n                width: 100%;\n                display: inline-flex;\n                align-items: center;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                text-decoration: none;\n              "]))),onClick:function(){return x(!h)}},(0,f.Y)(b,{icon:"edit",css:(0,f.AH)(l||(l=(0,u.A)(["\n                  cursor: pointer;\n                  opacity: 0.75;\n                  margin: 0 2px;\n                  font-size: 16px;\n                  width: 16px;\n                  height: 16px;\n                  text-decoration: none;\n                "])))}),A),h&&(0,f.Y)(g,{position:"bottom center",onClose:function(){return x(!1)}},(0,f.Y)(w,{value:r,onChange:E}))),(0,f.Y)("div",{css:(0,f.AH)(i||(i=(0,u.A)(["\n              display: flex;\n              align-items: center;\n            "])))},(0,f.Y)(b,{onClick:function(){confirm(__("Are you sure you wish to remove this link?","presto-player"))&&t({})},icon:"trash",className:"presto-icon",css:(0,f.AH)(s||(s=(0,u.A)(["\n                cursor: pointer;\n                opacity: 0.75;\n                margin: 0 2px;\n                fontsize: 18px;\n                width: 18px;\n                height: 18px;\n\n                &:hover {\n                  color: #cc1818;\n                }\n              "])))}))):(0,f.Y)("span",null,(0,f.Y)(m,{isPrimary:!0,isSmall:!0,onClick:function(){return x(!h)}},__("Add Link","presto-player")),h&&(0,f.Y)(g,{css:(0,f.AH)(c||(c=(0,u.A)(["margin-top: 10px"]))),position:"bottom right",onClose:function(){return x(!1)}},(0,f.Y)(w,{value:r,onChange:E}))))}},6087:e=>{"use strict";e.exports=window.wp.element},6248:(e,t,r)=>{"use strict";r.r(t),r.d(t,{metadata:()=>S,name:()=>O,options:()=>E});var n=r(6087),o=r(7723),a=r(8168),l=r(7528),i=r(9067),s=r(5532),c=r(4715),u=r(4997),p=r(6427),d=r(467),f=r(3453),y=r(9280),v=r.n(y),h=r(3582),m=r(7143),g=r(692),b=r(3510),w=r(7437);const _=function(e){var t=e.selectedItems,r=e.setAttributes,a=e.className,l=(0,n.useState)("select"),i=(0,f.A)(l,2),s=i[0],c=i[1],u=(0,n.useState)(!1),y=(0,f.A)(u,2),_=y[0],k=y[1],x=(0,n.useState)(""),A=(0,f.A)(x,2),Y=A[0],C=A[1],P=(0,m.useDispatch)(h.store).saveEntityRecord,S=(0,m.useDispatch)(g.store).createErrorNotice,O=function(){var e=(0,d.A)(v().mark(function e(){var t,n,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Y&&!_){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,k(!0),e.next=6,P("postType","pp_video_block",{title:Y,status:"publish",content:'\x3c!-- wp:presto-player/reusable-edit --\x3e\n          <div class="wp-block-presto-player-reusable-edit"></div>\n          \x3c!-- /wp:presto-player/reusable-edit --\x3e'},{throwOnError:!0});case 6:t=e.sent,n=t.id,a=t.title.raw,r({id:n,title:a||Y}),k(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0),S((null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,o.__)("Something went wrong","presto-player"));case 17:case"end":return e.stop()}},e,null,[[2,13]])}));return function(){return e.apply(this,arguments)}}();return"create"===s?(0,w.Y)(p.Flex,{className:a,direction:"column",gap:4},(0,w.Y)(p.TextControl,{value:Y,onChange:function(e){return C(e)},placeholder:(0,o.__)("Title","presto-player"),required:!0,label:(0,o.__)("Title","presto-player"),disabled:_,autoFocus:!0}),(0,w.Y)(p.Flex,{justify:"start",align:"center"},(0,w.Y)(p.Button,{style:{margin:0},variant:"primary",isBusy:_,onClick:_?function(){}:O},(0,o.__)("Create","presto-player")," ",_&&(0,w.Y)(p.Spinner,{style:{marginTop:0}})),(0,w.Y)(p.Button,{variant:"tertiary",style:{margin:0},isBusy:_,onClick:function(){return c(!1)}},"← ",(0,o.__)("Go Back","presto-player")))):(0,w.Y)(p.Flex,{className:a,direction:"column",gap:4},(0,w.Y)(b.A,{popoverProps:{placement:"bottom-start"},value:t,onSelect:function(e){return r({id:e.id,title:null==e?void 0:e.title})},onCreate:function(){return c("create")}}))};var k,x,A,Y,C=r(560),P=["presto-player/playlist-preview","presto-player/playlist-list"];const S=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","name":"presto-player/playlist","apiVersion":2,"title":"Presto Playlist","category":"presto","description":"Create a playlist of videos or audio.","keywords":["playlist","video"],"textdomain":"presto-player","supports":{"align":true,"multiple":false,"color":{"gradients":false,"link":false,"__experimentalDefaultControls":{"background":true,"text":true}},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalSkipSerialization":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}}},"attributes":{"heading":{"type":"string","default":"Playlist"},"selectedItem":{"type":"number","default":null},"listTextSingular":{"type":"string","default":"Video"},"listTextPlural":{"type":"string","default":"Videos"},"color":{"type":"string"},"textColor":{"type":"string"},"highlightColor":{"type":"string"},"transitionDuration":{"type":"number","default":5},"matchPlaylistToPlayerColor":{"type":"boolean"}},"providesContext":{"presto-player/playlist-media-id":"selectedItem"},"script":"presto-components"}');var O=S.name,E={icon:(0,w.Y)("svg",{width:"19",height:"15",className:"playlist-block-icon",viewBox:"0 0 19 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,w.Y)("path",{d:"M0 4H11V6H0V4ZM0 0H11V2H0V0ZM0 8H7V10H0V8ZM13 7V15L19 11L13 7Z",fill:"currentColor"})),edit:function(e){var t,r,d,f,y,v,h,g=e.attributes,b=e.setAttributes,w=e.clientId,S=g.heading,O=g.listTextSingular,E=g.listTextPlural,$=g.highlightColor,N=g.transitionDuration,T=g.selectedItem,j=g.matchPlaylistToPlayerColor,R=(0,m.useDispatch)(c.store).replaceInnerBlocks,I=(0,c.useBlockProps)({css:(0,i.AH)(k||(k=(0,l.A)(["\n      wp-block,\n      [data-block] {\n        margin: 0 !important;\n        max-width: none !important;\n      }\n    "])))}),B=(0,m.useSelect)(function(e){var t=e(c.store).getBlocks(w),r=(t||[]).find(function(e){return"presto-player/playlist-list"===e.name}),n=(t||[]).find(function(e){return"presto-player/playlist-preview"===e.name});return{selectedBlock:e(c.store).getSelectedBlock(),previewWrapper:n,playlistBlocks:e(c.store).getBlocks(null==r?void 0:r.clientId),previewBlocks:e(c.store).getBlocks(null==n?void 0:n.clientId),playListWrapper:r}},[w]),L=B.selectedBlock,D=B.playlistBlocks,M=B.playListWrapper;(0,n.useEffect)(function(){var e,t;null!=L&&null!==(e=L.attributes)&&void 0!==e&&e.id&&"presto-player/playlist-list-item"===L.name&&b({selectedItem:parseInt(null==L||null===(t=L.attributes)||void 0===t?void 0:t.id)})},[D,null==L||null===(t=L.attributes)||void 0===t?void 0:t.id]),(0,n.useEffect)(function(){if(!T){var e,t,r,n,o=parseInt(null==D||null===(e=D[0])||void 0===e||null===(t=e.attributes)||void 0===t?void 0:t.id);isNaN(o)||b({selectedItem:parseInt(null==D||null===(r=D[0])||void 0===r||null===(n=r.attributes)||void 0===n?void 0:n.id)})}},[D]);var F=(0,c.useInnerBlocksProps)(I,{renderAppender:!1,allowedBlocks:P,template:[["presto-player/playlist-preview"],["presto-player/playlist-list"]],templateLock:"all"}),H=(0,c.__experimentalUseMultipleOriginColorsAndGradients)(),V=(0,c.__experimentalUseBorderProps)(g),U=(0,c.__experimentalUseColorProps)(g);return 0===D.length?(0,i.Y)("div",I,(0,i.Y)(p.Placeholder,{icon:(0,i.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"playlist-block-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,i.Y)("path",{fill:"currentColor",d:"M3 10h11v2H3zm0-4h11v2H3zm0 8h7v2H3zm13-1v8l6-4z"})),instructions:(0,o.__)("Add a Playlist Item to get started.","presto-player"),label:(0,o.__)("Presto Player Playlist","presto-player"),isColumnLayout:!0},(0,i.Y)(_,{css:(0,i.AH)(x||(x=(0,l.A)(["\n              max-width: 600px;\n            "]))),setAttributes:function(e){var t=e.id,r=e.title;b({selectedItem:t}),R(null==M?void 0:M.clientId,[(0,u.createBlock)("presto-player/playlist-list-item",{id:t,title:r})])}}))):(0,i.Y)(React.Fragment,null,(0,i.Y)(c.InspectorControls,{group:"color"},(0,i.Y)(c.__experimentalColorGradientSettingsDropdown,(0,a.A)({__experimentalIsRenderedInSidebar:!0,settings:[{colorValue:$,label:(0,o.__)("Highlight Color"),onColorChange:function(e){return b({highlightColor:e})},resetAllFilter:function(){return b({highlightColor:void 0})}}]},H,{panelId:w,gradients:[],disableCustomGradients:!0})),(0,i.Y)(c.ContrastChecker,{backgroundColor:$,textColor:"#ffffff"}),C(null===(r=prestoPlayer)||void 0===r?void 0:r.proVersion,"2.0.4")>=0&&!!$&&(0,i.Y)(p.ToggleControl,{label:(0,o.__)("Pass highlight color to player","presto-player"),help:(0,o.__)("Use the playlist highlight color as player color in case your playlist color is different from your brand.","presto-player"),checked:j,onChange:function(e){return b({matchPlaylistToPlayerColor:e})},css:(0,i.AH)(A||(A=(0,l.A)(["\n                min-width: 250px;\n              "])))})),(0,i.Y)(c.InspectorControls,null,(0,i.Y)(p.PanelBody,{title:(0,o.__)("General","presto-player"),initialOpen:!0},(0,i.Y)(p.TextControl,{label:(0,o.__)("Playlist Title","presto-player"),value:S,onChange:function(e){return b({heading:e})}}),(0,i.Y)(p.TextControl,{label:(0,o.__)("Playlist Items Text - Singular","presto-player"),value:O,onChange:function(e){return b({listTextSingular:e})}}),(0,i.Y)(p.TextControl,{label:(0,o.__)("Playlist Items Text - Plural","presto-player"),value:E,onChange:function(e){return b({listTextPlural:e})}}),(0,i.Y)(p.__experimentalNumberControl,{label:(0,o.__)("Transition Duration (Seconds)","presto-player"),value:N,onChange:function(e){return b({transitionDuration:e})},max:30,min:.5,step:.1}))),(0,i.Y)("div",{style:{"--presto-playlist-highlight-color":$,"--presto-player-highlight-color":j?$:"","--presto-playlist-background-color":null==U||null===(d=U.style)||void 0===d?void 0:d.backgroundColor,"--presto-playlist-text-color":null==U||null===(f=U.style)||void 0===f?void 0:f.color,"--presto-playlist-border-color":null==V||null===(y=V.style)||void 0===y?void 0:y.borderColor,"--presto-playlist-border-width":null==V||null===(v=V.style)||void 0===v?void 0:v.borderWidth,"--presto-playlist-border-radius":null==V||null===(h=V.style)||void 0===h?void 0:h.borderRadius,border:"none"},css:(0,i.AH)(Y||(Y=(0,l.A)(["\n          width: 100%;\n          .wp-block-video {\n            margin: 0 !important;\n          }\n        "])))},(0,i.Y)(s.en,F)))},save:function(){var e=c.useBlockProps.save(),t=c.useInnerBlocksProps.save(e);return(0,w.Y)("div",t)}}},6289:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},6336:(e,t,r)=>{"use strict";r.r(t),r.d(t,{name:()=>Y,options:()=>C});var n=r(6087),o=r(4715),a=r(7723),l=r(467),i=r(7528),s=r(3453),c=r(9280),u=r.n(c),p=r(9067),d=r(4997),f=r(3582),y=r(7143),v=r(3510),h=r(7677),m=r(5573),g=r(790);const b=(0,g.jsx)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,g.jsx)(m.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})});var w=r(6427),_=r(7437);const k=function(e){var t=e.onCreate,r=e.onRequestClose,o=(0,n.useState)(""),l=(0,s.A)(o,2),i=l[0],c=l[1];return(0,_.Y)(w.Modal,{title:(0,a.__)("Add New Playlist Item","presto-player"),onRequestClose:r},(0,_.Y)(w.Flex,{direction:"column",gap:4},(0,_.Y)(w.TextControl,{value:i,onChange:function(e){return c(e)},placeholder:(0,a.__)("Title","presto-player"),required:!0,label:(0,a.__)("Title","presto-player"),autoFocus:!0}),(0,_.Y)(w.Flex,{justify:"start",align:"center"},(0,_.Y)(w.Button,{style:{margin:0},variant:"primary",onClick:function(){return t(i)}},(0,a.__)("Create","presto-player")),(0,_.Y)(w.Button,{variant:"tertiary",style:{margin:0},onClick:r},(0,a.__)("Cancel","presto-player")))))};var x,A,Y="presto-player/playlist-list",C={apiVersion:"2",attributes:{lock:{type:Object,default:{remove:!0,move:!1}}},category:"presto",supports:{align:!0},save:function(){return(0,_.Y)(o.InnerBlocks.Content,null)},parent:["presto-player/playlist-block"],title:(0,a.__)("Playlist List","presto-player"),description:(0,a.__)("Presto Playlist List Block - Holds the Playlist List Items.","presto-player"),edit:function(e){var t=e.clientId,r=e.isSelected,c=(0,y.useDispatch)(o.store),m=c.selectBlock,g=c.insertBlock,_=(0,y.useDispatch)(f.store).saveEntityRecord,Y=(0,o.useBlockProps)({slot:"list"}),C=(0,n.useState)(!1),P=(0,s.A)(C,2),S=P[0],O=P[1],E=(0,a.__)("Add Media","presto-player"),$=(0,y.useSelect)(function(e){return(e("core/block-editor").getBlocks(t)||[]).map(function(e){return parseInt(e.attributes.id)})},[t]),N=(0,o.useInnerBlocksProps)(Y,{renderAppender:function(){return(0,p.Y)(v.A,{onCreate:function(){return O(!0)},value:$,popoverProps:{placement:"bottom-center"},onSelect:function(e){return g((0,d.createBlock)("presto-player/playlist-list-item",{id:null==e?void 0:e.id,title:null==e?void 0:e.title}),999999,t)},css:(0,p.AH)(x||(x=(0,i.A)(["\n          width: 100%;\n          padding: 5px;\n          box-sizing: border-box !important;\n        "]))),renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return(0,p.Y)(w.Button,{className:"block-editor-button-block-appender",onClick:r,"aria-haspopup":!0,"aria-expanded":t,label:E,css:(0,p.AH)(A||(A=(0,i.A)(["\n              box-sizing: border-box !important;\n            "])))},(0,p.Y)(w.VisuallyHidden,{as:"span"},E),(0,p.Y)(h.A,{icon:b}))}})},allowedBlocks:["presto-player/reusable-display"],templateLock:!1}),T=function(){var e=(0,l.A)(u().mark(function e(r){var n,o,a;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("postType","pp_video_block",{title:r,status:"publish",content:'\x3c!-- wp:presto-player/reusable-edit --\x3e\n        <div class="wp-block-presto-player-reusable-edit"></div>\n        \x3c!-- /wp:presto-player/reusable-edit --\x3e'},{throwOnError:!0});case 2:n=e.sent,o=n.id,a=n.title.raw,g((0,d.createBlock)("presto-player/playlist-list-item",{id:o,title:a}),999999,t);case 6:case"end":return e.stop()}},e)}));return function(_x){return e.apply(this,arguments)}}(),j=(0,y.useSelect)(function(e){var r=e("core/block-editor").getBlockHierarchyRootClientId(t),n=e("core/block-editor").getBlockAttributes(r);return{listCount:e("core/block-editor").getBlocks(t).length,heading:null==n?void 0:n.heading,listTextPlural:null==n?void 0:n.listTextPlural,listTextSingular:null==n?void 0:n.listTextSingular,parentClientId:r}},[t]),R=j.listCount,I=j.heading,B=j.listTextSingular,L=j.listTextPlural,D=j.parentClientId;return(0,n.useEffect)(function(){r&&m(D)},[r]),(0,p.Y)(React.Fragment,null,(0,p.Y)("div",{slot:"title"},I),(0,p.Y)("div",{slot:"count"},R," ",R>1?L:B),(0,p.Y)("div",N),S&&(0,p.Y)(k,{onRequestClose:function(){return O(!1)},onCreate:T}))},icon:(0,_.Y)("svg",{width:"20",height:"14",className:"playlist-block-icon",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,_.Y)("path",{d:"M11 4H0V6H11V4ZM11 0H0V2H11V0ZM0 10H7V8H0V10ZM18.5 5.5L20 7L13 14L8.5 9.5L10 8L13 11L18.5 5.5Z",fill:"currentColor"}))}},6369:(e,t,r)=>{"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,{A:()=>n})},6427:e=>{"use strict";e.exports=window.wp.components},6459:e=>{"use strict";e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=void 0,o=void 0,a=void 0,l=[];return function(){var s=function(e){return"function"==typeof e?e():e}(t),c=(new Date).getTime(),u=!n||c-n>s;n=c;for(var p=arguments.length,d=Array(p),f=0;f<p;f++)d[f]=arguments[f];if(u&&r.leading)return r.accumulate?Promise.resolve(e.call(this,[d])).then(function(e){return e[0]}):Promise.resolve(e.call.apply(e,[this].concat(d)));if(o?clearTimeout(a):o=function(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}(),l.push(d),a=setTimeout(i.bind(this),s),r.accumulate){var y=l.length-1;return o.promise.then(function(e){return e[y]})}return o.promise};function i(){var t=o;clearTimeout(a),Promise.resolve(r.accumulate?e.call(this,l):e.apply(this,l[l.length-1])).then(t.resolve,t.reject),l=[],o=null}}},6562:(e,t,r)=>{"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,{A:()=>n})},6741:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5573),o=r(790);const a=(0,o.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(n.Path,{d:"M18.5 5.5h-13c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5h-13c-.3 0-.5-.2-.5-.5v-9c0-.3.2-.5.5-.5h13c.3 0 .5.2.5.5v9zM6.5 12H8v-2h2V8.5H6.5V12zm9.5 2h-2v1.5h3.5V12H16v2z"})})},6795:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},6804:(e,t,r)=>{"use strict";r.r(t),r(6087);var n=r(7723),o=r(4997),a=r(9491),l=r(2391),i=r(4715),s=r(6427),c=r(7143),u=r(2619),p=r(3647),d=r(7437);(0,o.registerBlockVariation)("core/image",{name:"presto-player/popup-image-trigger",title:(0,n.__)("Image","presto-player"),description:(0,n.__)("Opens the popup when image is clicked.","presto-player"),scope:[],attributes:{className:"presto-popup-image-trigger"},isActive:["className"]});var f=(0,a.createHigherOrderComponent)(function(e){return function(t){var r,a,u=(0,c.useDispatch)("presto-player/player").setProModal,f=(0,c.useSelect)("core/block-editor").getBlock,y=(0,c.useDispatch)("core/block-editor").replaceBlock;return"core/image"!==(null==t?void 0:t.name)?(0,d.Y)(e,t):null!=t&&null!==(r=t.attributes)&&void 0!==r&&null!==(a=r.className)&&void 0!==a&&a.includes("presto-popup-image-trigger")?(0,d.Y)(React.Fragment,null,(0,d.Y)(e,t),(0,d.Y)(i.BlockControls,null,(0,d.Y)(s.ToolbarGroup,null,(0,d.Y)(s.ToolbarButton,{icon:l.A,label:"Edit",onClick:function(){var e,r;return null!==(e=prestoPlayer)&&void 0!==e&&null!==(r=e.hasRequiredProVersion)&&void 0!==r&&r.popups?function(e){var t,r,n=f(e);if(n){var a=(0,o.createBlocksFromInnerBlocksTemplate)([(0,p.image)((null==n||null===(t=n.attributes)||void 0===t?void 0:t.url)||(null==n||null===(r=n.attributes)||void 0===r?void 0:r.src))]);null!=a&&a[0]?y(e,null==a?void 0:a[0]):console.warn("transformToCover: New blocks not found")}else console.warn("transformToCover: Block with clientId ".concat(e," not found"))}(null==t?void 0:t.clientId):u(!0)}},(0,n.__)("Edit Play Button","presto-player"))))):(0,d.Y)(e,t)}},"withProUpgrade");(0,u.addFilter)("editor.BlockEdit","presto-player/image-popup-trigger",f)},6822:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2284),o=r(9417);function a(e,t){if(t&&("object"===(0,n.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.A)(e)}},6874:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},6986:(e,t,r)=>{"use strict";function n(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,_x,a,l=[],_n=!0,i=!1;try{if(_x=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;_n=!1}else for(;!(_n=(n=_x.call(r)).done)&&(l.push(n.value),l.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{if(!_n&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(i)throw o}}return l}}r.d(t,{A:()=>n})},7006:(e,t,r)=>{var n={"./image-popup-trigger/index.js":6804,"./popup-cover-trigger/index.js":1778};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=7006},7038:(e,t,r)=>{"use strict";function n(e){var t,r=(e||"").match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=|shorts\/)([^#&?]*).*/);return r&&11===(null==r||null===(t=r[2])||void 0===t?void 0:t.length)?r[2]:null}function o(e){var t=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/.exec(e||"");return(null==t?void 0:t[5])||""}function a(e){var t=o(e);if(t)return{video_id:t,type:"vimeo"};var r=n(e);return r?{video_id:r,type:"youtube"}:{$video_id:0,$type:"none"}}function l(e){return"string"==typeof e&&e.includes(".m3u8")}r.d(t,{C9:()=>a,Zc:()=>i,b3:()=>n,oT:()=>o,oU:()=>l});var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.replace("#","");return 3===r.length&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]),t>1&&t<=100&&(t/=100),"rgba("+parseInt(r.substring(0,2),16)+","+parseInt(r.substring(2,4),16)+","+parseInt(r.substring(4,6),16)+","+t+")"}},7046:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(9189),o=r(8887),a="/*|*/",l=a+"}";function i(e){e&&s.current.insert(e+"}")}var s={current:null},c=function(e,t,r,n,o,c,u,p,d,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return s.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===p)return t+a;break;case 3:switch(p){case 102:case 112:return s.current.insert(r[0]+t),"";default:return t+(0===f?a:"")}case-2:t.split(l).forEach(i)}};const u=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var a,l=new o.A(t),i={};a=e.container||document.head;var u,p=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(p,function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach(function(e){i[e]=!0}),e.parentNode!==a&&a.appendChild(e)}),l.use(e.stylisPlugins)(c),u=function(e,t,r,n){var o=t.name;s.current=r,l(e,t.styles),n&&(d.inserted[o]=!0)};var d={key:r,sheet:new n.v({key:r,container:a,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:i,registered:{},insert:u};return d}},7103:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},7143:e=>{"use strict";e.exports=window.wp.data},7162:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},7272:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},7437:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(1609),o=(r(5815),r(9593)),a=(r(4146),r(460),r(1287),function(e,t){var r=arguments;if(null==t||!o.h.call(t,"css"))return n.createElement.apply(void 0,r);var a=r.length,l=new Array(a);l[0]=o.E,l[1]=(0,o.c)(e,t);for(var i=2;i<a;i++)l[i]=r[i];return n.createElement.apply(null,l)})},7528:(e,t,r)=>{"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{A:()=>n})},7589:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(5458),o=r(4467),a=r(3453),l=r(6087),i=r(7723),s=r(6427),c=r(9715),u=r(7437);const p=function(e){var t=e.update,r=e.add,n=e.remove,o=e.className,p=e.time,d=e.title,f=(0,l.useState)(p),y=(0,a.A)(f,2),v=y[0],h=y[1];return(0,u.Y)(s.Flex,{align:"center",className:o},(0,u.Y)(s.FlexItem,null,(0,u.Y)(s.TextControl,{className:"presto-player__caption--time",style:{width:"60px"},placeholder:"0:00",value:v,onChange:function(e){return h(e)},onBlur:function(){var e=(0,c.jy)(v);t({time:e}),h(e)},autoComplete:"off"})),(0,u.Y)(s.FlexBlock,null,(0,u.Y)(s.TextControl,{className:"presto-player__caption--title",placeholder:(0,i.__)("Title","presto-player"),value:d||"",onChange:function(e){return t({title:e})},autoComplete:"off"})),(0,u.Y)(s.FlexItem,null,n&&(0,u.Y)(s.Button,{icon:"minus",className:"ph-chapter__remove",style:{marginBottom:"8px"},label:(0,i.__)("Remove Chapter","presto-player"),onClick:n}),r&&(0,u.Y)(s.Button,{icon:"plus-alt",className:"ph-chapter__add",label:(0,i.__)("Add Chapter","presto-player"),style:{marginBottom:"8px"},onClick:function(){r(),h("")}})))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,o.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}wp.i18n.__;var y=wp.element.useState,v=wp.data.dispatch;const h=function(e){var t,r=e.setAttributes,o=e.attributes,l=function(){v("presto-player/player").setProModal(!0)};if(null===(t=prestoPlayer)||void 0===t||!t.isPremium)return(0,u.Y)(p,{disabled:!0,className:"ph-chapter is-new",time:"",title:"",update:function(){},showNotice:l,add:l});var i=o.chapters,s=y({title:"",time:""}),c=(0,a.A)(s,2),d=c[0],h=c[1];return(0,u.Y)(React.Fragment,null,(i||[]).sort(function(e,t){return parseInt(e.time.split(":")[0])-parseInt(t.time.split(":")[0])===0?parseInt(e.time.split(":")[1])-parseInt(t.time.split(":")[1]):parseInt(e.time.split(":")[0])-parseInt(t.time.split(":")[0])}).map(function(e,t){return(0,u.Y)(p,{key:"".concat(t,"-").concat(e.time),className:"ph-chapter",time:e.time,title:e.title,chapter:e,update:function(t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.indexOf(e),o=i.map(function(e,r){return r!==n?e:f(f({},e),t)});r({chapters:o})}(e,t)},remove:function(){!function(e){var t=i.indexOf(e);r({chapters:i.filter(function(e,r){return r!==t})})}(e)}})}),(0,u.Y)(p,{className:"ph-chapter is-new",time:d.time,title:d.title,update:function(e){h(f(f({},d),e))},add:function(){d.time&&d.title&&(r({chapters:[].concat((0,n.A)(i||[]),[{time:d.time,title:d.title}])}),h({title:"",time:""}))}}))}},7633:(e,t,r)=>{"use strict";r.d(t,{A:()=>we});var n=r(7528),o=r(4467),a=(r(6087),r(7723)),l=r(6427),i=r(7143),s=r(5458),c=r(467),u=r(3453),p=r(9280),d=r.n(p),f=r(7437);const y=function(){return(0,f.Y)("div",null,(0,f.Y)("presto-player-skeleton",{style:{width:"30%",marginBottom:"10px"}}),(0,f.Y)("presto-player-skeleton",{style:{height:"2rem",marginBottom:"20px"}}))};var __=wp.i18n.__,v=wp.components,h=v.SelectControl,m=v.TextControl,g=v.Notice,b=wp.element,w=b.useEffect,_=b.useState;const k=function(e){var t=e.options,r=e.updateEmailState,n=_(!1),o=(0,u.A)(n,2),a=o[0],l=o[1],i=_([{value:null,label:__("Choose an audience","presto-player")}]),p=(0,u.A)(i,2),v=p[0],b=p[1],k=_(""),x=(0,u.A)(k,2),A=x[0],Y=x[1],C=function(){var e=(0,c.A)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/mailchimp/lists"});case 4:t=e.sent,r=v,(t||[]).forEach(function(e){r=[].concat((0,s.A)(r),[{value:e.id,label:e.name}])}),b(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&Y(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}();return w(function(){C()},[]),a?(0,f.Y)("div",null,(0,f.Y)(y,null),(0,f.Y)(y,null)):A?(0,f.Y)(g,{className:"presto-notice",status:"error",isDismissible:!1},A):(0,f.Y)("div",null,(0,f.Y)(h,{label:__("Choose an audience","presto-player"),value:null==t?void 0:t.provider_list,options:v,onChange:function(e){return r({provider_list:e})}}),(0,f.Y)(m,{label:__("Tag","presto-player"),help:(0,f.Y)("p",null,__("Give this contact an optional tag when they are added to the list.","presto-player")),value:null==t?void 0:t.provider_tag,onChange:function(e){return r({provider_tag:e})}}))};var x=wp.i18n.__,A=wp.components,Y=A.SelectControl,C=A.Notice,P=wp.element,S=P.useEffect,O=P.useState;const E=function(e){var t=e.options,r=e.updateEmailState,n=O(!1),o=(0,u.A)(n,2),a=o[0],l=o[1],i=O([{value:null,label:x("Choose a group","presto-player")}]),p=(0,u.A)(i,2),v=p[0],h=p[1],m=O(""),g=(0,u.A)(m,2),b=g[0],w=g[1],_=function(){var e=(0,c.A)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/mailerlite/groups"});case 4:t=e.sent,r=v,(t||[]).forEach(function(e){r=[].concat((0,s.A)(r),[{value:e.id,label:e.name}])}),h(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&w(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}();return S(function(){_()},[]),a?(0,f.Y)(y,null):b?(0,f.Y)(C,{className:"presto-notice",status:"error",isDismissible:!1},b):(0,f.Y)("div",null,(0,f.Y)(Y,{label:x("Choose a group","presto-player"),value:null==t?void 0:t.provider_list,options:v,onChange:function(e){return r({provider_list:e})}}))};var $=wp.i18n.__,N=wp.components,T=N.SelectControl,j=N.Notice,R=wp.element,I=R.useEffect,B=R.useState;const L=function(e){var t=e.options,r=e.updateEmailState,n=B(!1),o=(0,u.A)(n,2),a=o[0],l=o[1],i=B(!1),p=(0,u.A)(i,2),v=p[0],h=p[1],m=B([{value:null,label:$("Choose a list","presto-player")}]),g=(0,u.A)(m,2),b=g[0],w=g[1],_=B([{value:null,label:$("Choose a tag","presto-player")}]),k=(0,u.A)(_,2),x=k[0],A=k[1],Y=B(""),C=(0,u.A)(Y,2),P=C[0],S=C[1],O=function(){var e=(0,c.A)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/activecampaign/lists"});case 4:t=e.sent,r=b,(t||[]).forEach(function(e){r=[].concat((0,s.A)(r),[{value:e.id,label:e.name||$("Default list","presto-player")}])}),w(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,c.A)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/activecampaign/tags"});case 4:t=e.sent,r=x,(t||[]).forEach(function(e){r=[].concat((0,s.A)(r),[{value:e.id,label:e.tag}])}),A(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}();return I(function(){O(),E()},[]),P?(0,f.Y)(j,{className:"presto-notice",status:"error",isDismissible:!1},P):(0,f.Y)("div",null,a?(0,f.Y)(y,null):b.length>1&&(0,f.Y)(T,{label:$("Choose a list","presto-player"),value:null==t?void 0:t.provider_list,options:b,onChange:function(e){return r({provider_list:e})}}),v?(0,f.Y)(y,null):x.length>1&&(0,f.Y)(T,{label:$("Choose a tag","presto-player"),value:null==t?void 0:t.provider_tag,options:x,onChange:function(e){return r({provider_tag:e})}}))};var D=wp.i18n.__,M=wp.components,F=M.SelectControl,H=M.Notice,V=wp.element,U=V.useEffect,z=V.useState;const G=function(e){var t=e.options,r=e.updateEmailState,n=z(!1),o=(0,u.A)(n,2),a=o[0],l=o[1],i=z(!1),p=(0,u.A)(i,2),v=p[0],h=p[1],m=z([{value:null,label:D("Choose a list","presto-player")}]),g=(0,u.A)(m,2),b=g[0],w=g[1],_=z([{value:null,label:D("Choose a tag","presto-player")}]),k=(0,u.A)(_,2),x=k[0],A=k[1],Y=z(""),C=(0,u.A)(Y,2),P=C[0],S=C[1],O=function(){var e=(0,c.A)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/fluentcrm/lists"});case 4:t=e.sent,r=b,(t||[]).forEach(function(e){r=[].concat((0,s.A)(r),[{value:e.id,label:e.title||e.slug}])}),w(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,c.A)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/fluentcrm/tags"});case 4:t=e.sent,r=x,(t||[]).forEach(function(e){r=[].concat((0,s.A)(r),[{value:e.id,label:e.title||e.slug}])}),A(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&S(e.t0.message);case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}();return U(function(){O(),E()},[]),P?(0,f.Y)(H,{className:"presto-notice",status:"error",isDismissible:!1},P):(0,f.Y)("div",null,a?(0,f.Y)(y,null):b.length>1&&(0,f.Y)(F,{label:D("Choose a list","presto-player"),value:null==t?void 0:t.provider_list,options:b,onChange:function(e){return r({provider_list:e})}}),v?(0,f.Y)(y,null):x.length>1&&(0,f.Y)(F,{label:D("Choose a tag","presto-player"),value:null==t?void 0:t.provider_tag,options:x,onChange:function(e){return r({provider_tag:e})}}))};var W=wp.i18n.__,Z=wp.components,q=Z.SelectControl,X=Z.Notice,K=wp.element,Q=K.useEffect,J=K.useState;const ee=function(e){var t=e.options,r=e.updateEmailState,n=J(!1),o=(0,u.A)(n,2),a=o[0],l=o[1],i=J([{value:null,label:W("Choose a webhook","presto-player")}]),p=(0,u.A)(i,2),v=p[0],h=p[1],m=J(""),g=(0,u.A)(m,2),b=g[0],w=g[1],_=function(){var e=(0,c.A)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,wp.apiFetch({path:"presto-player/v1/webhook"});case 4:t=e.sent,r=v,(t||[]).forEach(function(e){r=[].concat((0,s.A)(r),[{value:e.id,label:e.name}])}),h(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&e.t0.message&&w(e.t0.message);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}();return Q(function(){_()},[]),a?(0,f.Y)(y,null):b?(0,f.Y)(X,{className:"presto-notice",status:"error",isDismissible:!1},b):(0,f.Y)("div",null,(0,f.Y)(q,{label:W("Choose a webhook","presto-player"),value:null==t?void 0:t.provider_list,options:v,onChange:function(e){return r({provider_list:e})}}))};var te=wp.i18n.__,re=wp.components,ne=re.SelectControl,oe=re.Button,ae=re.Flex,le=re.Icon,ie=wp.element,se=ie.useEffect,ce=ie.useState;const ue=function(e){var t=e.options,r=e.updateEmailState,n=ce(!1),o=(0,u.A)(n,2),a=o[0],l=o[1],i=ce([{value:"none",label:te("None","presto-player")}]),p=(0,u.A)(i,2),v=p[0],h=p[1],m=ce(""),g=(0,u.A)(m,2),b=g[0],w=g[1],_={presto_player_activecampaign:{label:"ActiveCampaign",value:"activecampaign"},presto_player_mailchimp:{label:"MailChimp",value:"mailchimp"},presto_player_mailerlite:{label:"MailerLite",value:"mailerlite"},presto_player_fluentcrm:{label:"FluentCRM",value:"fluentcrm"}},x=function(){var e=(0,c.A)(d().mark(function e(){var t,r;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),w(""),e.prev=2,e.next=5,wp.apiFetch({path:"wp/v2/settings"});case 5:t=e.sent,r=v,Object.keys(t).forEach(function(e){var n;null!=_&&_[e]&&null!==(n=t[e])&&void 0!==n&&n.connected&&(r=[].concat((0,s.A)(r),[_[e]]))}),h([].concat((0,s.A)(r),[{label:te("Webhooks","presto-player"),value:"webhooks"}])),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),null!==e.t0&&void 0!==e.t0&&e.t0.message&&w(e.t0.message);case 14:return e.prev=14,l(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}));return function(){return e.apply(this,arguments)}}();return se(function(){x()},[]),a?(0,f.Y)(y,null):(0,f.Y)("div",null,b,v.length>1?(0,f.Y)("div",null,(0,f.Y)(ne,{label:te("Choose an email provider","presto-player"),value:null==t?void 0:t.provider,options:v,onChange:function(e){return r({provider:e})}}),function(){var e=v.find(function(e){return e.value===(null==t?void 0:t.provider)});if(Object.keys(e||{}).length)switch(null==t?void 0:t.provider){case"webhooks":return(0,f.Y)(ee,{options:t,updateEmailState:r});case"mailchimp":return(0,f.Y)(k,{options:t,updateEmailState:r});case"mailerlite":return(0,f.Y)(E,{options:t,updateEmailState:r});case"activecampaign":return(0,f.Y)(L,{options:t,updateEmailState:r});case"fluentcrm":return(0,f.Y)(G,{options:t,updateEmailState:r})}}()):(0,f.Y)(ae,null,(0,f.Y)(oe,{target:"_blank",href:"/wp-admin/edit.php?post_type=pp_video_block&page=presto-player-settings#/integrations",isSecondary:!0,isSmall:!0},te("Connect a provider","presto-player")),(0,f.Y)(oe,{isSmall:!0,onClick:function(e){e.preventDefault(),x()}},(0,f.Y)(le,{icon:"update"}))))};var pe,de,fe,ye,ve,he=r(6055),me=r(9067);function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach(function(t){(0,o.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function we(e){var t=e.state,r=e.updateState,o=e.className,s=t.email_collection,c=t.cta,u=(0,i.useSelect)(function(e){return e("presto-player/player").branding()}),p=function(e){r(be(be({},t),{},{email_collection:be(be({},s),e)}))};return(0,me.Y)("div",{className:o},(0,me.Y)(l.BaseControl,null,(0,me.Y)("h3",null,(0,a.__)("Email Capture","presto-player"))),(0,me.Y)(l.BaseControl,{className:"presto-player__control--large-play"},(0,me.Y)(l.ToggleControl,{label:(0,a.__)("Enable","presto-player"),help:(0,a.__)("Show an email collection form and message over your player.","presto-player"),onChange:function(e){p({enabled:e})},checked:null==s?void 0:s.enabled})),!(null==s||!s.enabled)&&(0,me.Y)(React.Fragment,null,(0,me.Y)(l.BaseControl,{className:"presto-player__control--percentage-watched",css:(0,me.AH)(pe||(pe=(0,n.A)(["\n              padding-left: 8px;\n              margin-bottom: 34px !important;\n              .components-range-control__root {\n                align-items: flex-start;\n              }\n            "])))},(0,me.Y)(l.RangeControl,{label:(0,a.__)("Display At (Percentage)","presto-player"),labelPosition:"top",onChange:function(e){p({percentage:e})},marks:[{value:0,label:(0,a.__)("Start","presto-player")},{value:50,label:(0,a.__)("50% Watched","presto-player")},{value:100,label:(0,a.__)("End","presto-player")}],shiftStep:5,value:(null==s?void 0:s.percentage)||0,css:(0,me.AH)(de||(de=(0,n.A)(["\n                .components-range-control__slider {\n                  position: relative !important;\n                }\n              "])))})),(null==c?void 0:c.enabled)&&(null==s?void 0:s.percentage)===(null==c?void 0:c.percentage)&&(0,me.Y)(l.Notice,{css:(0,me.AH)(fe||(fe=(0,n.A)(["\n                margin: 0 0 30px 0 !important;\n              "]))),status:"warning",isDismissible:!1},(0,a.__)("You already have a Call To Action set display at the same time.","presto-player"),(0,me.Y)(l.Button,{onClick:function(){r(be(be({},t),{},{cta:be(be({},c),{enabled:!1})}))},isLink:!0,css:(0,me.AH)(ye||(ye=(0,n.A)(["\n                  margin-top: 10px !important;\n                "])))},(0,a.__)("Disable Call To Action","presto-player"))),(0,me.Y)(l.BaseControl,{className:"presto-player__control--large-play"},(0,me.Y)(l.ToggleControl,{label:(0,a.__)("Allow Skipping","presto-player"),help:(0,a.__)("Let the viewer skip","presto-player"),onChange:function(e){p({allow_skip:e})},checked:null==s?void 0:s.allow_skip})),(0,me.Y)(l.BaseControl,{className:"presto-player__control--large-play"},(0,me.Y)(l.TextareaControl,{label:(0,a.__)("Headline","presto-player"),help:(0,a.__)("The headline for your form.","presto-player"),value:null==s?void 0:s.headline,onChange:function(e){p({headline:e})}})),(0,me.Y)(l.BaseControl,{className:"presto-player__control--large-play"},(0,me.Y)(l.TextareaControl,{label:(0,a.__)("Bottom Text","presto-player"),help:(0,a.__)("Text displayed below the form. HTML allowed.","presto-player"),value:null==s?void 0:s.bottom_text,onChange:function(e){p({bottom_text:e})}})),(0,me.Y)(l.BaseControl,{className:"presto-player__control--large-play"},(0,me.Y)(l.TextControl,{label:(0,a.__)("Play Button Text","presto-player"),help:(0,me.Y)("p",null,(0,a.__)("Submit button text","presto-player")),value:null==s?void 0:s.button_text,onChange:function(e){return p({button_text:e})}})),(0,me.Y)(l.BaseControl,{className:"presto-player__control--button-color"},(0,me.Y)(l.Flex,null,(0,me.Y)(l.BaseControl.VisualLabel,null,(0,a.__)("Button Color","presto-player")),(0,me.Y)(he.A,{color:(null==c?void 0:c.button_color)||(null==u?void 0:u.color),setColor:function(e){return p({button_color:e&&e.hex})}}))),(0,me.Y)(l.BaseControl,{className:"presto-player__control--button-text-color"},(0,me.Y)(l.Flex,null,(0,me.Y)(l.BaseControl.VisualLabel,null,(0,a.__)("Button Text Color","presto-player")),(0,me.Y)(he.A,{color:(null==c?void 0:c.button_text_color)||"#ffffff",setColor:function(e){return p({button_text_color:e&&e.hex})}}))),(0,me.Y)("h3",null,(0,a.__)("Integrate","presto-player")),(0,me.Y)(l.BaseControl,null,(0,me.Y)(ue,{updateEmailState:p,options:s})),(0,me.Y)("h3",null,(0,a.__)("Style","presto-player")),(0,me.Y)(l.BaseControl,null,(0,me.Y)(l.RangeControl,{label:(0,a.__)("Round Corners","presto-player"),help:(0,a.__)("Border radius of form elements.","presto-player"),value:(null==s?void 0:s.border_radius)||0,onChange:function(e){return p({border_radius:e})},min:0,max:25,css:(0,me.AH)(ve||(ve=(0,n.A)(["\n                padding-left: 4px;\n                .components-range-control__root {\n                  align-items: flex-start;\n                }\n              "])))}))))}},7677:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(6087);const o=(0,n.forwardRef)(function({icon:e,size:t=24,...r},o){return(0,n.cloneElement)(e,{width:t,height:t,...r,ref:o})})},7723:e=>{"use strict";e.exports=window.wp.i18n},7753:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(6087),o=r(6427),a=r(8351),l=r(7723),i=r(9078),s=r(7437);const c=function(){var e=(0,n.useContext)(i.A),t=e.isEditing,r=e.setIsEditing;return t&&(0,s.Y)(o.Toolbar,null,(0,s.Y)(o.Button,{icon:a.A,onClick:function(){return r(!1)}},(0,l.__)("Done Editing","presto-player")))}},7800:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(3145);function o(e,t){if(e){if("string"==typeof e)return(0,n.A)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.A)(e,t):void 0}}},7838:(e,t,r)=>{"use strict";r.r(t),r.d(t,{metadata:()=>v,name:()=>h,options:()=>m});var n=r(7723),o=r(9019),a=r(8168),l=(r(6087),r(4715)),i=r(7143),s=r(6427),c=r(2422),u=r(628),p=r(1423),d=r(7437),f={name:"1i4a9dt",styles:"position:absolute;top:0px;right:0px;z-index:10;display:none;border-radius:1px"},y={name:"bjn8wh",styles:"position:relative"};const v=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","name":"presto-player/popup-trigger","apiVersion":2,"title":"Popup Trigger","category":"presto","keywords":["popup","trigger"],"description":"The trigger that opens the popup.","textdomain":"presto-player","parent":["presto-player/popup"],"supports":{"interactivity":true},"style":"file:./style.css","editorStyle":"file:./editor.css"}');var h=v.name,m={usesContext:["presto-player/popup-trigger-type"],icon:o.A,edit:function(e){var t,r,v=e.clientId,h=(0,i.useSelect)(function(e){return{innerBlocks:e("core/block-editor").getBlock(v).innerBlocks}},[v]).innerBlocks,m=(0,p.q)(v).replaceTemplate,g=(0,i.useDispatch)("presto-player/player").setProModal,b=h&&h.length>0,w=(0,l.useBlockProps)({css:y}),_=(0,l.useInnerBlocksProps)(w,{allowedBlocks:!(null===(t=prestoPlayer)||void 0===t||null===(r=t.hasRequiredProVersion)||void 0===r||!r.popups)||["core/image","core/buttons","core/button","core/paragraph"]});return b?(0,d.Y)("div",{style:{position:"relative"}},(0,d.Y)(c.A,{label:(0,n.__)("Trigger","presto-player"),className:"presto-popup-tag",css:f}),(0,d.Y)("div",_)):(0,d.Y)(s.Placeholder,(0,a.A)({icon:o.A,label:(0,n.__)("Popup Trigger","presto-player"),instructions:(0,n.__)("Select a trigger type for your video popup.","presto-player")},w),(0,d.Y)(u.A,{onTriggerTypeSelect:function(e){var t,r;"custom"!==e||null!==(t=prestoPlayer)&&void 0!==t&&null!==(r=t.hasRequiredProVersion)&&void 0!==r&&r.popups?m({type:e}):g(!0)}}))},save:function(){var e=l.useBlockProps.save(),t=l.useInnerBlocksProps.save(e);return(0,d.Y)("div",t)}}},7869:(e,t,r)=>{"use strict";r.d(t,{A:()=>P});var n=r(8168),o=r(1609),a=r(6289),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const i=(0,a.A)(function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});var s=r(9593),c=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)};const u=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},p={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var d=/[A-Z]|^ms/g,f=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y=function(e){return 45===e.charCodeAt(1)},v=function(e){return null!=e&&"boolean"!=typeof e},h=(0,a.A)(function(e){return y(e)?e:e.replace(d,"-$&").toLowerCase()}),m=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(f,function(e,t,r){return b={name:t,styles:r,next:b},t})}return 1===p[e]||y(e)||"number"!=typeof t||0===t?t:t+"px"};function g(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return b={name:r.name,styles:r.styles,next:b},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)b={name:n.name,styles:n.styles,next:b},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=g(e,t,r[o])+";";else for(var a in r){var l=r[a];if("object"!=typeof l)null!=t&&void 0!==t[l]?n+=a+"{"+t[l]+"}":v(l)&&(n+=h(a)+":"+m(a,l)+";");else if(!Array.isArray(l)||"string"!=typeof l[0]||null!=t&&void 0!==t[l[0]]){var i=g(e,t,l);switch(a){case"animation":case"animationName":n+=h(a)+":"+i+";";break;default:n+=a+"{"+i+"}"}}else for(var s=0;s<l.length;s++)v(l[s])&&(n+=h(a)+":"+m(a,l[s])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=b,a=r(e);return b=o,g(e,t,a)}}if(null==t)return r;var l=t[r];return void 0!==l?l:r}var b,w=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_=r(1287),k=i,x=function(e){return"theme"!==e},A=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?k:x},Y=function(e,t,r){var n;if(t){var o=t.shouldForwardProp;n=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},C=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return c(t,r,n),(0,_.s)(function(){return function(e,t,r){c(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+n:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}(t,r,n)}),null};const P=function e(t,r){var a,l,i=t.__emotion_real===t,c=i&&t.__emotion_base||t;void 0!==r&&(a=r.label,l=r.target);var p=Y(t,r,i),d=p||A(c),f=!d("as");return function(){var y=arguments,v=i&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==a&&v.push("label:"+a+";"),null==y[0]||void 0===y[0].raw)v.push.apply(v,y);else{v.push(y[0][0]);for(var h=y.length,m=1;m<h;m++)v.push(y[m],y[0][m])}var _=(0,s.w)(function(e,t,r){var n,a,i,y,h=f&&e.as||c,m="",_=[],k=e;if(null==e.theme){for(var x in k={},e)k[x]=e[x];k.theme=(0,o.useContext)(s.T)}"string"==typeof e.className?(n=t.registered,a=_,i=e.className,y="",i.split(" ").forEach(function(e){void 0!==n[e]?a.push(n[e]+";"):y+=e+" "}),m=y):null!=e.className&&(m=e.className+" ");var Y=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";b=void 0;var a=e[0];null==a||void 0===a.raw?(n=!1,o+=g(r,t,a)):o+=a[0];for(var l=1;l<e.length;l++)o+=g(r,t,e[l]),n&&(o+=a[l]);w.lastIndex=0;for(var i,s="";null!==(i=w.exec(o));)s+="-"+i[1];return{name:u(o)+s,styles:o,next:b}}(v.concat(_),t.registered,k);m+=t.key+"-"+Y.name,void 0!==l&&(m+=" "+l);var P=f&&void 0===p?A(h):d,S={};for(var O in e)f&&"as"===O||P(O)&&(S[O]=e[O]);return S.className=m,S.ref=r,(0,o.createElement)(o.Fragment,null,(0,o.createElement)(C,{cache:t,serialized:Y,isStringTag:"string"==typeof h}),(0,o.createElement)(h,S))});return _.displayName=void 0!==a?a:"Styled("+("string"==typeof c?c:c.displayName||c.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=c,_.__emotion_styles=v,_.__emotion_forwardProp=p,Object.defineProperty(_,"toString",{value:function(){return"."+l}}),_.withComponent=function(t,o){return e(t,(0,n.A)({},r,o,{shouldForwardProp:Y(_,o,!0)})).apply(void 0,v)},_}}},7870:(e,t,r)=>{"use strict";r.d(t,{u:()=>n.u});var n=r(34);!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}()},7966:(e,t,r)=>{"use strict";r.r(t),r.d(t,{name:()=>st,options:()=>ct});var n=r(5458),o=r(6087),a=r(7723),l=r(4467),i=r(3453),s=r(2485),c=r.n(s),u=r(1808),p=r(6427),d=r(7143),f=r(4715),y=r(7437),v=window.location.href,h=function(e){var t=e.src,r=e.onChange,n=e.onSubmit,o=e.onClose;return(0,y.Y)(f.URLPopover,{onClose:o},(0,y.Y)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:n},(0,y.Y)("input",{"data-cy":"url-input",className:"block-editor-media-placeholder__url-input-field",type:"url","aria-label":(0,a.__)("URL","presto-player"),placeholder:(0,a.__)("Paste an mp3 URL","presto-player"),onChange:r,value:t}),(0,y.Y)(p.Button,{"data-cy":"url-submit",className:"block-editor-media-placeholder__url-input-submit-button",icon:"editor-break",label:(0,a.__)("Apply","presto-player"),type:"submit"})))};const m=(0,p.withFilters)("editor.MediaPlaceholder")(function(e){var t=e.value,r=void 0===t?{}:t,n=e.allowedTypes,l=void 0===n?[]:n,s=e.className,m=e.icon,g=e.url,b=void 0===g||g,w=e.labels,_=void 0===w?{}:w,k=e.mediaPreview,x=e.notices,A=e.isAppender,Y=e.isPrivate,C=e.addToGallery,P=e.onSelect,S=e.onCancel,O=e.onSelectURL,E=e.onDoubleClick,$=e.children,N=e.allowURLs,T=(0,d.useSelect)(function(e){return(0,e("core/block-editor").getSettings)().mediaUpload},[]),j=(0,o.useState)(""),R=(0,i.A)(j,2),I=R[0],B=R[1],L=(0,o.useState)(!1),D=(0,i.A)(L,2),M=D[0],F=D[1];(0,o.useEffect)(function(){var e;B(null!==(e=null==r?void 0:r.src)&&void 0!==e?e:"")},[r]);var H=function(e){B(e.target.value)},V=function(){F(!0)},U=function(){F(!1)},z=function(e){e.preventDefault(),I&&O&&(O(I),U())},G=function(e,t){var r=_.instructions,n=_.title;T||O||(r=(0,a.__)("To edit this block, you need permission to upload media.","presto-player"));var o=c()("block-editor-media-placeholder",s,{"is-appender":A});return(0,y.Y)(p.Placeholder,{icon:m,label:n,instructions:r,className:o,notices:x,onClick:t,onDoubleClick:E,preview:k},$,e)},W=function(){return O&&(0,y.Y)("div",{className:"block-editor-media-placeholder__url-input-container"},b&&!1===Y&&(0,y.Y)(p.Button,{className:"block-editor-media-placeholder__button",onClick:V,isPressed:M,isTertiary:!0},(0,a.__)("Audio URL","presto-player")),M&&(0,y.Y)(h,{src:I,onChange:H,onSubmit:z,onClose:U}))};return(0,y.Y)(f.MediaUploadCheck,{fallback:G(W())},function(){var e=(0,y.Y)(f.MediaUpload,{title:Y?(0,a.__)("Select or Upload Private Audio","presto-player"):(0,a.__)("Select or Upload Audio","presto-player"),addToGallery:C,gallery:!1,multiple:!1,onSelect:function(e){u.A.unsetUrlParams(),P(e)},onClose:function(){u.A.unsetUrlParams()},allowedTypes:l,value:Array.isArray(r)?r.map(function(e){return e.id}):r.id,render:function(e){var t=e.open;return(0,y.Y)(p.Button,{isPrimary:!0,onClick:function(e){e.stopPropagation(),u.A.unsetUrlParams(),Y?u.A.setUrlPrivate(v):u.A.setUrlPublic(v),t()}},Y?(0,a.__)("Add/Select Private Audio","presto-player"):(0,a.__)("Add/Select Audio","presto-player"))}});if(T){var t=(0,y.Y)(React.Fragment,null,e,!!N&&W(),S&&(0,y.Y)(p.Button,{className:"block-editor-media-placeholder__cancel-button",title:(0,a.__)("Cancel","presto-player"),isLink:!0,onClick:S},(0,a.__)("Cancel","presto-player")));return G(t)}return G(e)}())});var g=r(5862),__=wp.i18n.__,b=wp.components,w=(b.withNotices,b.BaseControl),k=b.ToggleControl,x=b.Notice,A=["audio"];const Y=function(e){var t,r,n=e.attributes,o=e.setAttributes,a=e.onSelectURL,i=e.onSelect,s=e.children,c="private"===n.visibility;return(0,y.Y)(m,(r={icon:c?(0,y.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,y.Y)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.Y)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})):(0,y.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"presto-block-icon"},(0,y.Y)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})),labels:{title:__("Presto Audio","presto-player"),instructions:__("Upload a audio file, or pick one from your media library.","presto-player")},accept:"audio/*",setAttributes:o,allowedTypes:A,switcher:!0,isPrivate:c,allowURLs:!c,onSelectURL:a,onSelect:i,value:n},(0,l.A)(r,"allowURLs",!0),(0,l.A)(r,"onError",function(){return console.log("error")}),r),(0,y.Y)("div",{style:{width:"100%"}},(0,y.Y)(w,{className:"presto-player__placeholder-control"},(0,y.Y)(k,{label:(0,y.Y)("div",null,__("Make Private","presto-player")," ",!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,y.Y)(g.A,null)),help:__(c?"This audio is only accessible to those who are logged in.":"This audio is currently accessible to everyone.","presto-player"),checked:c,onChange:function(e){var t;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?o({visibility:e?"private":"public"}):(0,d.dispatch)("presto-player/player").setProModal(!0)}})),!!s&&(0,y.Y)("div",{style:{width:"100%"}},s),!!c&&(0,y.Y)(x,{status:"warning",isDismissible:!1},(0,y.Y)("div",null,(0,y.Y)("div",null,(0,y.Y)("strong",null,__("Note","presto-player"))),__("Private audio uses php to stream your audio. Keep in mind this will use up disk space and bandwidth so it may not be an appropriate choice for some hosts.","presto-player")))))};var C=r(997),P=r(9491),S=r(3582),O=r(7589),E=r(7869),$=r(7528),N=r(467),T=r(9280),j=r.n(T),R=r(9715),I=r(8772),B=r(9067),L=r(5532),D=r(8580);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){(0,l.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const H=function(e){var t,r=e.state,n=e.branding,l=e.menu,s=e.src,c=e.poster,u=e.currentTime,d=e.preload,f=e.mediaTitle,v=e.overlays,h=e.isDisabled,m=void 0===h||h,g=(0,o.useState)(1),b=(0,i.A)(g,2),w=b[0],_=b[1],k=r.email_collection,x=r.cta;(0,o.useEffect)(function(){_(w+1)},[r.skin,r["play-large"],r.rewind,r.play,r["fast-forward"],r.progress,r["current-time"],r.mute,r.volume,r.speed,r.pip,r.fullscreen,r.captions,r.hide_logo]);var A={email:!(null==k||!k.enabled)&&(0,y.Y)(L.OG,{className:"email-overlay",slot:"player-end",headline:null==k?void 0:k.headline,style:F(F({"--presto-player-email-border-radiuss":"".concat(null==k?void 0:k.button_radius,"px"),"--plyr-color-main":(null==r?void 0:r.background_color)||(null==n?void 0:n.color)},k.button_color?{"--presto-player-button-color":"".concat(k.button_color)}:{}),k.button_text_color?{"--presto-player-button-text":"".concat(k.button_text_color)}:{}),defaultHeadline:(0,a.__)("Enter your email to play.","presto-player"),bottomText:null==k?void 0:k.bottom_text,allowSkip:null==k?void 0:k.allow_skip,skipText:(0,a.__)("Skip","presto-player"),buttonText:null==k?void 0:k.button_text,placeholder:(0,a.__)("Email address","presto-player"),i18n:window.prestoPlayer.i18n,type:"audio"}),cta:!(null==x||!x.enabled)&&(0,y.Y)(L.QS,{className:"cta-overlay",style:F(F(F({"--presto-player-button-border-radius":"".concat(x.button_radius,"px")},null!=x&&x.background_opacity?{"--presto-player-cta-background-opacity":"".concat((null==x?void 0:x.background_opacity)/100)}:{}),x.button_color?{"--presto-player-button-color":"".concat(x.button_color)}:{}),x.button_text_color?{"--presto-player-button-text":"".concat(x.button_text_color)}:{}),slot:"player-end",headline:null==x?void 0:x.headline,"bottom-text":null==x?void 0:x.bottom_text,"button-link":null==x?void 0:x.button_link,"allow-skip":100!==(null==x?void 0:x.percentage)&&(null==x?void 0:x.show_skip),borderRadius:null==x?void 0:x.border_radius,"allow-rewatch":100===(null==x?void 0:x.percentage)&&(null==x?void 0:x.show_rewatch),"skip-text":(0,a.__)("Skip","presto-player"),"show-button":null==x?void 0:x.show_button,"button-text":null==x?void 0:x.button_text,i18n:window.prestoPlayer.i18n,type:"audio"})};return(0,y.Y)(p.Disabled,{isDisabled:m,className:"disable-player"},(0,y.Y)("div",{className:"presto-player__wrapper"},(0,y.Y)(D.A,{src:s||"http://something.mp3",classes:"\n            ".concat("cta"===l&&!(null==x||!x.enabled)&&"cta-active"," \n            ").concat("email"===l&&!(null==k||!k.enabled)&&"email-active"),preset:r,branding:n,i18n:null===(t=prestoPlayerAdmin)||void 0===t?void 0:t.i18n,preload:d,attributes:{chapters:[],poster:c,title:f},type:"audio",currentTime:u?(0,R.wG)(u):"",overlays:v,key:w,adminPreview:(null==A?void 0:A[l])||""})))};var V=wp.i18n.__,U=wp.components,z=U.ToggleControl,G=U.BaseControl,W=(U.HorizontalRule,U.__experimentalAlignmentMatrixControl,U.SelectControl);function Z(e){var t=e.state,r=e.updateState,n=e.className;return(0,y.Y)("div",{className:n},(0,y.Y)(G,null,(0,y.Y)("h3",null,V("Behavior","presto-player"))),(0,y.Y)(G,null,(0,y.Y)(z,{label:V("Save Play Position","presto-player"),help:V("Saves the user's play position so when they come back to the page they can continue the audio from where they left off.","presto-player"),onChange:function(e){r({save_player_position:e})},checked:t.save_player_position})),(0,y.Y)(G,null,(0,y.Y)(z,{label:V("Show Time Elapsed","presto-player"),help:V("Show the time elapsed or the time remaining for the audio on the player. By default, the time remaining is shown.","presto-player"),onChange:function(e){r({show_time_elapsed:e})},checked:t.show_time_elapsed})),(0,y.Y)(G,null,(0,y.Y)(z,{label:V("Focus Mode","presto-player"),help:V("Play only when tab is visible and audio is in viewport.","presto-player"),onChange:function(e){r({play_video_viewport:e})},checked:t.play_video_viewport})),(0,y.Y)(G,null,(0,y.Y)(z,{label:V("Sticky On Scroll","presto-player"),help:V("Stick audios to the side of the screen when the page is scrolled and the audio is playing.","presto-player"),onChange:function(e){r({sticky_scroll:e})},checked:t.sticky_scroll})),(0,y.Y)(G,null,(0,y.Y)(W,{label:V("On Audio End","presto-player"),value:t.on_video_end,options:[{value:"select",label:V("Select","presto-player")},{value:"loop",label:V("Loop","presto-player")},{value:"go-to-start",label:V("Go to start","presto-player")}],onChange:function(e){r({on_video_end:e})}})))}var q=wp.i18n.__,X=wp.components,K=X.ToggleControl,Q=X.BaseControl;function J(e){var t=e.state,r=e.updateState,n=e.className;return(0,y.Y)("div",{className:n},(0,y.Y)(Q,null,(0,y.Y)("h3",null,q("Controls","presto-player"))),(0,y.Y)(Q,{className:"presto-player__control--large-play"},(0,y.Y)(K,{label:q("Large Play Button","presto-player"),help:q("Adds a large play button over the top of the player.","presto-player"),onChange:function(e){r({"play-large":e})},checked:t["play-large"]})),(0,y.Y)(Q,{className:"presto-player__control--rewind"},(0,y.Y)(K,{label:q("Rewind","presto-player"),help:q("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({rewind:e})},checked:t.rewind})),(0,y.Y)(Q,{className:"presto-player__control--play"},(0,y.Y)(K,{label:q("Small Play Button","presto-player"),help:q("Adds a small play button to the bottom of the player.","presto-player"),onChange:function(e){r({play:e})},checked:t.play})),(0,y.Y)(Q,{className:"presto-player__control--fast-forward"},(0,y.Y)(K,{label:q("Fast Forward","presto-player"),help:q("Adds a 10 second rewind button to the player.","presto-player"),onChange:function(e){r({"fast-forward":e})},checked:t["fast-forward"]})),(0,y.Y)(Q,{className:"presto-player__control--progress"},(0,y.Y)(K,{label:q("Progress Bar","presto-player"),help:q("Shows a seekable progress bar.","presto-player"),onChange:function(e){r({progress:e})},checked:t.progress})),(0,y.Y)(Q,{className:"presto-player__control--current-time"},(0,y.Y)(K,{label:q("Current Time","presto-player"),help:q("Shows the audio timestamp.","presto-player"),onChange:function(e){r({"current-time":e})},checked:t["current-time"]})),(0,y.Y)(Q,{className:"presto-player__control--volume"},(0,y.Y)(K,{label:q("Volume","presto-player"),help:q("Shows a volume bar.","presto-player"),onChange:function(e){r({volume:e,mute:e})},checked:t.volume})),(0,y.Y)(Q,{className:"presto-player__control--speed"},(0,y.Y)(K,{label:q("Speed","presto-player"),help:q("Shows playback speed controls.","presto-player"),onChange:function(e){r({speed:e})},checked:t.speed})))}var ee,te=r(6055);function re(e){var t=e.state,r=e.updateState,n=e.className;return(0,y.Y)("div",{className:n},(0,y.Y)(p.BaseControl,null,(0,y.Y)("h3",null,(0,a.__)("Style","presto-player"))),(0,y.Y)(p.BaseControl,null,(0,y.Y)(p.RangeControl,{label:(0,a.__)("Round Corners","presto-player"),help:(0,a.__)("Player border radius size.","presto-player"),value:(null==t?void 0:t.border_radius)||0,onChange:function(e){return r({border_radius:e})},min:0,max:25,css:(0,B.AH)(ee||(ee=(0,$.A)(["\n            padding-left: 4px;\n            .components-range-control__root {\n              align-items: flex-start;\n            }\n          "])))})),(0,y.Y)(p.BaseControl,null,(0,y.Y)(p.Flex,null,(0,y.Y)(p.BaseControl.VisualLabel,null,(0,y.Y)("p",null,(0,a.__)("Background Color","presto-player"))),(0,y.Y)(te.A,{color:(null==t?void 0:t.background_color)||"#000000",setColor:function(e){r({background_color:e.hex})}}))),(0,y.Y)(p.BaseControl,null,(0,y.Y)(p.Flex,null,(0,y.Y)(p.BaseControl.VisualLabel,null,(0,y.Y)("p",null,(0,a.__)("Control Color","presto-player"))),(0,y.Y)(te.A,{color:(null==t?void 0:t.control_color)||"#000000",setColor:function(e){r({control_color:e.hex})}}))))}var ne,oe,ae=r(3212),le=r(3944),ie=r(7633);function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach(function(t){(0,l.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ue=wp.i18n.__,pe=wp.components,de=pe.TextControl,fe=pe.BaseControl,ye=pe.Icon,ve=pe.Notice,he=pe.Button,me=pe.Flex,ge=pe.FlexItem,be=pe.SelectControl,we=pe.FlexBlock,_e=pe.Modal,ke=wp.element,xe=ke.useState,Ae=ke.useEffect,Ye=wp.data,Ce=Ye.useSelect,Pe=Ye.dispatch;const Se=function(e){var t=e.type,r=void 0===t?"new":t,n=e.closeModal,o=e.addPreset,a=e.onSave,l=e.updatePreset,s=e.name,c=void 0===s?"":s,u=e.attributes,p=e.preset,d=void 0===p?{"play-large":!0,rewind:!0,play:!0,"fast-forward":!0,progress:!0,"current-time":!0,mute:!0,volume:!0,speed:!1,pip:!1,save_player_position:!1,reset_on_end:!1,sticky_scroll:!1,hide_logo:!1,border_radius:0,skin:"default",background_color:"",control_color:"",cta:{},email_collection:{},action_bar:{}}:p,f=xe(!1),y=(0,i.A)(f,2),v=y[0],h=y[1],m=xe(""),g=(0,i.A)(m,2),b=g[0],w=g[1],_=xe(""),k=(0,i.A)(_,2),x=k[0],A=k[1],Y=xe(c),C=(0,i.A)(Y,2),P=C[0],S=C[1],O=xe(d),E=(0,i.A)(O,2),T=E[0],L=E[1],D=Ce(function(e){return e("presto-player/player").branding()}),M=xe(""),F=(0,i.A)(M,2),V=F[0],U=F[1],z={message:ue("The preset could not be saved. Please reload the page and try again.","presto-player")},G=Ce(function(e){return e("presto-player/player").youtube()});Ae(function(){U(G.channel_id)},[null==G?void 0:G.channel_id]);var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L(ce(ce({},T),e))},q=function(){var e=(0,N.A)(j().mark(function e(){var t,r,o,i;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,t=ce(ce({},T),{name:P}),e.next=5,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"audio-preset/").concat(d.id),{_method:"PUT"}),data:t});case 5:if(r=e.sent){e.next=8;break}throw z;case 8:l(r),n(),a&&a(r),(0,R.ou)({message:ue("Preset updated!","presto-player")}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),w(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:z);case 17:return e.prev=17,h(!1),e.finish(17);case 20:return Pe("presto-player/player").updateYoutube({channel_id:V}),o=ce(ce({},G),{channel_id:V}),e.prev=22,e.next=25,wp.apiFetch({path:"wp/v2/settings",method:"POST",data:{presto_player_youtube:o}});case 25:null!=(i=e.sent)&&i.presto_player_youtube&&(Pe("presto-player/player").setYoutube(null==i?void 0:i.presto_player_youtube),onClose()),e.next=32;break;case 29:e.prev=29,e.t1=e.catch(22),console.log(e.t1);case 32:case"end":return e.stop()}},e,null,[[1,14,17,20],[22,29]])}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=(0,N.A)(j().mark(function e(){var t;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,wp.apiFetch({method:"POST",url:prestoPlayer.root+prestoPlayer.prestoVersionString+"audio-preset",data:ce(ce({},{name:P}),T)});case 4:if(t=e.sent){e.next=7;break}throw z;case 7:o(t),n(),a&&a(t),(0,R.ou)({message:ue("Preset created!","presto-player")}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),w(null!==e.t0&&void 0!==e.t0&&e.t0.message?e.t0.message:z);case 16:return e.prev=16,h(!1),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,13,16,19]])}));return function(){return e.apply(this,arguments)}}(),K=[{name:"controls",title:ue("Controls","presto-player"),icon:(0,B.Y)(ye,{icon:"admin-settings"}),component:(0,B.Y)(J,{updateState:W,state:T})},{name:"behavior",title:ue("Behavior","presto-player"),icon:(0,B.Y)(ye,{icon:"admin-generic"}),component:(0,B.Y)(Z,{updateState:W,state:T})},{name:"style",title:ue("Style","presto-player"),icon:(0,B.Y)(ye,{icon:"admin-customizer"}),component:(0,B.Y)(re,{updateState:W,state:T})},{name:"email",title:ue("Email Capture","presto-player"),icon:(0,B.Y)(ye,{icon:"email"}),component:(0,B.Y)(ie.A,{updateState:W,state:T})},{name:"cta",title:ue("Call To Action","presto-player"),icon:(0,B.Y)(ye,{icon:"megaphone"}),component:(0,B.Y)(le.A,{updateState:W,state:T})},{name:"action_bar",title:ue("Action Bar","presto-player"),icon:(0,B.Y)(ye,{icon:"cover-image"}),component:(0,B.Y)(ae.A,{updateState:W,state:T,value:V,setValue:U})}];return(0,B.Y)(_e,{title:ue("edit"==r?"Edit A Audio Preset":"Create A New Audio Preset","presto-player"),onRequestClose:n,className:"presto-player__modal-presets",overlayClassName:"presto-player__modal-presets-overlay"},(0,B.Y)("div",{className:"presto-player__preset-options","data-cy":"preset-modal"},(0,B.Y)(de,{value:P,hideLabelFromVision:!0,label:ue("Preset Name","presto-player"),onChange:function(e){return S(e)},placeholder:ue("Enter a preset name...","presto-player"),className:"presto-player__modal--style-name",autoFocus:!0}),(0,B.Y)(me,{align:"stretch",className:"presto-player__style-preview-area"},(0,B.Y)(ge,{className:"presto-player__style-sidebar"},(0,B.Y)("div",null,(0,B.Y)(I.A,{items:K,title:ue("Customize","presto-player"),onSelect:A},function(e){return e.component}))),(0,B.Y)(we,{className:"presto-player__style-preview-panel"},(0,B.Y)("div",{style:{position:"absolute",top:0,left:0,padding:"20px"}},(0,B.Y)(be,{label:ue("Skin","presto-player"),labelPosition:"side",value:null==T?void 0:T.skin,hideLabelFromVision:!0,options:[{label:ue("Basic","presto-player"),value:"default"},{label:ue("Stacked","presto-player"),value:"stacked"}],onChange:function(e){W({skin:e})}})),(0,B.Y)(H,{poster:u.poster,src:u.src,state:T,branding:D,menu:x,mediaTitle:u.title}))),(0,B.Y)("br",null),b&&(0,B.Y)(fe,null,(0,B.Y)(ve,{className:"presto-player__modal--error-notice",status:"error",isDismissible:!1,style:{margin:0}},b.replace(/(<([^>]+)>)/gi,""))),(0,B.Y)("div",{css:(0,B.AH)(ne||(ne=(0,$.A)(["\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n          "])))},(0,B.Y)("div",{css:(0,B.AH)(oe||(oe=(0,$.A)(["\n              opacity: 0.5;\n              font-size: 12px;\n            "])))},"Preset ID: ",d.id),(0,B.Y)("div",null,(0,B.Y)(he,{isTertiary:!0,onClick:n,style:{margin:"0 6px"}},ue("Cancel","presto-player")),(0,B.Y)(he,{isPrimary:!0,isBusy:v,disabled:v,onClick:function(){if(P)return"edit"===r?q():X();w(ue("You must enter a name for the preset.","presto-player"))},"data-cy":"submit-preset"},ue("edit"==r?"Update Preset":"Create Preset","presto-player"))))))};var Oe=wp.i18n.__,Ee=wp.components,$e=Ee.Icon,Ne=Ee.Spinner,Te=Ee.Modal,je=Ee.Button,Re=Ee.ButtonGroup,Ie=wp.element.useState;function Be(e){var t,r,n=e.preset,o=e.index,a=e.isActive,l=e.remove,s=e.setPreset,c=e.onEdit,u=Ie(!1),p=(0,i.A)(u,2),d=p[0],f=p[1],v=Ie(!1),h=(0,i.A)(v,2),m=h[0],g=h[1],b=function(){return g(!1)},w=function(){var e=(0,N.A)(j().mark(function e(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=3;break}return l(n),e.abrupt("return");case 3:return e.prev=3,f(!0),e.next=7,wp.apiFetch({method:"POST",url:wp.url.addQueryArgs("".concat(prestoPlayer.root).concat(prestoPlayer.prestoVersionString,"audio-preset/").concat(n.id),{_method:"DELETE"})});case 7:e.sent&&(l(n),wp.data.dispatch("core/notices").createNotice("success",Oe("Preset trashed.","presto-player"),{type:"snackbar",isDismissible:!0})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),null!==e.t0&&void 0!==e.t0&&e.t0.message&&wp.data.dispatch("core/notices").createNotice("error",e.t0.message,{type:"snackbar",isDismissible:!0});case 15:return e.prev=15,g(!1),f(!1),e.finish(15);case 19:case"end":return e.stop()}},e,null,[[3,11,15,19]])}));return function(){return e.apply(this,arguments)}}();return d?(0,y.Y)("div",{className:"block-editor-block-styles__item",role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,y.Y)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,y.Y)(Ne,null))):(0,y.Y)("div",{className:"block-editor-block-styles__item presto-preset-".concat(n.slug),onClick:function(){s(n)},role:"button",tabIndex:o,"aria-label":"Fill",style:{color:a?"var(--wp-admin-theme-color)":"inherit",width:"calc(50% - 4px)",margin:"4px 0","flex-shrink":"0",cursor:"pointer",overflow:"hidden","border-radius":"2px",padding:"6px",display:"flex","flex-direction":"column"}},(0,y.Y)("div",{className:"block-editor-block-styles__item-preview",style:{border:a?"2px solid var(--wp-admin-theme-color)":"2px solid #e3e3e3",margin:0,outline:"1px solid transparent",padding:"0",display:"flex",overflow:"hidden",background:"#fff","align-items":"center","flex-grow":"1","min-height":"80px","max-height":"160px"}},(0,y.Y)("div",{style:{textAlign:"center",width:"100%",color:a?"var(--wp-admin-theme-color)":"inherit",opacity:a?1:.75}},null!=n&&n.icon?(0,y.Y)($e,{icon:null==n?void 0:n.icon,style:{fontSize:"30px",width:"30px",height:"30px"}}):(0,y.Y)("h1",{style:{opacity:.75}},(null==n||null===(t=n.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"Untitled"))),(0,y.Y)("div",{className:"block-editor-block-styles__item-label",style:{fontWeight:"bold",textTransform:"capitalize","text-align":"center",padding:"4px 0"}},(null==n?void 0:n.name)||"Untitled"),!(null!=n&&n.is_locked)&&(0,y.Y)("div",{className:"block-editor-block-styles__item-edit"},(0,y.Y)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:c},(0,y.Y)($e,{icon:"edit"})),(0,y.Y)("div",{className:"block-editor-block-styles__item-edit-icon",onClick:function(){return g(!0)}},(0,y.Y)($e,{icon:"trash"}))),m&&(0,y.Y)(Te,{title:Oe("Trash Preset?","presto-player"),onRequestClose:b,style:{maxWidth:"250px"}},(0,y.Y)("p",null,(0,y.Y)("strong",null,Oe("Warning!","presto-player")," "),Oe("Any audios assigned to this preset will automatically use the default preset.","presto-player")),(0,y.Y)(Re,null,(0,y.Y)(je,{isDestructive:!0,onClick:w,style:{margin:"0 4px"}},Oe("Trash","presto-player")),(0,y.Y)(je,{isTertiary:!0,onClick:b,style:{margin:"0 4px",boxShadow:"none"}},Oe("Cancel","presto-player")))))}var Le=wp.i18n.__,De=wp.components,Me=De.withNotices,Fe=De.BaseControl,He=De.Spinner,Ve=De.Button,Ue=wp.element,ze=Ue.useState,Ge=(Ue.useEffect,wp.data),We=Ge.useSelect,Ze=Ge.dispatch;const qe=Me(function(e){var t,r=e.attributes,n=e.setAttributes,o=ze(!1),a=(0,i.A)(o,2),l=a[0],s=a[1],c=function(){return s(!1)},u=ze(null),p=(0,i.A)(u,2),d=p[0],f=p[1],v=ze(null),h=(0,i.A)(v,2),m=h[0],b=h[1],w=We(function(e){return{presets:e("presto-player/player").getAudioPresets(),loading:e("presto-player/player").isResolving("getAudioPresets")}}),_=w.presets,k=w.loading,x=function(e){Ze("presto-player/player").addAudioPreset(e)},A=function(e){Ze("presto-player/player").removeAudioPreset(e)},Y=function(e){n({preset:e.id})},C=(0,E.A)("div",{target:"es6ga4s0"})({name:"1f3egm3",styles:"display:flex;flex-wrap:wrap;justify-content:space-between"});return k?(0,y.Y)("div",{className:"presto-settings__loading"},(0,y.Y)(He,null)):(0,y.Y)(React.Fragment,null,_.length?(0,y.Y)("p",null,Le("Select a audio configuration preset, or add your own.","presto-player")):"",(0,y.Y)(Fe,null,(0,y.Y)(C,null,(_||[]).length?_.map(function(e,t){return(0,y.Y)(Be,{setPreset:Y,index:t,isActive:(null==r?void 0:r.preset)===e.id,preset:e,key:e.id,onEdit:function(){b(e.name),f(e),s("edit")},remove:A})}):Le("No style presets. You can create a new style by clicking 'Add New Style'.","presto-plugin"))),(0,y.Y)(Fe,null,(0,y.Y)(Ve,{isPrimary:!0,"data-cy":"add-new-preset",onClick:function(){var e;null!==(e=prestoPlayer)&&void 0!==e&&e.isPremium?s("new"):Ze("presto-player/player").setProModal(!0)}},Le("Add New Preset","presto-player")),!(null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium)&&(0,y.Y)(g.A,null)),"new"==l&&(0,y.Y)(Se,{closeModal:c,addPreset:x,type:"new",onSave:Y,attributes:r}),"edit"==l&&(0,y.Y)(Se,{closeModal:c,addPreset:x,updatePreset:function(e){Ze("presto-player/player").updateAudioPreset(e)},type:"edit",preset:d,name:m,attributes:r}))});var Xe=["image"];const Ke=function e(t){var r,n,o=t.attributes,l=t.setAttributes,i=(0,P.useInstanceId)(e),s="audio-block__poster-image-description-".concat(i),c=(0,d.useSelect)(function(e){return e(S.store).canUser("read","settings")}),u=o.autoplay,v=o.poster,h=o.preload,m=o.title;return(0,y.Y)(React.Fragment,null,(0,y.Y)(p.PanelBody,{title:(0,y.Y)(React.Fragment,null,(0,a.__)("Title","presto-player")," "),initialOpen:!0},(0,y.Y)(p.FlexBlock,null,(0,y.Y)(p.TextControl,{className:"presto-player__caption--title",placeholder:(0,a.__)("Title","presto-player"),value:m||"",onChange:function(e){return l({title:e})},autoComplete:"off"}))),(0,y.Y)(p.PanelBody,{title:(0,y.Y)(React.Fragment,null,(0,a.__)("Chapters","presto-player")," ",!(null!==(r=prestoPlayer)&&void 0!==r&&r.isPremium)&&(0,y.Y)(g.A,null)),initialOpen:null===(n=prestoPlayer)||void 0===n?void 0:n.isPremium},(0,y.Y)(O.A,{setAttributes:l,attributes:o})),(0,y.Y)(p.PanelBody,{title:(0,y.Y)(React.Fragment,null,(0,a.__)("Audio Settings","presto-player")," ")},(0,y.Y)(p.ToggleControl,{label:(0,y.Y)(React.Fragment,null,(0,a.__)("Autoplay","presto-player")," "),checked:u,onChange:function(e){l({autoplay:e})}}),(0,y.Y)(p.PanelRow,null,(0,y.Y)(p.SelectControl,{label:(0,y.Y)(p.Flex,null,(0,y.Y)("div",null,(0,a.__)("Performance Preference","presto-player")),(0,y.Y)("a",{href:"https://prestoplayer.com/docs/performance-preferences-explained",target:"_blank",style:{textDecoration:"none"}},(0,y.Y)(p.Icon,{icon:"editor-help"}))),className:"presto-setting__preload",value:h,onChange:function(e){return l({preload:e})},options:[{value:"auto",label:(0,a.__)("Audio Playback Speed","presto-player")},{value:"metadata",label:(0,a.__)("Page Load Speed","presto-player")},{value:"none",label:(0,a.__)("Page Load Speed (Extreme)","presto-player")}]})),(0,y.Y)(p.PanelRow,null,(0,y.Y)(f.MediaUploadCheck,null,(0,y.Y)(p.BaseControl,{className:"editor-video-poster-control"},(0,y.Y)(p.BaseControl.VisualLabel,null,(0,a.__)("Poster image","presto-player")),(0,y.Y)(f.MediaUpload,{title:(0,a.__)("Select poster image","presto-player"),onSelect:function(e){l({poster:e.url})},allowedTypes:Xe,render:function(e){var t=e.open;return(0,y.Y)(p.Button,{className:"presto-setting__poster",isPrimary:!0,onClick:t,"aria-describedby":s},v?(0,a.__)("Replace","presto-player"):(0,a.__)("Select","presto-player"))}}),(0,y.Y)("p",{id:s,hidden:!0},v?sprintf((0,a.__)("The current poster image url is %s","presto-player"),v):(0,a.__)("There is no poster image currently selected","presto-player")),!!v&&(0,y.Y)(p.Button,{onClick:function(){l({poster:""})},className:"presto-setting__remove-poster",isTertiary:!0},(0,a.__)("Remove","presto-player")))))),(0,y.Y)(p.PanelBody,{title:(0,a.__)("Audio Preset","presto-player")},(0,y.Y)(qe,{setAttributes:l,attributes:o})),!!c&&(0,y.Y)(p.PanelBody,{title:(0,y.Y)(React.Fragment,null,(0,a.__)("Global Player Branding","presto-player")),initialOpen:!1},(0,y.Y)(C.A,{setAttributes:l,attributes:o,type:"audio"})))};var Qe=r(8168),Je=r(9041);function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(t){(0,l.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var rt=wp.data.withSelect,nt=r(7753);function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach(function(t){(0,l.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const lt=(0,P.compose)([rt(function(e){return{branding:e("presto-player/player").branding(),loading:e("presto-player/player").isResolving("getAudioPresets"),presets:e("presto-player/player").getAudioPresets(),defaultPreset:e("presto-player/player").getDefaultAudioPreset()}}),(0,P.createHigherOrderComponent)(function(e){return function(t){var r=t.presets,n=t.attributes,l=t.setAttributes,s=t.defaultPreset,c=t.isSelected,u=t.branding,p=(0,o.useState)({}),f=(0,i.A)(p,2),v=f[0],h=f[1],m=(0,o.useState)(1),g=(0,i.A)(m,2),b=g[0],w=g[1],k=n.poster,x=n.chapters;(0,o.useEffect)(function(){c&&null!=n&&n.selectionOverrideClientId&&(0,d.dispatch)("core/block-editor").selectBlock(null==n?void 0:n.selectionOverrideClientId)},[c]),(0,o.useEffect)(function(){if(r&&r.length){var e=r.find(function(e){return e.id===(null==n?void 0:n.preset)});e?h(e):(h(s),l({preset:null==s?void 0:s.id}))}},[r,null==n?void 0:n.preset]),(0,o.useEffect)(function(){A()},[k,v,x,u.logo]);var A=function(){w(b+1)},Y=(0,R.ZC)(x);(0,o.useEffect)(function(){var e=null==x?void 0:x.map(function(e){return e.time}),t=null==Y?void 0:Y.map(function(e){return e.time});_.difference(e,t).length&&A()},[x]);var C=function(){var e=(0,N.A)(j().mark(function e(t){var r,n,o,a,i,s,c;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.src,n=t.external_id,o=t.attachment_id,a=t.type,i=t.title,r||n||o){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,Je.A)({method:"POST",path:"/presto-player/v1/videos",data:tt(tt({attachment_id:o,post_id:wp.data.select("core/editor").getCurrentPostId(),external_id:n},i?{title:i}:{}),{},{src:r,type:a})});case 5:s=e.sent,c=s.id,l({id:c});case 8:case"end":return e.stop()}},e)}));return function(_x){return e.apply(this,arguments)}}();return null!=n&&n.preset||l({preset:null==s?void 0:s.id}),(0,y.Y)(e,(0,Qe.A)({},t,{lockSave:function(){return(0,d.dispatch)("core/editor").lockPostSaving("presto-player")},unlockSave:function(){return(0,d.dispatch)("core/editor").unlockPostSaving("presto-player")},createVideo:C,onUpdate:A,onRemoveSrc:function(){confirm((0,a.__)("Remove this","presto-player"))&&l({src:"",id:void 0})},presetData:v,setPresetData:h,renderKey:b}))}},"withPlayerEdit")])((0,p.withNotices)(function(e){var t=e.attributes,r=e.setAttributes,n=e.branding,o=e.presetData,l=e.renderKey,i=e.defaultPreset,s=e.lockSave,c=e.unlockSave,u=e.loading,d=e.createVideo,v=e.onRemoveSrc,h=t.poster,m=t.src,g=t.id;return m?u||!g?(0,y.Y)(p.Placeholder,{className:"presto-player__placeholder is-loading"},(0,y.Y)(p.Spinner,null)):(0,y.Y)(React.Fragment,null,(0,y.Y)(f.BlockControls,null,(0,y.Y)(p.Toolbar,null,(0,y.Y)(p.Button,{onClick:function(){return v()}},(0,a.__)("Replace","presto-player"))),(0,y.Y)(nt.A,null)),(0,y.Y)(f.InspectorControls,null,(0,y.Y)(Ke,{attributes:t,setAttributes:r})),(0,y.Y)("figure",null,(0,y.Y)(p.Disabled,null,(0,y.Y)(D.A,{poster:h,src:m,id:g,type:"audio",attributes:t,setAttributes:r,preset:o,branding:n,key:l})))):(0,y.Y)(React.Fragment,null,(0,y.Y)(Y,{attributes:t,setAttributes:r,onSelectURL:function(e){r(at(at({},t),{},{src:e,title:e,preset:null==i?void 0:i.id})),s(),d({src:e,type:"link"}).catch(function(e){r({src:""}),showNotice(e)}).finally(c)},onSelect:function(e){e&&e.url?e.title?(r({src:e.url,preset:null==i?void 0:i.id,title:e.title,attachment_id:e.id}),s(),d({src:e.url,type:"attachment",attachment_id:e.id}).catch(function(e){r({src:""}),showNotice(e)}).finally(c)):r({src:e.url,title:e.url,preset:null==i?void 0:i.id}):r({src:void 0,id:void 0})}}))}));var it,st="presto-player/audio",ct={category:"presto",attributes:{src:{type:"string"},autoplay:{type:Boolean,default:!1},poster:{type:"string"},chapters:{type:"array",default:[]},preload:{type:"string"},title:{type:"string"},tracks:{type:"array",items:{type:"object"},default:[]},preset:{type:Number},id:{type:Number},attachment_id:{type:Number},visibility:{type:String,default:"public"}},variations:(0,n.A)(null!==(it=prestoPlayer)&&void 0!==it&&it.isPremium?[{name:"private",title:(0,a.__)("Presto Private Audio","presto-player"),icon:(0,y.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,y.Y)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,y.Y)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})),description:(0,a.__)("Private self-hosted audio block.","presto-player"),attributes:{visibility:"private"}}]:[]),icon:(0,y.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"presto-block-icon"},(0,y.Y)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})),edit:lt}},8093:(e,t,r)=>{"use strict";r.r(t),r.d(t,{metadata:()=>b,name:()=>_,options:()=>k});var n=r(7723),o=r(8168),a=r(3453),l=r(6087),i=r(7437),s=r(4715),c=r(9019),u=r(6427),p=r(7143),d=r(3582),f=r(9224),y=r(1067),v=r(9281),h=r(9088),m=r(628),g=r(1423);const b=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","name":"presto-player/popup","apiVersion":2,"title":"Presto Popup","category":"presto","keywords":["popup","lightbox","modal"],"description":"Easily open your Presto Player videos in a Popup.","textdomain":"presto-player","supports":{"interactivity":true},"viewScriptModule":"presto-player-popup","editorStyle":"file:./editor.css","attributes":{"popupId":{"type":"string","default":""}},"providesContext":{"presto-player/popup-id":"popupId"}}');var w=r(6741),_=b.name,k={icon:w.A,edit:function(e){var t=e.clientId,r=e.attributes,b=e.setAttributes,w=(0,l.useState)(""),_=(0,a.A)(w,2),k=_[0],x=_[1],A=(0,l.useState)(!0),Y=(0,a.A)(A,2),C=Y[0],P=Y[1],S=(0,p.useDispatch)("presto-player/player").setProModal,O=(0,s.useBlockProps)(),E=(0,g.q)(t).replaceTemplate;(0,l.useEffect)(function(){null!=r&&r.popupId||b({popupId:t})},[null==r?void 0:r.popupId,t,b]);var $=(0,d.useEntityProp)("root","site","presto_player_media_hub_sync_default"),N=(0,a.A)($,1)[0],T=(0,l.useState)(function(){return N}),j=(0,a.A)(T,2),R=j[0],I=j[1],B=(0,s.useInnerBlocksProps)(O,{allowedBlocks:["presto-player/popup-trigger","presto-player/popup-media"],template:[["presto-player/popup-trigger"],["presto-player/popup-media"]]});return(0,p.useSelect)(function(e){var r;return(null===(r=e(s.store).getBlock(t).innerBlocks)||void 0===r?void 0:r.length)>0})?(0,i.Y)(React.Fragment,null,(0,i.Y)(h.A.Provider,{value:{open:C,setOpen:P}},(0,i.Y)("div",B))):k?(0,i.Y)("div",O,(0,i.Y)(s.BlockControls,{group:"other"},(0,i.Y)(u.ToolbarDropdownMenu,{label:(0,n.__)("Media Hub Sync","presto-player"),icon:R?f.A:y.A,text:R?(0,n.__)("Synced","presto-player"):(0,n.__)("Not synced","presto-player")},function(e){var t=e.onClose;return(0,i.Y)(u.MenuGroup,null,(0,i.Y)(u.MenuItem,{onClick:function(){I(!0),t()},icon:R?"yes":void 0,isSelected:R},(0,n.__)("Sync to media hub","presto-player")),(0,i.Y)(u.MenuItem,{onClick:function(){I(!1),t()},icon:R?void 0:"yes",isSelected:!R},(0,n.__)("Don't sync to media hub","presto-player")))})),(0,i.Y)(v.A,{sync:R,onSyncedMediaCreated:function(e){E({type:"".concat(k,"Trigger"),mediaId:e})},onSelect:function(e){E({type:"".concat(k,"Trigger"),provider:e})},onSelectMedia:function(e){var t,r,n,o=["postType","pp_video_block",e],a=(t=(0,p.select)(d.store)).getEntityRecord.apply(t,o);if(k){var l=null!=a&&null!==(r=a.details)&&void 0!==r&&r.poster&&"image"===k?null==a||null===(n=a.details)||void 0===n?void 0:n.poster:null;E({type:"".concat(k,"Trigger"),mediaId:e,imageUrl:l})}}})):(0,i.Y)(u.Placeholder,(0,o.A)({icon:c.A,label:(0,n.__)("Popup Trigger","presto-player"),instructions:(0,n.__)("Select a trigger type for your video popup.","presto-player")},O),(0,i.Y)(m.A,{triggerType:k,onTriggerTypeSelect:function(e){var t,r;"custom"!==e||null!==(t=prestoPlayer)&&void 0!==t&&null!==(r=t.hasRequiredProVersion)&&void 0!==r&&r.popups?x(e):S(!0)}}))},save:function(){var e=s.useBlockProps.save();return(0,i.Y)("div",e,(0,i.Y)(s.InnerBlocks.Content,null))}}},8148:(e,t,r)=>{"use strict";r.r(t),r.d(t,{name:()=>C,options:()=>P});var n=r(4467),o=(r(6087),r(4715)),a=r(4593),l=r(3333),i=r(2396),s=r(8580),c=r(8704),u=r(7038),p=r(9715),d=r(7753),f=r(7437),y=wp.components,v=y.Button,h=y.Disabled,m=y.Toolbar,g=y.Placeholder,b=y.Spinner,w=y.withNotices,_=wp.element.useEffect,__=wp.i18n.__;const k=(0,wp.compose.compose)([(0,l.A)(),(0,a.A)()])(w(function(e){var t=e.attributes,r=e.setAttributes,n=e.branding,a=e.noticeOperations,l=e.loading,y=e.createVideo,w=e.lockSave,k=e.unlockSave,x=e.presetData,A=e.onRemoveSrc,Y=e.renderKey,C=t.poster,P=t.src,S=t.id,O=(0,p.ZC)(P);return _(function(){O&&r({id:0});var e=(0,u.oT)(P);r({video_id:e}),w(),y({src:P,external_id:e,type:"vimeo"}).catch(function(e){r({src:""}),function(e){a.removeAllNotices(),a.createErrorNotice(null==e?void 0:e.message)}(e)}).finally(k)},[P]),P?l||!S?(0,f.Y)(g,{className:"presto-player__placeholder is-loading"},(0,f.Y)(b,null)):(0,f.Y)(React.Fragment,null,(0,f.Y)(o.BlockControls,null,(0,f.Y)(m,null,(0,f.Y)(v,{onClick:function(){return A()}},__("Replace","presto-player"))),(0,f.Y)(d.A,null)),(0,f.Y)(o.InspectorControls,null,(0,f.Y)(i.A,{setAttributes:r,attributes:t})),(0,f.Y)("figure",null,(0,f.Y)(h,null,(0,f.Y)(s.A,{poster:C,src:P,type:"vimeo",id:S,attributes:t,setAttributes:r,preset:x,branding:n,key:Y})))):(0,f.Y)("div",null,(0,f.Y)(c.A,{icon:(0,f.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.Y)("path",{d:"M22.875 10.063c-2.442 5.217-8.337 12.319-12.063 12.319-3.672 0-4.203-7.831-6.208-13.043-.987-2.565-1.624-1.976-3.474-.681l-1.128-1.455c2.698-2.372 5.398-5.127 7.057-5.28 1.868-.179 3.018 1.098 3.448 3.832.568 3.593 1.362 9.17 2.748 9.17 1.08 0 3.741-4.424 3.878-6.006.243-2.316-1.703-2.386-3.392-1.663 2.673-8.754 13.793-7.142 9.134 2.807z"})),label:__("Presto Vimeo Video","presto-player"),instructions:__("Enter Vimeo Video URL","presto-player"),placeholder:__("Vimeo URL","presto-player"),attributes:t,setAttributes:r,onSelectURL:function(e){e!==P&&r({src:e})}}))}));var x=r(9042);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var C="presto-player/vimeo",P=Y(Y({},x.A),{},{usesContext:["presto-player/playlist-media-id"],attributes:Y(Y({},x.A.attributes),{},{video_id:{type:String}}),icon:(0,f.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"presto-block-icon"},(0,f.Y)("path",{d:"M22.875 10.063c-2.442 5.217-8.337 12.319-12.063 12.319-3.672 0-4.203-7.831-6.208-13.043-.987-2.565-1.624-1.976-3.474-.681l-1.128-1.455c2.698-2.372 5.398-5.127 7.057-5.28 1.868-.179 3.018 1.098 3.448 3.832.568 3.593 1.362 9.17 2.748 9.17 1.08 0 3.741-4.424 3.878-6.006.243-2.316-1.703-2.386-3.392-1.663 2.673-8.754 13.793-7.142 9.134 2.807z"})),edit:k})},8168:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{A:()=>n})},8351:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5573),o=r(790);const a=(0,o.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(n.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})})},8468:e=>{"use strict";e.exports=window.lodash},8580:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(4467),o=r(5458),a=r(6087),l=r(5532),i=r(9715),s=r(7143),c=r(7038),u=r(7437);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const f=function(e){var t,r,n,p,f,y,v=e.src,h=e.classes,m=e.preset,g=e.branding,b=e.attributes,w=e.adminPreview,_=e.currentTime,k=e.preload,x=void 0===k?"metadata":k,A=e.overlays,Y=e.type,C=(0,a.useRef)(),P=b.previewThumbnail,S=b.preview,O=b.chapters,E=b.poster,$=b.mutedOverlay,N=b.mutedPreview,T=b.title,j=(0,s.useSelect)(function(e){var t,r;return{youtube:null===(t=e("presto-player/player"))||void 0===t?void 0:t.youtube(),playerCSS:null===(r=e("presto-player/player"))||void 0===r?void 0:r.playerCSS()}}),R=j.youtube,I=j.playerCSS;return(0,a.useEffect)(function(){C.current.src=v,C.current["data-css"]=I,C.current.classes=h,C.current.currentTime=_,C.current.overlays=JSON.stringify(A),C.current.isAdmin=!0,C.current.preload=x,C.current.preset=JSON.stringify(m),C.current.bunny={thumbnail:P,preview:S},C.current.youtube={channelId:null==R?void 0:R.channel_id},C.current.tracks=(0,o.A)(null!=m&&m.captions?[{kind:"captions",label:"English",srclang:"en",src:"/path/to/captions.en.vtt",default:!0}]:[]),C.current.branding=JSON.stringify(g),C.current.chapters=JSON.stringify(O),C.current.blockAttributes=b,C.current.poster=E,C.current.provider="audio"===Y?"audio":(0,i.sO)(v),C.current.mediaTitle=T},[v,h,m,g,b,w,_,x,A,Y]),(0,u.Y)("div",{className:"wp-block-video presto-block-video",style:"audio"===Y?d(d(d({"--presto-player-border-radius":"".concat(null==m?void 0:m.border_radius,"px")},null!=m&&m.background_color?{"--plyr-audio-controls-background":m.background_color}:{"--plyr-audio-controls-background":null==g?void 0:g.color}),null!=m&&m.control_color?{"--plyr-audio-control-color":m.control_color,"--plyr-range-thumb-background":m.control_color,"--plyr-range-fill-background":m.control_color,"--plyr-audio-progress-buffered-background":(0,c.Zc)(m.control_color||(null==g?void 0:g.color)||"#00b3ff",.5)}:{"--plyr-audio-control-color":"#ffffff","--plyr-range-thumb-background":"#ffffff","--plyr-range-fill-background":"#ffffff"}),{},{"--plyr-range-thumb-shadow":"0px"}):d(d(d({"--presto-player-border-radius":"".concat(null==m?void 0:m.border_radius,"px"),"--presto-player-aspect-ratio":"original"===(null==b?void 0:b.ratio)?"unset":(null==b||null===(t=b.ratio)||void 0===t?void 0:t.replace(":","/"))||"16/9"},null!=m&&m.caption_background?{"--plyr-captions-background":m.caption_background}:{}),null!=g&&g.color?{"--plyr-color-main":"var(--presto-player-highlight-color, ".concat(g.color,")")}:{}),{},{"--presto-player-email-border-radius":"".concat((null==m||null===(r=m.email_collection)||void 0===r?void 0:r.border_radius)||0,"px"),"--presto-player-logo-width":"".concat((null==g?void 0:g.logo_width)||75,"px")})},(0,u.Y)(l.tb,{ref:C},(0,u.Y)("div",{slot:"player-end"},!(null===(n=m.search)||void 0===n||!n.enabled)&&(0,u.Y)(l.JG,{style:{position:"absolute",top:"15px",right:"23px",zIndex:1},placeholder:null===(p=m.search)||void 0===p?void 0:p.placeholder}),(null==N?void 0:N.enabled)&&(null==$?void 0:$.enabled)&&(0,u.Y)("div",{className:"presto-player__overlay is-image",style:{position:"absolute",width:"".concat((null==$?void 0:$.width)||100,"%"),left:"".concat(100*((null==$||null===(f=$.focalPoint)||void 0===f?void 0:f.x)||.5),"%"),top:"".concat(100*((null==$||null===(y=$.focalPoint)||void 0===y?void 0:y.y)||.5),"%")}},(0,u.Y)("img",{src:null==$?void 0:$.src,style:{transform:"translateX(-50%) translateY(-50%)"}})),w)))}},8587:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter(t=>e[t]).reduce((e,t)=>(e[t]=!0,e),{}):{}},8614:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(3954),o=r(3662);function a(e,t,r){return a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&(0,o.A)(a,r.prototype),a},a.apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,l)}function l(){return a(e,arguments,(0,n.A)(this).constructor)}return l.prototype=Object.create(e.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),(0,o.A)(l,e)},l(e)}},8704:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(3453),o=(r(6087),r(7437)),a=wp.components,l=a.Button,i=a.Placeholder,s=a.TextControl,c=a.Flex,u=a.FlexItem,p=a.FlexBlock,d=wp.element.useState,__=wp.i18n.__;function f(e){var t=e.attributes,r=(e.setAttributes,e.icon),a=e.onSelectURL,f=e.label,y=e.instructions,v=e.placeholder,h=t.src,m=d({src:h}),g=(0,n.A)(m,2),b=g[0],w=g[1];return(0,o.Y)(i,{icon:r,label:f||__("Presto Embedded Video","presto-player"),instructions:y||__("Enter video URL","presto-player")},(0,o.Y)("form",{onSubmit:function(e){e.preventDefault(),a(b.url)}},(0,o.Y)(c,{style:{width:"100%",maxWidth:"400px"}},(0,o.Y)(p,null,(0,o.Y)(s,{type:"url",className:"presto-link-placeholder-input",placeholder:v||__("Youtube URL","presto-player"),value:b.url,onChange:function(e){return w({url:e})}})),(0,o.Y)(u,null,(0,o.Y)(l,{isPrimary:!0,style:{marginBottom:"8px"},type:"submit"},__("Add Video","presto-player"))))))}},8761:(e,t,r)=>{"use strict";r.r(t),r.d(t,{metadata:()=>g,name:()=>b,options:()=>w});var n,o=r(6087),a=r(7723),l=r(7528),i=(r(467),r(3453)),s=(r(9280),r(9067)),c=r(4715),u=r(7143),p=r(6427),d=r(9224),f=r(1067),y=r(3582),v=r(4997),h=r(9281),m=r(7437);const g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","name":"presto-player/media-hub","apiVersion":2,"title":"Presto Player","category":"presto","keywords":["video","audio","media","youtube","vimeo","bunny","presto"],"description":"Allows you to add videos and audio to your site using Presto Player.","textdomain":"presto-player","script":"presto-components"}');var b=g.name,w={usesContext:["presto-player/playlist-media-id","presto-player/popup-media-id"],providesContext:{"presto-player/playlist-media-id":"id"},attributes:{id:{type:"number"}},icon:(0,m.Y)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"presto-block-icon"},(0,m.Y)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,m.Y)("path",{d:"M10 8L16 12L10 16V8Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),edit:function(e){var t=e.clientId,r=(e.attributes,e.setAttributes,e.context,(0,u.useDispatch)(c.store).setTemplateValidity),m=(0,u.useDispatch)(c.store).replaceBlock,g=((0,u.useDispatch)(y.store).saveEntityRecord,(0,u.useDispatch)("core/notices").createErrorNotice,(0,u.useSelect)(function(e){return e(c.store).getBlock(t).innerBlocks}));r(!0);var b=(0,c.useBlockProps)(),w=(0,c.useInnerBlocksProps)(b,{templateLock:!1,renderAppender:!1}),_=(0,y.useEntityProp)("root","site","presto_player_media_hub_sync_default"),k=(0,i.A)(_,1)[0],x=(0,o.useState)(function(){return k}),A=(0,i.A)(x,2),Y=A[0],C=A[1],P=(0,o.useState)(!1),S=(0,i.A)(P,2);return S[0],S[1],null!=g&&g.length?(0,s.Y)("div",w):(0,s.Y)("div",w,(0,s.Y)(React.Fragment,null,(0,s.Y)(c.BlockControls,null,(0,s.Y)(p.Toolbar,null,(0,s.Y)(p.Dropdown,{popoverProps:{placement:"bottom-left"},renderToggle:function(e){var t=e.onToggle;return(0,s.Y)(p.Flex,null,(0,s.Y)(p.Button,{onClick:t,css:(0,s.AH)(n||(n=(0,l.A)(["\n                          background: transparent;\n                          border: none;\n                          cursor: pointer;\n                          display: flex;\n                          justify-content: space-between;\n                          align-items: center;\n                          gap: 4px;\n                        "]))),icon:Y?(0,s.Y)(p.Icon,{icon:d.A}):(0,s.Y)(p.Icon,{icon:f.A})},Y?(0,a.__)("Synced","presto-player"):(0,a.__)("Not synced","presto-player"),(0,s.Y)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",width:"16px"},(0,s.Y)("path",{fillRule:"evenodd",d:"M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))))},renderContent:function(){return(0,s.Y)(p.MenuGroup,null,(0,s.Y)(p.MenuItem,{onClick:function(){return C(!0)},icon:(0,s.Y)(p.Icon,{icon:d.A}),isSelected:Y,iconPosition:"left"},(0,a.__)("Sync to media hub","presto-player")),(0,s.Y)(p.MenuItem,{onClick:function(){return C(!1)},icon:(0,s.Y)(p.Icon,{icon:f.A}),isSelected:!Y,iconPosition:"left"},(0,a.__)("Don't sync to media hub","presto-player")))}}))),(0,s.Y)(h.A,{sync:Y,onSyncedMediaCreated:function(e){m(t,(0,v.createBlock)("presto-player/reusable-display",{id:e}))},onSelect:function(e){m(t,(0,v.createBlock)("presto-player/".concat(e)))},onSelectMedia:function(e){m(t,(0,v.createBlock)("presto-player/reusable-display",{id:e}))}})))},save:function(){var e=c.useBlockProps.save(),t=c.useInnerBlocksProps.save(e);return(0,m.Y)("div",t)}}},8772:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(4467),o=r(3453),a=r(6087),l=r(2485),i=r.n(l),s=r(7723),c=r(8468),u=r(6427),p=r(7437);const d=function(e){var t,r=e.className,l=e.children,d=e.items,f=e.title,y=e.orientation,v=void 0===y?"horizontal":y,h=e.activeClass,m=void 0===h?"is-active":h,g=e.onSelect,b=void 0===g?c.noop:g,w=(0,a.useState)(null),_=(0,o.A)(w,2),k=_[0],x=_[1],A=(0,a.useState)("left"),Y=(0,o.A)(A,2),C=(Y[0],Y[1]),P=function(e){x(e),b&&b(e)},S=function(e,t){t.click()},O=(0,c.find)(d,{name:k}),E="".concat(null!==(t=null==O?void 0:O.name)&&void 0!==t?t:"none");return(0,a.useEffect)(function(){C(k?"right":"left")},[k]),(0,p.Y)("div",{className:r},(0,p.Y)(u.Animate,{type:"slide-in",origin:O?"right":"left"},function(e){var t=e.className;return O?(0,p.Y)("div",{key:E,"aria-labelledby":E,role:"itempanel",id:"".concat(E,"-view"),className:i()(t,"presto-player__menu-content")},(0,p.Y)("div",{className:"presto-player__menu-items"},(0,p.Y)("div",{className:"presto-player__menu-item is-back-button",onClick:function(){return P("")}},(0,p.Y)("svg",{class:"back-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",role:"img","aria-hidden":"true",focusable:"false"},(0,p.Y)("path",{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),(0,s.__)("Back","presto-player"))),l(O)):(0,p.Y)("div",{className:i()(t,"is-from-right")},!!f&&(0,p.Y)("h2",null,f),(0,p.Y)(u.NavigableMenu,{role:"itemlist",orientation:v,onNavigate:S,className:i()("presto-player__menu-items")},d.map(function(e){return(0,p.Y)("div",{className:i()("presto-player__menu-item",e.className,(0,n.A)({},m,e.name===k)),itemId:"".concat(e.name),"aria-controls":"".concat(e.name,"-view"),selected:e.name===k,key:e.name,onClick:(0,c.partial)(P,e.name)},!!e.icon&&(0,p.Y)("div",{class:"presto-player__menu-icon"},e.icon),e.title,(0,p.Y)("svg",{className:"submenu-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",role:"img",ariaHidden:"true",focusable:"false"},(0,p.Y)("path",{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})))})))}))}},8854:(e,t,r)=>{"use strict";r.d(t,{BH:()=>l,Px:()=>a});var n=r(1609),o=r.n(n),a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach(function(t){!function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(t,e)})}},l=function(e,t){var r=function(t,r){return o().createElement(e,Object.assign({},t,{forwardedRef:r}))};return r.displayName=t,o().forwardRef(r)}},8887:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){function t(e,n,s,c,d){for(var f,y,v,h,w,k=0,x=0,A=0,Y=0,C=0,N=0,j=v=f=0,I=0,B=0,L=0,D=0,M=s.length,F=M-1,H="",V="",U="",z="";I<M;){if(y=s.charCodeAt(I),I===F&&0!==x+Y+A+k&&(0!==x&&(y=47===x?10:47),Y=A=k=0,M++,F++),0===x+Y+A+k){if(I===F&&(0<B&&(H=H.replace(p,"")),0<H.trim().length)){switch(y){case 32:case 9:case 59:case 13:case 10:break;default:H+=s.charAt(I)}y=59}switch(y){case 123:for(f=(H=H.trim()).charCodeAt(0),v=1,D=++I;I<M;){switch(y=s.charCodeAt(I)){case 123:v++;break;case 125:v--;break;case 47:switch(y=s.charCodeAt(I+1)){case 42:case 47:e:{for(j=I+1;j<F;++j)switch(s.charCodeAt(j)){case 47:if(42===y&&42===s.charCodeAt(j-1)&&I+2!==j){I=j+1;break e}break;case 10:if(47===y){I=j+1;break e}}I=j}}break;case 91:y++;case 40:y++;case 34:case 39:for(;I++<F&&s.charCodeAt(I)!==y;);}if(0===v)break;I++}if(v=s.substring(D,I),0===f&&(f=(H=H.replace(u,"").trim()).charCodeAt(0)),64===f){switch(0<B&&(H=H.replace(p,"")),y=H.charCodeAt(1)){case 100:case 109:case 115:case 45:B=n;break;default:B=$}if(D=(v=t(n,B,v,y,d+1)).length,0<T&&(w=i(3,v,B=r($,H,L),n,S,P,D,y,d,c),H=B.join(""),void 0!==w&&0===(D=(v=w.trim()).length)&&(y=0,v="")),0<D)switch(y){case 115:H=H.replace(_,l);case 100:case 109:case 45:v=H+"{"+v+"}";break;case 107:v=(H=H.replace(m,"$1 $2"))+"{"+v+"}",v=1===E||2===E&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=H+v,112===c&&(V+=v,v="")}else v=""}else v=t(n,r(n,H,L),v,c,d+1);U+=v,v=L=B=j=f=0,H="",y=s.charCodeAt(++I);break;case 125:case 59:if(1<(D=(H=(0<B?H.replace(p,""):H).trim()).length))switch(0===j&&(f=H.charCodeAt(0),45===f||96<f&&123>f)&&(D=(H=H.replace(" ",":")).length),0<T&&void 0!==(w=i(1,H,n,e,S,P,V.length,c,d,c))&&0===(D=(H=w.trim()).length)&&(H="\0\0"),f=H.charCodeAt(0),y=H.charCodeAt(1),f){case 0:break;case 64:if(105===y||99===y){z+=H+s.charAt(I);break}default:58!==H.charCodeAt(D-1)&&(V+=o(H,f,y,H.charCodeAt(2)))}L=B=j=f=0,H="",y=s.charCodeAt(++I)}}switch(y){case 13:case 10:47===x?x=0:0===1+f&&107!==c&&0<H.length&&(B=1,H+="\0"),0<T*R&&i(0,H,n,e,S,P,V.length,c,d,c),P=1,S++;break;case 59:case 125:if(0===x+Y+A+k){P++;break}default:switch(P++,h=s.charAt(I),y){case 9:case 32:if(0===Y+k+x)switch(C){case 44:case 58:case 9:case 32:h="";break;default:32!==y&&(h=" ")}break;case 0:h="\\0";break;case 12:h="\\f";break;case 11:h="\\v";break;case 38:0===Y+x+k&&(B=L=1,h="\f"+h);break;case 108:if(0===Y+x+k+O&&0<j)switch(I-j){case 2:112===C&&58===s.charCodeAt(I-3)&&(O=C);case 8:111===N&&(O=N)}break;case 58:0===Y+x+k&&(j=I);break;case 44:0===x+A+Y+k&&(B=1,h+="\r");break;case 34:case 39:0===x&&(Y=Y===y?0:0===Y?y:Y);break;case 91:0===Y+x+A&&k++;break;case 93:0===Y+x+A&&k--;break;case 41:0===Y+x+k&&A--;break;case 40:0===Y+x+k&&(0===f&&(2*C+3*N==533||(f=1)),A++);break;case 64:0===x+A+Y+k+j+v&&(v=1);break;case 42:case 47:if(!(0<Y+k+A))switch(x){case 0:switch(2*y+3*s.charCodeAt(I+1)){case 235:x=47;break;case 220:D=I,x=42}break;case 42:47===y&&42===C&&D+2!==I&&(33===s.charCodeAt(D+2)&&(V+=s.substring(D,I+1)),h="",x=0)}}0===x&&(H+=h)}N=C,C=y,I++}if(0<(D=V.length)){if(B=n,0<T&&void 0!==(w=i(2,V,B,e,S,P,D,c,d,c))&&0===(V=w).length)return z+V+U;if(V=B.join(",")+"{"+V+"}",0!==E*O){switch(2!==E||a(V,2)||(O=0),O){case 111:V=V.replace(b,":-moz-$1")+V;break;case 112:V=V.replace(g,"::-webkit-input-$1")+V.replace(g,"::-moz-$1")+V.replace(g,":-ms-input-$1")+V}O=0}}return z+V+U}function r(e,t,r){var o=t.trim().split(v);t=o;var a=o.length,l=e.length;switch(l){case 0:case 1:var i=0;for(e=0===l?"":e[0]+" ";i<a;++i)t[i]=n(e,t[i],r).trim();break;default:var s=i=0;for(t=[];i<a;++i)for(var c=0;c<l;++c)t[s++]=n(e[c]+" ",o[i],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(h,"$1"+e.trim());case 58:return e.trim()+t.replace(h,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(h,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,r,n){var l=e+";",i=2*t+3*r+4*n;if(944===i){e=l.indexOf(":",9)+1;var s=l.substring(e,l.length-1).trim();return s=l.substring(0,e).trim()+s+";",1===E||2===E&&a(s,1)?"-webkit-"+s+s:s}if(0===E||2===E&&!a(l,1))return l;switch(i){case 1015:return 97===l.charCodeAt(10)?"-webkit-"+l+l:l;case 951:return 116===l.charCodeAt(3)?"-webkit-"+l+l:l;case 963:return 110===l.charCodeAt(5)?"-webkit-"+l+l:l;case 1009:if(100!==l.charCodeAt(4))break;case 969:case 942:return"-webkit-"+l+l;case 978:return"-webkit-"+l+"-moz-"+l+l;case 1019:case 983:return"-webkit-"+l+"-moz-"+l+"-ms-"+l+l;case 883:if(45===l.charCodeAt(8))return"-webkit-"+l+l;if(0<l.indexOf("image-set(",11))return l.replace(C,"$1-webkit-$2")+l;break;case 932:if(45===l.charCodeAt(4))switch(l.charCodeAt(5)){case 103:return"-webkit-box-"+l.replace("-grow","")+"-webkit-"+l+"-ms-"+l.replace("grow","positive")+l;case 115:return"-webkit-"+l+"-ms-"+l.replace("shrink","negative")+l;case 98:return"-webkit-"+l+"-ms-"+l.replace("basis","preferred-size")+l}return"-webkit-"+l+"-ms-"+l+l;case 964:return"-webkit-"+l+"-ms-flex-"+l+l;case 1023:if(99!==l.charCodeAt(8))break;return"-webkit-box-pack"+(s=l.substring(l.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+l+"-ms-flex-pack"+s+l;case 1005:return f.test(l)?l.replace(d,":-webkit-")+l.replace(d,":-moz-")+l:l;case 1e3:switch(t=(s=l.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=l.replace(w,"tb");break;case 232:s=l.replace(w,"tb-rl");break;case 220:s=l.replace(w,"lr");break;default:return l}return"-webkit-"+l+"-ms-"+s+l;case 1017:if(-1===l.indexOf("sticky",9))break;case 975:switch(t=(l=e).length-10,i=(s=(33===l.charCodeAt(t)?l.substring(0,t):l).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:l=l.replace(s,"-webkit-"+s)+";"+l;break;case 207:case 102:l=l.replace(s,"-webkit-"+(102<i?"inline-":"")+"box")+";"+l.replace(s,"-webkit-"+s)+";"+l.replace(s,"-ms-"+s+"box")+";"+l}return l+";";case 938:if(45===l.charCodeAt(5))switch(l.charCodeAt(6)){case 105:return s=l.replace("-items",""),"-webkit-"+l+"-webkit-box-"+s+"-ms-flex-"+s+l;case 115:return"-webkit-"+l+"-ms-flex-item-"+l.replace(x,"")+l;default:return"-webkit-"+l+"-ms-flex-line-pack"+l.replace("align-content","").replace(x,"")+l}break;case 973:case 989:if(45!==l.charCodeAt(3)||122===l.charCodeAt(4))break;case 931:case 953:if(!0===Y.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):l.replace(s,"-webkit-"+s)+l.replace(s,"-moz-"+s.replace("fill-",""))+l;break;case 962:if(l="-webkit-"+l+(102===l.charCodeAt(5)?"-ms-"+l:"")+l,211===r+n&&105===l.charCodeAt(13)&&0<l.indexOf("transform",10))return l.substring(0,l.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+l}return l}function a(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),j(2!==t?n:n.replace(A,"$1"),r,t)}function l(e,t){var r=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(k," or ($1)").substring(4):"("+t+")"}function i(e,t,r,n,o,a,l,i,s,u){for(var p,d=0,f=t;d<T;++d)switch(p=N[d].call(c,e,f,r,n,o,a,l,i,s,u)){case void 0:case!1:case!0:case null:break;default:f=p}if(f!==t)return f}function s(e){return void 0!==(e=e.prefix)&&(j=null,e?"function"!=typeof e?E=1:(E=2,j=e):E=0),s}function c(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<T){var o=i(-1,r,n,n,S,P,0,0,0,0);void 0!==o&&"string"==typeof o&&(r=o)}var a=t($,n,r,0,0);return 0<T&&void 0!==(o=i(-2,a,n,n,S,P,a.length,0,0,0))&&(a=o),O=0,P=S=1,a}var u=/^\0+/g,p=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,y=/([,: ])(transform)/g,v=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,x=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Y=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,P=1,S=1,O=0,E=1,$=[],N=[],T=0,j=null,R=0;return c.use=function e(t){switch(t){case void 0:case null:T=N.length=0;break;default:if("function"==typeof t)N[T++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else R=0|!!t}return e},c.set=s,void 0!==e&&s(e),c}},8939:(e,t,r)=>{"use strict";r.r(t),r.d(t,{metadata:()=>d,name:()=>f,options:()=>y}),r(7723);var n=r(2391),o=r(6087),a=r(9067),l=r(4715),i=r(7143),s=r(9281),c=r(9078),u=r(4997),p=r(7437);const d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","name":"presto-player/reusable-edit","apiVersion":2,"title":"Edit Media","category":"presto","description":"Create a playlist of videos or audio.","textdomain":"presto-player","usesContext":["presto-player/playlist-media-id"],"supports":{"inserter":false,"reusable":false,"html":false},"script":"presto-components"}');var f=d.name,y={icon:n.A,edit:function(e){var t=e.clientId,r=e.isSelected,n=e.context,p=(0,i.useDispatch)(l.store),d=p.selectBlock,f=p.insertBlock,y=(0,i.useDispatch)(l.store).setTemplateValidity,v=(0,o.useContext)(c.A).isEditing,h=(0,i.useSelect)(function(e){return e(l.store).getBlock(t).innerBlocks}),m=(0,l.useBlockProps)(),g=(0,l.useInnerBlocksProps)(m,{templateLock:!!v&&"all",renderAppender:!1});return y(!0),(0,o.useEffect)(function(){if(r&&n["presto-player/playlist-media-id"]){var e=(0,i.select)(l.store).getBlockOrder(t)[0];e&&d(e)}},[r]),null!=h&&h.length?(0,a.Y)("div",g):(0,a.Y)("div",m,(0,a.Y)(s.A,{sync:!1,onSelect:function(e){f((0,u.createBlock)("presto-player/".concat(e)),0,t)},onSelectMedia:!1}),(0,a.Y)("div",g))},save:function(){var e=l.useBlockProps.save(),t=l.useInnerBlocksProps.save(e);return(0,p.Y)("div",t)}}},9003:(e,t,r)=>{"use strict";r.r(t),r.d(t,{name:()=>l,options:()=>i}),r(6087);var n=r(7723),o=r(4715),a=r(7437),l="presto-player/playlist-preview",i={apiVersion:"2",attributes:{lock:{type:Object,default:{remove:!0,move:!0}}},category:"presto",supports:{align:!0},parent:["presto-player/playlist"],title:(0,n.__)("Playlist Preview","presto-player"),description:(0,n.__)("Presto Playlist Preview Block - Shows the preview of the playlist item.","presto-player"),edit:function(){var e=(0,o.useBlockProps)({slot:"preview"}),t=(0,o.useInnerBlocksProps)(e,{renderAppender:o.InnerBlocks.ButtonBlockAppender,templateLock:"all",template:[["presto-player/reusable-display"]],allowedBlocks:["presto-player/reusable-display"]});return(0,a.Y)("div",t)},icon:(0,a.Y)("svg",{width:"19",height:"14",className:"playlist-block-icon",viewBox:"0 0 19 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.Y)("path",{d:"M0 0V2H11V0H0ZM0 4V6H11V4H0ZM17 4.1C16.9 4.1 16.7 4.2 16.6 4.3L15.6 5.3L17.7 7.4L18.7 6.4C18.9 6.2 18.9 5.8 18.7 5.6L17.4 4.3C17.3 4.2 17.2 4.1 17 4.1ZM15.1 5.9L9 11.9V14H11.1L17.2 7.9L15.1 5.9ZM0 8V10H7V8H0Z",fill:"currentColor"}))}},9019:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5573),o=r(790);const a=(0,o.jsx)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)(n.Path,{d:"M8 12.5h8V11H8v1.5Z M19 6.5H5a2 2 0 0 0-2 2V15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2ZM5 8h14a.5.5 0 0 1 .5.5V15a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8.5A.5.5 0 0 1 5 8Z"})})},9041:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=wp.apiFetch;n.use(n.createNonceMiddleware(prestoPlayer.nonce)),n.use(n.createRootURLMiddleware(prestoPlayer.root+prestoPlayer.prestoVersionString));const o=n},9042:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n,o=r(4467);const a={attributes:(n={visibility:{type:String,default:"public"},color:{type:String,default:"#00b3ff"},blockAlignment:{type:String},mutedPreview:{type:Object,default:{enabled:!1,captions:!1}},mutedOverlay:{type:Object,default:{enabled:!1,src:"",width:200,focalPoint:{x:.5,y:.5}}},mutedPreviewCaptions:{type:Boolean},mutedOverlayType:{type:String,default:"text"},mutedOverlayText:{type:String,default:"Click to play"},mutedOverlaySrc:{type:String},mutedOverlayImageWidth:{type:Number,default:200},mutedOverlayFocalPoint:{type:Object}},(0,o.A)(n,"mutedOverlay",{type:Object,default:{enabled:!1,type:"text",text:"",src:"",width:200,focalPoint:{x:.5,y:.5}}}),(0,o.A)(n,"autoplay",{type:Boolean}),(0,o.A)(n,"preload",{type:String}),(0,o.A)(n,"playsInline",{type:Boolean,default:!0}),(0,o.A)(n,"id",{type:Number}),(0,o.A)(n,"attachment_id",{type:Number}),(0,o.A)(n,"src",{type:String}),(0,o.A)(n,"imageID",{type:Number}),(0,o.A)(n,"poster",{type:String}),(0,o.A)(n,"content",{type:Boolean}),(0,o.A)(n,"preset",{type:Number}),(0,o.A)(n,"chapters",{type:Array,default:[]}),(0,o.A)(n,"overlays",{type:Array,default:[]}),(0,o.A)(n,"tracks",{type:"array",items:{type:"object"},default:[]}),(0,o.A)(n,"ratio",{type:String,default:"original"}),n),category:"presto",supports:{align:!0,inserter:!1},save:function(){return null}}},9067:(e,t,r)=>{"use strict";r.d(t,{AH:()=>i.A,Y:()=>s});var n=r(1609),o=(r(7046),r(114)),a=r(825),l=r(4999),i=r(2681),s=function(e,t){var r=arguments;if(null==t||!o.h.call(t,"css"))return n.createElement.apply(void 0,r);var a=r.length,l=new Array(a);l[0]=o.E,l[1]=(0,o.c)(e,t);for(var i=2;i<a;i++)l[i]=r[i];return n.createElement.apply(null,l)},c=function e(t){for(var r=t.length,n=0,o="";n<r;n++){var a=t[n];if(null!=a){var l=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))l=e(a);else for(var i in l="",a)a[i]&&i&&(l&&(l+=" "),l+=i);break;default:l=a}l&&(o&&(o+=" "),o+=l)}}return o},u=function(){return null};(0,o.w)(function(e,t){return(0,n.createElement)(o.T.Consumer,null,function(r){var o=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=(0,l.J)(r,t.registered);return(0,a.s)(t,o,!1),t.key+"-"+o.name},i={css:o,cx:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(e,t,r){var n=[],o=(0,a.R)(e,n,r);return n.length<2?r:o+t(n)}(t.registered,o,c(r))},theme:r},s=e.children(i),p=(0,n.createElement)(u,null);return(0,n.createElement)(n.Fragment,null,p,s)})})},9078:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(6087).createContext)({isEditing:!1,setIsEditing:function(){}})},9088:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(6087).createContext)()},9189:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var n=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,a?0:o.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}()},9224:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5573),o=r(790);const a=(0,o.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(n.Path,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"})})},9280:e=>{"use strict";e.exports=window.regeneratorRuntime},9281:(e,t,r)=>{"use strict";r.d(t,{A:()=>L});var n,o,a,l,i=r(467),s=r(3453),c=r(6087),u=r(9280),p=r.n(u),d=r(9067),f=r(7143),y=r(3582),v=r(692),h=r(7723),m=r(7528),g=r(6427),b=r(5862),w=r(7437);const _=function(e){var t=e.provider,r=e.icon,i=e.onSelect,s=e.pro;return(0,w.Y)(g.Flex,{direction:"column",gap:"14px",onClick:i},(0,w.Y)(g.Flex,{css:(0,d.AH)(n||(n=(0,m.A)(["\n          width: 80px;\n          min-width: 80px;\n          height: 80px;\n          border: 1px solid #dddddd;\n          border-radius: 4px;\n          position: relative;\n          &:hover {\n            cursor: pointer;\n            border-color: #007cba;\n            box-shadow: 0px 5px 9px 0px #00000012;\n          }\n        "]))),justify:"center",align:"center"},s&&(0,w.Y)("div",{css:(0,d.AH)(o||(o=(0,m.A)(["\n              position: absolute;\n              top: 0;\n              right: 0;\n              .presto-player__pro-badge {\n                margin: 4px;\n              }\n            "])))},(0,w.Y)(b.A,null)),r),(0,w.Y)(g.Flex,{justify:"center",css:(0,d.AH)(a||(a=(0,m.A)(["\n          height: 20px;\n        "])))},(0,w.Y)("p",{css:(0,d.AH)(l||(l=(0,m.A)(["\n            font-weight: 500;\n            font-size: 14px;\n            margin: 0px !important;\n          "])))},t)))},k={mediaHubBlock:(0,w.Y)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,w.Y)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"#007CBA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,w.Y)("path",{d:"M10 8L16 12L10 16V8Z",stroke:"#007CBA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),video:(0,w.Y)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,w.Y)("path",{d:"M23 7L16 12L23 17V7Z",stroke:"#007CBA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,w.Y)("path",{d:"M14 5H3C1.89543 5 1 5.89543 1 7V17C1 18.1046 1.89543 19 3 19H14C15.1046 19 16 18.1046 16 17V7C16 5.89543 15.1046 5 14 5Z",stroke:"#007CBA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),bunny:(0,w.Y)("svg",{width:"29",height:"32",viewBox:"0 0 29 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,w.Y)("path",{d:"M15.734 5.13223L23.1293 9.14822L16.2959 0C15.7536 0.727851 15.4155 1.58737 15.3167 2.48967C15.2179 3.39196 15.362 4.30427 15.734 5.13223Z",fill:"#007CBA"}),(0,w.Y)("path",{d:"M12.3923 20.0273C12.8394 20.0273 13.2682 20.2049 13.5843 20.5211C13.9004 20.8372 14.078 21.266 14.078 21.7131C14.078 22.1601 13.9004 22.5889 13.5843 22.905C13.2682 23.2212 12.8394 23.3988 12.3923 23.3988C11.9452 23.3988 11.5165 23.2212 11.2003 22.905C10.8842 22.5889 10.7066 22.1601 10.7066 21.7131C10.7066 21.266 10.8842 20.8372 11.2003 20.5211C11.5165 20.2049 11.9452 20.0273 12.3923 20.0273Z",fill:"#007CBA"}),(0,w.Y)("path",{d:"M7.24523 1.34112L27.9541 12.5798C28.1234 12.6622 28.2662 12.7905 28.366 12.9502C28.4658 13.1098 28.5188 13.2943 28.5188 13.4826C28.5188 13.6709 28.4658 13.8554 28.366 14.015C28.2662 14.1747 28.1234 14.303 27.9541 14.3854C26.3879 15.3278 24.6726 15.9967 22.8818 16.3633L18.5736 25.2046C18.5736 25.2046 17.2102 28.3065 13.4564 27.1152C15.0298 25.5418 16.9328 24.1181 16.9328 21.6983C16.9328 19.1865 14.8966 17.1505 12.385 17.1505C9.87326 17.1505 7.83728 19.1865 7.83728 21.6983C7.83728 24.86 10.9539 26.1935 12.6848 28.3889C13.0629 28.9242 13.2448 29.5735 13.1997 30.2273C13.1547 30.8811 12.8855 31.4993 12.4375 31.9777C10.287 29.85 6.12878 26.261 4.42049 23.9084C3.48655 22.7223 2.97267 21.2597 2.95944 19.7501C3.04152 18.1438 3.61631 16.6017 4.60566 15.3336C5.595 14.0655 6.95089 13.1328 8.48898 12.6624C9.43233 12.3876 10.4142 12.2686 11.3959 12.3102C12.7648 12.4139 14.0944 12.8153 15.292 13.4865C17.1278 14.5654 18.0193 14.2807 19.2854 13.2169C20.0347 12.6025 20.8512 10.6019 19.5851 10.1374C19.1712 10.0024 18.7481 9.89728 18.319 9.8229C15.9664 9.36574 11.8531 8.93113 10.3395 8.06951C7.93444 6.74335 6.31616 4.0084 7.24523 1.34112Z",fill:"#007CBA"}),(0,w.Y)("path",{d:"M16.8955 21.7204C17.8545 16.6781 12.737 11.868 8.81099 12.5871L9.07341 12.5272C8.86348 12.5721 8.66135 12.6248 8.46639 12.6847C6.92835 13.1551 5.5725 14.0878 4.5832 15.356C3.5939 16.6241 3.01914 18.1662 2.93707 19.7724C2.96099 21.2865 3.48823 22.7495 4.43564 23.9307C6.14371 26.2833 10.302 29.8723 12.4525 32C12.9004 31.5217 13.1696 30.9034 13.2147 30.2496C13.2597 29.5958 13.0778 28.9465 12.6997 28.4112C10.9313 26.2235 7.81448 24.8823 7.81448 21.728C7.81448 19.2162 9.85089 17.1802 12.3625 17.1802C14.8742 17.1802 16.9102 19.2162 16.9102 21.728L16.8955 21.7204Z",fill:"#007CBA"}),(0,w.Y)("path",{d:"M7.24522 1.34112L22.9791 9.91247L23.4287 10.1597C23.8035 10.4518 24.178 11.0363 23.6911 12.1152C22.9418 13.7261 19.9449 15.2846 16.4908 14.0631C17.5697 14.3778 18.3038 14.0182 19.2481 13.2241C19.9972 12.6097 20.8139 10.6093 19.5476 10.1445C19.1336 10.0095 18.7105 9.90444 18.2815 9.83006C15.9289 9.3729 11.8155 8.93851 10.302 8.07688C7.93443 6.74313 6.31593 4.0084 7.24522 1.34112Z",fill:"#007CBA"}),(0,w.Y)("path",{d:"M7.24515 1.34112C8.87102 7.33497 18.7685 7.82965 23.7283 10.3321L7.24515 1.34112Z",fill:"#007CBA"}),(0,w.Y)("path",{d:"M12.6623 28.4112C10.9316 26.2234 7.81458 24.8823 7.81458 21.7279C7.82347 19.4402 9.53045 17.5152 11.8006 17.2324C8.18499 17.2448 5.25703 20.1728 5.24467 23.7884C5.24402 24.2313 5.28912 24.6733 5.37956 25.107C6.81068 26.7253 8.87854 28.6359 10.6243 30.2542C11.3062 30.8911 11.9355 31.4903 12.4526 32C12.8827 31.5015 13.1448 30.8802 13.2016 30.2243C13.2426 29.5751 13.0514 28.9325 12.6623 28.4112Z",fill:"#007CBA"}),(0,w.Y)("path",{d:"M16.873 22.26C16.8966 22.081 16.9092 21.9008 16.9105 21.7204C17.8545 16.6782 12.737 11.868 8.81105 12.5871C9.64941 12.3846 10.5118 12.2989 11.3736 12.3325C16.5208 12.5422 17.9593 18.0416 16.873 22.26Z",fill:"#007CBA"}),(0,w.Y)("path",{d:"M1.69332 11.1189C2.14306 11.1209 2.57371 11.3009 2.89105 11.6196C3.2084 11.9383 3.38659 12.3697 3.38664 12.8194V14.5127H1.69332C1.47095 14.5127 1.25076 14.4689 1.04531 14.3838C0.839872 14.2987 0.653201 14.174 0.495962 14.0168C0.338723 13.8595 0.213994 13.6729 0.128896 13.4674C0.043799 13.262 0 13.0418 0 12.8194C-4.22733e-06 12.3696 0.178163 11.9382 0.495512 11.6194C0.812861 11.3007 1.24355 11.1209 1.69332 11.1189Z",fill:"#007CBA"})),youtube:(0,w.Y)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,w.Y)("path",{d:"M22.54 6.42C22.4212 5.94541 22.1793 5.51057 21.8387 5.15941C21.498 4.80824 21.0708 4.55318 20.6 4.42C18.88 4 12 4 12 4C12 4 5.12 4 3.4 4.46C2.92925 4.59318 2.50198 4.84824 2.16135 5.19941C1.82072 5.55057 1.57879 5.98541 1.46 6.46C1.14521 8.20556 0.991235 9.97631 0.999999 11.75C0.988779 13.537 1.14277 15.3213 1.46 17.08C1.59096 17.5398 1.83831 17.9581 2.17814 18.2945C2.51798 18.6308 2.93882 18.8738 3.4 19C5.12 19.46 12 19.46 12 19.46C12 19.46 18.88 19.46 20.6 19C21.0708 18.8668 21.498 18.6118 21.8387 18.2606C22.1793 17.9094 22.4212 17.4746 22.54 17C22.8524 15.2676 23.0063 13.5103 23 11.75C23.0112 9.96295 22.8572 8.1787 22.54 6.42Z",stroke:"#007CBA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,w.Y)("path",{d:"M9.75 15.02L15.5 11.75L9.75 8.48V15.02Z",stroke:"#007CBA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),vimeo:(0,w.Y)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,w.Y)("g",{clipPath:"url(#clip0_1_30)"},(0,w.Y)("path",{d:"M22.875 10.063C20.433 15.28 14.538 22.382 10.812 22.382C7.14 22.382 6.609 14.551 4.604 9.339C3.617 6.774 2.98 7.363 1.13 8.658L0.0019989 7.203C2.7 4.831 5.4 2.076 7.059 1.923C8.927 1.744 10.077 3.021 10.507 5.755C11.075 9.348 11.869 14.925 13.255 14.925C14.335 14.925 16.996 10.501 17.133 8.919C17.376 6.603 15.43 6.533 13.741 7.256C16.414 -1.498 27.534 0.113998 22.875 10.063Z",stroke:"#007CBA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),(0,w.Y)("defs",null,(0,w.Y)("clipPath",{id:"clip0_1_30"},(0,w.Y)("rect",{width:"24",height:"24",fill:"white"})))),audio:(0,w.Y)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,w.Y)("path",{d:"M9 18V5L21 3V16",stroke:"#007CBA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,w.Y)("path",{d:"M6 21C7.65685 21 9 19.6569 9 18C9 16.3431 7.65685 15 6 15C4.34315 15 3 16.3431 3 18C3 19.6569 4.34315 21 6 21Z",stroke:"#007CBA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,w.Y)("path",{d:"M18 19C19.6569 19 21 17.6569 21 16C21 14.3431 19.6569 13 18 13C16.3431 13 15 14.3431 15 16C15 17.6569 16.3431 19 18 19Z",stroke:"#007CBA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),chevron:(0,w.Y)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,w.Y)("path",{d:"M4.5 6.75L9 11.25L13.5 6.75",stroke:"#959090",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),line:(0,w.Y)("svg",{width:"241",height:"1",viewBox:"0 0 241 1",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,w.Y)("line",{x1:"-4.37114e-08",y1:"0.5",x2:"241",y2:"0.499979",stroke:"#DDDDDD"}))};var x,A,Y;const C=function(e){var t=e.icon;return(0,w.Y)(g.Flex,{align:"center",css:(0,d.AH)(x||(x=(0,m.A)(["\n        max-width: 100%;\n      "])))},(0,w.Y)("span",{css:(0,d.AH)(A||(A=(0,m.A)(["\n          display: flex;\n          max-width: 210px;\n        "])))},t),(0,w.Y)("span",null,(0,h.__)("or","presto-player")),(0,w.Y)("span",{css:(0,d.AH)(Y||(Y=(0,m.A)(["\n          display: flex;\n          max-width: 210px;\n        "])))},t))};var P,S,O,E,$,N,T,j,R=r(3510),I=r(3420);const B=function(e){var t=e.loading,r=e.onSelect,n=e.onSelectMedia,o=void 0===n?null:n,a=e.providers,l=void 0===a?[]:a,i=(0,f.useDispatch)().dispatch;return t?(0,d.Y)(g.Placeholder,{css:(0,d.AH)(P||(P=(0,m.A)(["\n          &.components-placeholder {\n            padding: 16px;\n          }\n        "])))},(0,d.Y)(g.Spinner,null)):(0,d.Y)(g.Placeholder,{css:(0,d.AH)(S||(S=(0,m.A)(["\n        &.components-placeholder {\n          padding: 32px;\n        }\n      "]))),label:(0,d.Y)(React.Fragment,null,(0,d.Y)(g.Flex,{direction:"column",css:(0,d.AH)(O||(O=(0,m.A)(["\n              margin-bottom: 4px;\n            "]))),gap:"16px"},(0,d.Y)(g.Flex,{justify:"flex-start"},null==k?void 0:k.mediaHubBlock,(0,d.Y)("h1",{css:(0,d.AH)(E||(E=(0,m.A)(["\n                  font-size: 24px !important;\n                  font-weight: 500 !important;\n                  margin: 0px !important;\n                "])))},(0,h.__)("Presto Player","presto-player"))),(0,d.Y)(g.Flex,null,(0,d.Y)("p",{css:(0,d.AH)($||($=(0,m.A)(["\n                  font-size: 14px !important;\n                  font-weight: 300 !important;\n                  margin: 0px !important;\n                "])))},(0,h.__)("Choose a video type to get started.","presto-player")))))},(0,d.Y)(g.Flex,{direction:"column",css:(0,d.AH)(N||(N=(0,m.A)(["\n          max-width: 540px;\n          width: 100%;\n        "]))),gap:"20px"},(0,d.Y)(g.Flex,{justify:"start",css:(0,d.AH)(T||(T=(0,m.A)(["\n            width: 100%;\n            max-width: 100%;\n          "]))),wrap:"wrap",gap:"20px"},(l||[]).map(function(e){return(0,d.Y)(g.FlexItem,{key:null==e?void 0:e.id},(0,d.Y)(_,{provider:null==e?void 0:e.name,onSelect:function(){return null!=e&&e.hasAccess?r(null==e?void 0:e.id):i("presto-player/player").setProModal(!0)},icon:null==e?void 0:e.icon,pro:(null==e?void 0:e.premium)&&!(null!=e&&e.hasAccess)}))})),o&&(0,d.Y)(React.Fragment,null,(0,d.Y)(C,{icon:k.line}),(0,d.Y)(g.Flex,null,(0,d.Y)(R.A,{popoverProps:{placement:"bottom-start"},onSelect:function(e){var t=e.id;return o(t)},renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return(0,d.Y)(g.Button,{variant:"primary",onClick:r,"aria-expanded":t},(0,h.__)("Select media","presto-player"))},renderItem:function(e){var t,r,n,o=e.item,a=e.onSelect,l=o.id,i=o.title,s=o.details||{},c=s.type,u=s.name,p=(null==o||null===(t=o._embedded)||void 0===t||null===(r=t["wp:featuredmedia"])||void 0===r||null===(n=r[0])||void 0===n?void 0:n.source_url)||"";return(0,d.Y)(g.MenuItem,{icon:(0,d.Y)(I.A,{thumbnail:p,type:c}),iconPosition:"left",suffix:c?u:(0,h.__)("Choose media","presto-player"),onClick:function(){return a(o)},key:l,css:(0,d.AH)(j||(j=(0,m.A)(["\n                        .components-menu-item__item {\n                          white-space: nowrap;\n                          overflow: hidden;\n                          text-overflow: ellipsis;\n                          display: inline-block;\n                          text-align: left;\n                        }\n                      "])))},i||(0,h.__)("Untitled","presto-player"))}})))))},L=function(e){var t,r=e.onSyncedMediaCreated,n=e.onSelect,o=e.onSelectMedia,a=e.sync,l=void 0!==a&&a,u=(0,f.useDispatch)(y.store).saveEntityRecord,m=(0,f.useDispatch)(v.store).createErrorNotice,g=(0,c.useState)(!1),b=(0,s.A)(g,2),w=b[0],_=b[1],x=[{id:"self-hosted",name:(0,h.__)("Video","presto-player"),icon:null==k?void 0:k.video,premium:!1,hasAccess:!0},{id:"youtube",name:(0,h.__)("YouTube","presto-player"),icon:null==k?void 0:k.youtube,premium:!1,hasAccess:!0},{id:"vimeo",name:(0,h.__)("Vimeo","presto-player"),icon:null==k?void 0:k.vimeo,premium:!1,hasAccess:!0},{id:"audio",name:(0,h.__)("Audio","presto-player"),icon:null==k?void 0:k.audio,premium:!1,hasAccess:!0},{id:"bunny",name:(0,h.__)("Bunny.net","presto-player"),icon:null==k?void 0:k.bunny,premium:!0,hasAccess:!(null===(t=prestoPlayer)||void 0===t||!t.isPremium)}],A=function(){var e=(0,i.A)(p().mark(function e(t){var n,o;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,_(!0),e.next=6,u("postType","pp_video_block",{status:"publish",content:'\x3c!-- wp:presto-player/reusable-edit --\x3e\n            <div class="wp-block-presto-player-reusable-edit">\x3c!-- wp:presto-player/'.concat(t," /--\x3e</div>\n            \x3c!-- /wp:presto-player/reusable-edit --\x3e")},{throwOnError:!0});case 6:n=e.sent,o=n.id,r&&r(o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),m((null===e.t0||void 0===e.t0?void 0:e.t0.message)||(0,h.__)("Something went wrong","presto-player"));case 14:return e.prev=14,_(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[2,11,14,17]])}));return function(_x){return e.apply(this,arguments)}}();return(0,d.Y)(B,{loading:w,onSelect:function(e){l?A(e):n(e)},onSelectMedia:o,providers:x})}},9417:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{A:()=>n})},9484:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},9491:e=>{"use strict";e.exports=window.wp.compose},9503:(e,t,r)=>{"use strict";r.d(t,{MY:()=>a,r1:()=>o});var n=r(9735);function o(e){var t=(0,n.FK)(e);return function(r,n,o,a){for(var l="",i=0;i<t;i++)l+=e[i](r,n,o,a)||"";return l}}function a(e){return function(t){t.root||(t=t.return)&&e(t)}}},9593:(e,t,r)=>{"use strict";r.d(t,{E:()=>v,T:()=>p,c:()=>f,h:()=>s,w:()=>u});var n=r(1609),o=r(5815),a=r(3942),l=r(460),i=r(1287),s={}.hasOwnProperty,c=(0,n.createContext)("undefined"!=typeof HTMLElement?(0,o.A)({key:"css"}):null);c.Provider;var u=function(e){return(0,n.forwardRef)(function(t,r){var o=(0,n.useContext)(c);return e(t,o,r)})},p=(0,n.createContext)({}),d="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var r={};for(var n in t)s.call(t,n)&&(r[n]=t[n]);return r[d]=e,r},y=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return(0,a.SF)(t,r,n),(0,i.s)(function(){return(0,a.sk)(t,r,n)}),null},v=u(function(e,t,r){var o=e.css;"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var i=e[d],c=[o],u="";"string"==typeof e.className?u=(0,a.Rk)(t.registered,c,e.className):null!=e.className&&(u=e.className+" ");var f=(0,l.J)(c,void 0,(0,n.useContext)(p));u+=t.key+"-"+f.name;var v={};for(var h in e)s.call(e,h)&&"css"!==h&&h!==d&&(v[h]=e[h]);return v.ref=r,v.className=u,(0,n.createElement)(n.Fragment,null,(0,n.createElement)(y,{cache:t,serialized:f,isStringTag:"string"==typeof i}),(0,n.createElement)(i,v))})},9626:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}},9715:(e,t,r)=>{"use strict";r.d(t,{Ye:()=>c,ZC:()=>l,jy:()=>u,ou:()=>i,sO:()=>p,wG:()=>s});var n=wp.element,o=n.useRef,a=n.useEffect;function l(e){var t=o();return a(function(){t.current=e}),t.current}function i(e){var t=e.status,r=void 0===t?"success":t,n=e.message;wp.data.dispatch("core/notices").createNotice(r,n,{type:"snackbar"})}function s(e){var t,r=e.split(":");return r.length>1&&(t=60*parseInt(r[0])),parseInt(r[1])+parseInt(t)}function c(e){var t=parseInt(e,10),r=Math.floor(t/60);return t<10&&(t="0"+t),r+":"+t}function u(e){var t=e;if(!(t=t.replace(/[^\d\d:\d\d.-]/g,"")).includes(":"))return"".concat(t,":00");0===t.substr(0,t.indexOf(":")).length&&(t="0".concat(t));var r=t.indexOf(":");return t.substring(0,r+3)}function p(e){if(e){if(e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})(?:\S+)?$/))return"youtube";if(e.match(/(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/([a-z]*\/)*([‌​0-9]{6,11})[?]?.*/))return"vimeo";if(e.indexOf("https://vz-")>-1&&e.indexOf("b-cdn.net")>-1)return"bunny";if(e.indexOf(".mp3")>-1)return"audio"}return"self-hosted"}},9718:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(6874),o=r(7272),a=(t=e.exports={}).re=[],l=t.src=[],i=t.t={};let s=0;const c=(e,t,r)=>{const n=s++;o(e,n,t),i[e]=n,l[n]=t,a[n]=new RegExp(t,r?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${l[i.NUMERICIDENTIFIER]})\\.(${l[i.NUMERICIDENTIFIER]})\\.(${l[i.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${l[i.NUMERICIDENTIFIERLOOSE]})\\.(${l[i.NUMERICIDENTIFIERLOOSE]})\\.(${l[i.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${l[i.NUMERICIDENTIFIER]}|${l[i.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${l[i.NUMERICIDENTIFIERLOOSE]}|${l[i.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${l[i.PRERELEASEIDENTIFIER]}(?:\\.${l[i.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${l[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[i.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${l[i.BUILDIDENTIFIER]}(?:\\.${l[i.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${l[i.MAINVERSION]}${l[i.PRERELEASE]}?${l[i.BUILD]}?`),c("FULL",`^${l[i.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${l[i.MAINVERSIONLOOSE]}${l[i.PRERELEASELOOSE]}?${l[i.BUILD]}?`),c("LOOSE",`^${l[i.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${l[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${l[i.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${l[i.XRANGEIDENTIFIER]})(?:\\.(${l[i.XRANGEIDENTIFIER]})(?:\\.(${l[i.XRANGEIDENTIFIER]})(?:${l[i.PRERELEASE]})?${l[i.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${l[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[i.XRANGEIDENTIFIERLOOSE]})(?:${l[i.PRERELEASELOOSE]})?${l[i.BUILD]}?)?)?`),c("XRANGE",`^${l[i.GTLT]}\\s*${l[i.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${l[i.GTLT]}\\s*${l[i.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),c("COERCERTL",l[i.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${l[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${l[i.LONETILDE]}${l[i.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${l[i.LONETILDE]}${l[i.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${l[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${l[i.LONECARET]}${l[i.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${l[i.LONECARET]}${l[i.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${l[i.GTLT]}\\s*(${l[i.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${l[i.GTLT]}\\s*(${l[i.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${l[i.GTLT]}\\s*(${l[i.LOOSEPLAIN]}|${l[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${l[i.XRANGEPLAIN]})\\s+-\\s+(${l[i.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${l[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[i.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},9735:(e,t,r)=>{"use strict";r.d(t,{BC:()=>v,Bq:()=>i,FK:()=>y,HC:()=>c,HT:()=>o,K5:()=>u,YW:()=>s,b2:()=>f,c1:()=>d,kg:()=>h,kp:()=>a,tW:()=>l,tn:()=>n,wN:()=>p});var n=Math.abs,o=String.fromCharCode,a=Object.assign;function l(e,t){return 45^p(e,0)?(((t<<2^p(e,0))<<2^p(e,1))<<2^p(e,2))<<2^p(e,3):0}function i(e){return e.trim()}function s(e,t){return(e=t.exec(e))?e[0]:e}function c(e,t,r){return e.replace(t,r)}function u(e,t){return e.indexOf(t)}function p(e,t){return 0|e.charCodeAt(t)}function d(e,t,r){return e.slice(t,r)}function f(e){return e.length}function y(e){return e.length}function v(e,t){return t.push(e),e}function h(e,t){return e.map(t).join("")}},9915:(e,t,r)=>{"use strict";r.d(t,{h:()=>v});var n=r(2284),o=r(3029),a=r(2901),l=r(5501),i=r(6822),s=r(3954),c=r(1609),u=r.n(c),p=r(6015),d=r(1232),f=r(8854);function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}var v=function(e,t,r,v){void 0!==v&&v();var h=(0,d.S)(e),m=function(t){(0,l.A)(g,t);var u,v,m=(u=g,v=y(),function(){var e,t=(0,s.A)(u);if(v){var r=(0,s.A)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,i.A)(this,e)});function g(e){var t;return(0,o.A)(this,g),(t=m.call(this,e)).setComponentElRef=function(e){t.componentEl=e},t}return(0,a.A)(g,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){(0,p.Y6)(this.componentEl,this.props,e)}},{key:"render",value:function(){var t=this.props,o=t.children,a=t.forwardedRef,l=t.style,i=(t.className,t.ref,function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["children","forwardedRef","style","className","ref"])),s=Object.keys(i).reduce(function(e,t){var r=i[t];if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){var o=t.substring(2).toLowerCase();"undefined"!=typeof document&&(0,p.t$)(o)&&(e[t]=r)}else{var a=(0,n.A)(r);"string"!==a&&"boolean"!==a&&"number"!==a||(e[(0,d.e)(t)]=r)}return e},{});r&&(s=r(this.props,s));var u=Object.assign(Object.assign({},s),{ref:(0,f.Px)(a,this.setComponentElRef),style:l});return(0,c.createElement)(e,u,o)}}],[{key:"displayName",get:function(){return h}}]),g}(u().Component);return t&&(m.contextType=t),(0,f.BH)(m,h)}},9922:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2284),o=r(2327);function a(e){var t=(0,o.A)(e,"string");return"symbol"===(0,n.A)(t)?t:String(t)}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.m=r,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((t,r)=>(o.f[r](e,t),t),[])),o.u=e=>e+".js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@presto-player/presto-player:",o.l=(r,n,a,l)=>{if(e[r])e[r].push(n);else{var i,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var p=c[u];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+a){i=p;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[n];var d=(t,n)=>{i.onerror=i.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),s&&document.head.appendChild(i)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=617,(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={617:0};o.f.j=(t,r)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise((r,o)=>n=e[t]=[r,o]);r.push(n[2]=a);var l=o.p+o.u(t),i=new Error;o.l(l,r=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),l=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+l+")",i.name="ChunkLoadError",i.type=a,i.request=l,n[1](i)}},"chunk-"+t,t)}};var t=(t,r)=>{var n,a,l=r[0],i=r[1],s=r[2],c=0;if(l.some(t=>0!==e[t])){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);s&&s(o)}for(t&&t(r);c<l.length;c++)a=l[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunk_presto_player_presto_player=self.webpackChunk_presto_player_presto_player||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};o.r(e),o.d(e,{branding:()=>_,getAudioPresets:()=>y,getDefaultAudioPreset:()=>b,getDefaultPreset:()=>g,getPreset:()=>v,getPresets:()=>f,getReusableVideo:()=>m,getReusableVideos:()=>h,playerCSS:()=>k,presetsLoading:()=>w,proModal:()=>A,youtube:()=>x});var t={};o.r(t),o.d(t,{addAudioPreset:()=>L,addPreset:()=>j,addVideo:()=>N,appendVideos:()=>$,fetchFromAPI:()=>z,fetchFromWPAPI:()=>G,fetchOptions:()=>U,removeAudioPreset:()=>M,removePreset:()=>I,saveOptions:()=>V,setAudioPresets:()=>B,setBranding:()=>F,setPresetAudioSettings:()=>X,setPresetLoading:()=>C,setPresetSettings:()=>q,setPresets:()=>T,setProModal:()=>S,setVideos:()=>O,setVideosLoading:()=>P,setYoutube:()=>W,updateAudioPreset:()=>D,updateBranding:()=>H,updatePreset:()=>R,updateVideos:()=>E,updateYoutube:()=>Z}),o(6087);var r=o(4467),n=o(5458),a=o(7143),l=o(1455),i=o.n(l),s=o(8468);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=function(e,t){return e.find(function(e){return e.id===t.id})?e:[].concat((0,n.A)(e),[t])};const d=(0,a.combineReducers)({presetReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRESET":return t.value;case"ADD_PRESET":return[].concat((0,n.A)(e),[t.value]);case"UPDATE_PRESET":return e.map(function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:u(u({},e),t.value)});case"REMOVE_PRESET":return e.filter(function(e){return e!==t.value})}return e},audioPresetReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUDIO_PRESET":case"SET_AUDIO_PRESET":return t.value;case"ADD_AUDIO_PRESET":return[].concat((0,n.A)(e),[t.value]);case"UPDATE_AUDIO_PRESET":return e.map(function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:u(u({},e),t.value)});case"REMOVE_AUDIO_PRESET":return e.filter(function(e){return e!==t.value})}return e},presetLoadingReducer:function(){var e=arguments.length>1?arguments[1]:void 0;if("SET_PRESET_LOADING"===e.type)return e.value},videosLoadingReducer:function(){var e=arguments.length>1?arguments[1]:void 0;if("SET_VIDEOS_LOADING"===e.type)return e.value},videosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{total:0,total_pages:0,videos:[],hasResolved:!1,isError:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIDEOS":return t.value;case"UPDATE_VIDEOS":return u(u({},e),t.value);case"APPEND_VIDEOS":var r=e;return(t.value||[]).forEach(function(e){r.videos=p(r.videos,e)}),r;case"ADD_VIDEO":return u(u({},e),{},{videos:p(e.videos,t.value)});case"UPDATE_VIDEO":return u(u({},e),{},{videos:e.videos.map(function(e,r){var n;return e.id!==(null===(n=t.value)||void 0===n?void 0:n.id)?e:u(u({},e),t.value)})});case"REMOVE_VIDEO":return u(u({},e),{},{videos:e.videos.filter(function(e){return e!==t.value})})}return e},proModalReducer:function(){var e=arguments.length>1?arguments[1]:void 0;if("SET_PRO_MODAL"===e.type)return e.value},brandingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BRANDING":return t.value;case"UPDATE_BRANDING":return u(u({},e),{},(0,r.A)({},t.name,t.value))}return e},youtubeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_YOUTUBE":return t.value;case"UPDATE_YOUTUBE":return u(u({},e),{},(0,r.A)({},t.name,t.value))}return e},presetSettingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_PRESET_SETTINGS"===t.type?t.value:e},optionsApi:function(e,t){switch(t.type){case"FETCH_OPTIONS":return i()({path:"/presto-player/v1/settings/"}).then(function(e){(0,a.dispatch)("presto-player/player").setBranding(e.presto_player_branding),(0,a.dispatch)("presto-player/player").setYoutube(e.presto_player_youtube),(0,a.dispatch)("presto-player/player").setPresetSettings(e.presto_player_presets),(0,a.dispatch)("presto-player/player").setPresetAudioSettings(e.presto_player_audio_presets)});case"SAVE_OPTIONS":var r={presto_player_branding:(0,s.pick)(null==t?void 0:t.branding,["logo","color","logo_width","player_css"])};return Object.keys(r).forEach(function(e){return(null==r[e]||!Object.keys((null==r?void 0:r[e])||{}).length)&&delete r[e]}),i()({path:"/presto-player/v1/settings",method:"POST",data:r}),r}},audioPresetSettingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_PRESET_AUDIO_SETTINGS"===t.type?t.value:e}});function f(e){return(null==e?void 0:e.presetReducer)||[]}function y(e){return(null==e?void 0:e.audioPresetReducer)||[]}function v(e,t){var r;return null!=e&&null!==(r=e.presetReducer)&&void 0!==r&&r.length?null==e?void 0:e.presetReducer.find(function(e){return e.id===t}):[]}function h(e){return(null==e?void 0:e.videosReducer)||[]}function m(e,t){var r,n;return(null==e||null===(r=e.videosReducer)||void 0===r||null===(n=r.videos)||void 0===n?void 0:n.find(function(e){return(null==e?void 0:e.id)===t}))||[]}function g(e){var t,r=null==e||null===(t=e.presetSettingsReducer)||void 0===t?void 0:t.default_player_preset,n=r&&((null==e?void 0:e.presetReducer)||[]).find(function(e){return e.id&&e.id===r});return n||(n=((null==e?void 0:e.presetReducer)||[]).find(function(e){return"default"==e.slug})),n||(n=((null==e?void 0:e.presetReducer)||[])[0]),n}function b(e){var t,r=null==e||null===(t=e.audioPresetSettingsReducer)||void 0===t?void 0:t.default_player_preset,n=r&&((null==e?void 0:e.audioPresetReducer)||[]).find(function(e){return e.id&&e.id===r});return n||(n=((null==e?void 0:e.audioPresetReducer)||[]).find(function(e){return"default"==e.slug})),n||(n=((null==e?void 0:e.audioPresetReducer)||[])[0]),n}function w(e){return!(null==e||!e.presetLoadingReducer)}function _(e){return null==e?void 0:e.brandingReducer}function k(e){var t;return null==e||null===(t=e.brandingReducer)||void 0===t?void 0:t.player_css}function x(e){return null==e?void 0:e.youtubeReducer}function A(e){return null==e?void 0:e.proModalReducer}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){return{type:"SET_PRESET_LOADING",value:e}}function P(e){return{type:"SET_VIDEOS_LOADING",value:e}}function S(e){return{type:"SET_PRO_MODAL",value:e}}function O(e){return{type:"SET_VIDEOS",value:e}}function E(e){return{type:"UPDATE_VIDEOS",value:e}}function $(e){return{type:"APPEND_VIDEOS",value:e}}function N(e){return{type:"ADD_VIDEO",value:e}}function T(e){return{type:"SET_PRESET",value:e}}function j(e){return{type:"ADD_PRESET",value:e}}function R(e){return{type:"UPDATE_PRESET",value:e}}function I(e){return{type:"REMOVE_PRESET",value:e}}function B(e){return{type:"SET_AUDIO_PRESET",value:e}}function L(e){return{type:"ADD_AUDIO_PRESET",value:e}}function D(e){return{type:"UPDATE_AUDIO_PRESET",value:e}}function M(e){return{type:"REMOVE_AUDIO_PRESET",value:e}}function F(e){return{type:"SET_BRANDING",value:e}}function H(e,t){return{type:"UPDATE_BRANDING",name:e,value:t}}function V(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({type:"SAVE_OPTIONS"},e)}function U(){return{type:"FETCH_OPTIONS"}}function z(e){return{type:"FETCH_FROM_API",path:e}}function G(e,t){return{type:"FETCH_FROM_WP_API",path:e,args:t}}function W(e){return{type:"SET_YOUTUBE",value:e}}function Z(e,t){return{type:"UPDATE_YOUTUBE",name:e,value:t}}function q(e){return{type:"SET_PRESET_SETTINGS",value:e}}function X(e){return{type:"SET_PRESET_AUDIO_SETTINGS",value:e}}var K=o(467),Q=o(9280),J=o.n(Q);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var re=wp.apiFetch;const ne={FETCH_FROM_API:function(e){return re({url:prestoPlayer.root+prestoPlayer.prestoVersionString+e.path})},FETCH_FROM_WP_API:function(e){return(0,K.A)(J().mark(function t(){var r,n,o,a,l,i,s;return J().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.args,n=e.path,o=void 0===n?"":n,t.next=3,re(te(te(te({path:wp.url.addQueryArgs("wp/v2/".concat(o),null==r?void 0:r.query)},null!=r&&r.data?{data:r.data}:{}),null==r?void 0:r.options),{},{parse:!1}));case 3:return a=t.sent,t.next=6,a.json();case 6:return l=t.sent,i=a.headers&&a.headers.get("X-WP-Total"),s=a.headers&&a.headers.get("X-WP-TotalPages"),t.abrupt("return",new Promise(function(e,t){e({data:l,total:i,total_pages:s})}));case 10:case"end":return t.stop()}},t)}))()}},oe={getPresets:J().mark(function e(){var t;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z("preset");case 2:return t=e.sent,e.abrupt("return",T(t));case 4:case"end":return e.stop()}},e)}),getAudioPresets:J().mark(function e(){var t;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z("audio-preset");case 2:return t=e.sent,e.abrupt("return",B(t));case 4:case"end":return e.stop()}},e)}),getReusableVideo:J().mark(function e(t){var r,n;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="presto-videos/".concat(t),e.next=3,G(r,{});case 3:return n=e.sent,e.abrupt("return",N((null==n?void 0:n.data)||{}));case 5:case"end":return e.stop()}},e)})};(0,wp.data.registerStore)("presto-player/player",{reducer:d,selectors:e,actions:t,controls:ne,resolvers:oe});var ae=o(5862),le=o(7437),ie=wp.components,se=ie.Modal,ce=ie.Button,ue=wp.data,pe=ue.dispatch,de=ue.useSelect,fe=o(2619),ye=o(9491),ve=o(9088),he=o(7723),me=o(4715),ge=o(6427),be=o(6741);const we=function(e){var t=e.open,r=e.setOpen;return(0,le.Y)(React.Fragment,null,(0,le.Y)(me.BlockControls,null,(0,le.Y)(ge.ToolbarGroup,null,(0,le.Y)(ge.ToolbarButton,{icon:be.A,label:t?(0,he.__)("Hide Popup","presto-player"):(0,he.__)("Show Popup","presto-player"),onClick:function(){return r(!t)},"aria-pressed":t}))))};var _e=(0,ye.createHigherOrderComponent)(function(e){return function(t){return(0,le.Y)(ve.A.Consumer,null,function(r){var n=r||{},o=n.open,a=n.setOpen;return(0,le.Y)(React.Fragment,null,r&&(0,le.Y)(we,{open:o,setOpen:a}),(0,le.Y)(e,t))})}},"withPopupPreviewToggle");(0,fe.addFilter)("editor.BlockEdit","presto-player/popup-preview-toggle",_e),o(1423);var ke=(0,ye.createHigherOrderComponent)(function(e){return function(t){var r=t.name,n=t.attributes,o=t.setAttributes;return"core/cover"!==r&&"core/image"!==r||"presto-popup-image-trigger"!==(null==n?void 0:n.className)&&"presto-popup-cover-trigger"!==(null==n?void 0:n.className)||null!=n&&n.url?(0,le.Y)(e,t):(0,le.Y)(ge.Placeholder,{icon:"format-image",label:(0,he.__)("Choose media","presto-player"),instructions:(0,he.__)("Select an image that will trigger the popup when clicked.","presto-player")},(0,le.Y)(me.MediaUploadCheck,null,(0,le.Y)(me.MediaUpload,{onSelect:function(e){null!=e&&e.url&&("core/cover"===r?o({url:null==e?void 0:e.url,id:null==e?void 0:e.id,customOverlayColor:"#131313",isUserOverlayColor:!0,dimRatio:50,minHeight:336,minHeightUnit:"px",contentPosition:"center center",layout:{type:"constrained"},style:{aspectRatio:"16/9",border:{radius:"5px"}}}):"core/image"===r&&o({url:null==e?void 0:e.url,id:null==e?void 0:e.id,alt:(null==e?void 0:e.alt)||"",style:{border:{radius:"8px"}}}))},allowedTypes:["image"],render:function(e){var t=e.open;return(0,le.Y)(ge.Button,{onClick:t,variant:"primary"},(0,he.__)("Add / Select Image","presto-player"))}})))}},"withPopupImageTriggerPlaceholder");(0,fe.addFilter)("editor.BlockEdit","presto-player/popup-image-trigger-placeholder",ke);var xe=o(5573),Ae=o(790);const Ye=(0,Ae.jsx)(xe.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Ae.jsx)(xe.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})}),Ce=(0,Ae.jsx)(xe.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,Ae.jsx)(xe.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.625 5.5h9.75c.069 0 .125.056.125.125v9.75a.125.125 0 0 1-.125.125h-9.75a.125.125 0 0 1-.125-.125v-9.75c0-.069.056-.125.125-.125ZM4 5.625C4 4.728 4.728 4 5.625 4h9.75C16.273 4 17 4.728 17 5.625v9.75c0 .898-.727 1.625-1.625 1.625h-9.75A1.625 1.625 0 0 1 4 15.375v-9.75Zm14.5 11.656v-9H20v9C20 18.8 18.77 20 17.251 20H6.25v-1.5h11.001c.69 0 1.249-.528 1.249-1.219Z"})});var Pe=(0,ye.createHigherOrderComponent)(function(e){return function(t){var r=t.name,n=t.attributes.prestoPopupTrigger,o=t.setAttributes;return"core/button"!==r?(0,le.Y)(e,t):(0,le.Y)(ve.A.Consumer,null,function(r){return(0,le.Y)(React.Fragment,null,(0,le.Y)(e,t),r&&(0,le.Y)(me.BlockControls,null,(0,le.Y)(ge.ToolbarGroup,null,(0,le.Y)(ge.ToolbarButton,{icon:n?Ye:Ce,onClick:function(){return o({prestoPopupTrigger:!n})},"aria-pressed":n},n?(0,he.__)("Remove as Popup Trigger","presto-player"):(0,he.__)("Use as Popup Trigger","presto-player")))))})}},"withPopupButtonTriggerUI");(0,fe.addFilter)("editor.BlockEdit","presto-player/popup-button-trigger-ui",Pe);var Se=wp.blocks,Oe=Se.registerBlockType,Ee=Se.unregisterBlockType,$e=wp.plugins,Ne=$e.registerPlugin,Te=$e.unregisterPlugin,je=wp.data,Re=je.select,Ie=je.dispatch,Be=wp.element.render,Le=function(){return null},De=function(e){var t=e.getContext,r=e.register,n=e.unregister,o=e.before,a=void 0===o?Le:o,l=e.after,i=void 0===l?Le:l,s={};!function(){a();var e=t(),o=[];e.keys().forEach(function(t){var a=e(t);a!==s[t]&&(s[t]&&n(s[t]),r(a),o.push(a.name),s[t]=a)}),i(o)}()},Me=null;De({getContext:function(){return o(5716)},register:function(e){var t,r=e.name,n=e.options;null!==(t=prestoPlayer)&&void 0!==t&&t.isPremium?Oe(r,n):n.premium||Oe(r,n)},unregister:function(e){var t=e.name;return Ee(t)},before:function(){Me=Re("core/editor").getSelectedBlockClientId(),Ie("core/editor").clearSelectedBlock()},after:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Re("core/editor").getBlocks().forEach(function(t){var r=t.name,n=t.clientId;e.includes(r)&&Ie("core/editor").selectBlock(n)}),Me?Ie("core/editor").selectBlock(Me):Ie("core/editor").clearSelectedBlock(),Me=null}}),De({getContext:function(){return o(7006)},register:function(e){var t=e.name,r=e.options;return Ne(t,r)},unregister:function(e){var t=e.name;return Te(t)}}),jQuery("body").append('<div id="presto-plugin-app"></div>'),Be((0,le.Y)(function(){return de(function(e){return e("presto-player/player").proModal()})?(0,le.Y)(se,{title:"Pro Feature",onRequestClose:function(){pe("presto-player/player").setProModal(!1)}},(0,le.Y)("h2",null,"Unlock Presto Player ",(0,le.Y)(ae.A,null)),(0,le.Y)("p",null,"Get this feature and more with the Pro version of Presto Player!"),(0,le.Y)(ce,{href:"https://prestoplayer.com",target:"_blank",isPrimary:!0},"Learn More")):""},null),document.getElementById("presto-plugin-app")),Ie("presto-player/player").fetchOptions(),wp.data.subscribe(function(){var e=wp.data.select("core/editor").getEditorSettings();null!=e&&e.onNavigateToPreviousEntityRecord&&"pp_video_block"===wp.data.select("core/editor").getCurrentPostType()?document.body.classList.add("is-editing-pp-video-block"):document.body.classList.remove("is-editing-pp-video-block")})})()})();