{"version":3,"file":"presto-search-bar-ui.entry.esm.js","sources":["src/components/core/features/presto-search-bar/ui/icons.tsx","src/components/core/features/presto-search-bar/ui/presto-search-bar-ui.scss?tag=presto-search-bar-ui&encapsulation=shadow","src/components/core/features/presto-search-bar/ui/presto-search-bar-ui.tsx"],"sourcesContent":["import { h } from '@stencil/core';\nexport const CloseIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n  </svg>\n);\nexport const NextIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <polyline points=\"9 18 15 12 9 6\"></polyline>\n  </svg>\n);\n\nexport const PrevIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <polyline points=\"15 18 9 12 15 6\"></polyline>\n  </svg>\n);\n\nexport const SearchIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"search-bar-icon\"\n  >\n    <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\n    <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"></line>\n  </svg>\n);\n",":host {\n  display: block;\n}\n\n.search-bar {\n  position: relative;\n  font-family: var(\n    --plyr-font-family,\n    'San Francisco',\n    -apple-system,\n    BlinkMacSystemFont,\n    '.SFNSText-Regular',\n    Avenir,\n    'Avenir Next',\n    'Helvetica Neue',\n    'Segoe UI',\n    Helvetica,\n    Arial,\n    sans-serif\n  );\n  font-size: 16px;\n  color: #ddd;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n\n  > * {\n    height: 41px;\n  }\n\n  &__controls {\n    display: flex;\n    align-items: stretch;\n    position: absolute;\n    right: 0;\n\n    svg {\n      display: block;\n      width: 25px;\n      height: 25px;\n    }\n  }\n\n  &__placeholder {\n    height: 0;\n    font-weight: bold;\n    visibility: hidden;\n    position: absolute;\n    transition: none;\n    white-space: nowrap;\n  }\n\n  input {\n    z-index: 1;\n    box-sizing: border-box;\n    background: transparent;\n    border: none;\n    color: #fff;\n    font-size: 16px;\n    transition: width 0.25s ease;\n    outline: none;\n    padding: 0;\n\n    &::placeholder {\n      color: #fff;\n    }\n  }\n\n  &__control-prev,\n  &__control-next,\n  &__control-clear {\n    opacity: 0;\n    visibility: hidden;\n    transition: 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);\n    transform-origin: center center;\n    padding: 0;\n    border: 0;\n    background: 0;\n    cursor: pointer;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    z-index: 1;\n  }\n\n  &__control-clear {\n    transform: scale(0.5);\n  }\n\n  &--is-active {\n    input {\n      width: 300px !important;\n      padding-right: 26px;\n    }\n\n    &.search-bar--has-navigation {\n      .search-bar__control-prev,\n      .search-bar__control-next {\n        opacity: 1;\n        visibility: visible;\n      }\n      input {\n        padding-right: 80px;\n      }\n    }\n\n    .search-bar__control-clear {\n      transform: scale(1);\n      opacity: 1;\n      visibility: visible;\n      cursor: pointer;\n    }\n  }\n\n  &__icon {\n    width: 20px;\n    height: 20px;\n    flex-grow: 0;\n    flex-shrink: 0;\n    cursor: pointer;\n\n    svg {\n      width: 20px;\n      height: 20px;\n    }\n  }\n}\n","import { Component, Event, EventEmitter, h, Prop, State, Watch } from '@stencil/core';\nimport { CloseIcon, PrevIcon, NextIcon, SearchIcon } from './icons';\n\n@Component({\n  tag: 'presto-search-bar-ui',\n  styleUrl: 'presto-search-bar-ui.scss',\n  shadow: true,\n})\nexport class PrestoSearchBarUi {\n  private placeholderElement: HTMLDivElement;\n  private input: HTMLInputElement;\n\n  /** The value for the search. */\n  @Prop({ mutable: true }) value: string;\n  /** The placeholder. */\n  @Prop() placeholder: string;\n  /** Has results */\n  @Prop() hasNavigation: boolean;\n\n  /** Is this focused */\n  @State() focused: boolean;\n  /** The placeholder width. */\n  @State() placeholderWidth: number;\n\n  /** Previous is navigated.*/\n  @Event() previousNav: EventEmitter<void>;\n  /** Next is navigated */\n  @Event() nextNav: EventEmitter<void>;\n  /** Search is performed */\n  @Event() search: EventEmitter<string>;\n  /** Search is performed */\n  @Event() focusChange: EventEmitter<boolean>;\n\n  /** Handle the search */\n  handleSearch(e) {\n    e.preventDefault();\n    this.value = e.target.value;\n  }\n\n  /** Handle the focus of the input. */\n  handleFocus() {\n    this.focused = true;\n  }\n\n  handleBlur() {\n    if (!this.value) {\n      this.focused = false;\n    }\n  }\n\n  componentDidLoad() {\n    this.handlePlaceholderSize();\n  }\n\n  @Watch('placeholder')\n  handlePlaceholderSize() {\n    setTimeout(() => {\n      this.placeholderWidth = this.placeholderElement.offsetWidth;\n    }, 50);\n  }\n\n  @Watch('value')\n  handleValueChange() {\n    this.search.emit(this.value);\n  }\n\n  @Watch('focused')\n  watchPropHandler(focus: boolean) {\n    this.focusChange.emit(focus);\n  }\n\n  handleClick() {\n    this.focused = true;\n    setTimeout(() => {\n      this.input.focus();\n    }, 50);\n  }\n\n  handleClear(e) {\n    e.preventDefault();\n    e.stopImmediatePropagation();\n    this.value = '';\n    this.focused = false;\n    return false;\n  }\n\n  handleNext(e) {\n    e.stopImmediatePropagation();\n    e.preventDefault();\n    this.nextNav.emit();\n  }\n\n  handlePrevious(e) {\n    e.stopImmediatePropagation();\n    e.preventDefault();\n    this.previousNav.emit();\n  }\n\n  /**\n   * Rendering the component\n   */\n  render() {\n    return (\n      <div\n        class={{\n          'search-bar': true,\n          'search-bar--is-active': this.focused || !!this.value,\n          'search-bar--has-navigation': this.hasNavigation,\n        }}\n        onClick={() => this.handleClick()}\n      >\n        <span class=\"search-bar__search-icon search-bar__icon\">\n          <SearchIcon />\n        </span>\n\n        <div class=\"search-bar__placeholder\" ref={el => (this.placeholderElement = el as HTMLDivElement)} aria-hidden>\n          {this.placeholder}\n        </div>\n\n        <input\n          type=\"text\"\n          value={this.value}\n          placeholder={this.placeholder}\n          ref={el => (this.input = el as HTMLInputElement)}\n          style={{ width: (this.placeholderWidth || 0) + 'px' }}\n          onInput={e => this.handleSearch(e)}\n          onFocus={() => this.handleFocus()}\n          onBlur={() => this.handleBlur()}\n        />\n\n        <span class=\"search-bar__controls\">\n          <span class=\"search-bar__control-prev\" onClick={e => this.handlePrevious(e)}>\n            <PrevIcon />\n          </span>\n          <span class=\"search-bar__control-next\" onClick={e => this.handleNext(e)}>\n            <NextIcon />\n          </span>\n          <div class=\"search-bar__control-clear\" onClick={e => this.handleClear(e)}>\n            <CloseIcon />\n          </div>\n        </span>\n      </div>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}